(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{XLLc:function(e,t,c){"use strict";c.r(t),c.d(t,"AddCountryToZoneDialogComponent",function(){return Ec}),c.d(t,"AdminDetailComponent",function(){return zc}),c.d(t,"AdministratorListComponent",function(){return Ic}),c.d(t,"AdministratorResolver",function(){return en}),c.d(t,"ChannelDetailComponent",function(){return Pc}),c.d(t,"ChannelListComponent",function(){return Fc}),c.d(t,"ChannelResolver",function(){return tn}),c.d(t,"CountryDetailComponent",function(){return xc}),c.d(t,"CountryListComponent",function(){return Dc}),c.d(t,"CountryResolver",function(){return cn}),c.d(t,"GlobalSettingsComponent",function(){return jc}),c.d(t,"GlobalSettingsResolver",function(){return nn}),c.d(t,"PaymentMethodDetailComponent",function(){return wc}),c.d(t,"PaymentMethodListComponent",function(){return Lc}),c.d(t,"PaymentMethodResolver",function(){return rn}),c.d(t,"PermissionGridComponent",function(){return Mc}),c.d(t,"ProfileComponent",function(){return Zc}),c.d(t,"ProfileResolver",function(){return sn}),c.d(t,"RoleDetailComponent",function(){return Ac}),c.d(t,"RoleListComponent",function(){return $c}),c.d(t,"RoleResolver",function(){return on}),c.d(t,"SettingsModule",function(){return Nn}),c.d(t,"ShippingEligibilityTestResultComponent",function(){return Nc}),c.d(t,"ShippingMethodDetailComponent",function(){return Rc}),c.d(t,"ShippingMethodListComponent",function(){return _c}),c.d(t,"ShippingMethodResolver",function(){return an}),c.d(t,"ShippingMethodTestResultComponent",function(){return qc}),c.d(t,"TaxCategoryDetailComponent",function(){return Uc}),c.d(t,"TaxCategoryListComponent",function(){return Gc}),c.d(t,"TaxCategoryResolver",function(){return ln}),c.d(t,"TaxRateDetailComponent",function(){return Vc}),c.d(t,"TaxRateListComponent",function(){return Hc}),c.d(t,"TaxRateResolver",function(){return dn}),c.d(t,"TestAddressFormComponent",function(){return Bc}),c.d(t,"TestOrderBuilderComponent",function(){return Qc}),c.d(t,"ZoneDetailDialogComponent",function(){return Wc}),c.d(t,"ZoneListComponent",function(){return Kc}),c.d(t,"ZoneMemberControlsDirective",function(){return Yc}),c.d(t,"ZoneMemberListComponent",function(){return Jc}),c.d(t,"ZoneMemberListHeaderDirective",function(){return Xc}),c.d(t,"administratorBreadcrumb",function(){return Dn}),c.d(t,"channelBreadcrumb",function(){return jn}),c.d(t,"countryBreadcrumb",function(){return Zn}),c.d(t,"paymentMethodBreadcrumb",function(){return $n}),c.d(t,"roleBreadcrumb",function(){return wn}),c.d(t,"settingsRoutes",function(){return xn}),c.d(t,"shippingMethodBreadcrumb",function(){return An}),c.d(t,"taxCategoryBreadcrumb",function(){return Ln}),c.d(t,"taxRateBreadcrumb",function(){return Mn}),c.d(t,"\u02750",function(){return mn}),c.d(t,"\u02751",function(){return un}),c.d(t,"\u027510",function(){return Tn}),c.d(t,"\u027511",function(){return Cn}),c.d(t,"\u027512",function(){return On}),c.d(t,"\u027513",function(){return Sn}),c.d(t,"\u027514",function(){return En}),c.d(t,"\u027515",function(){return zn}),c.d(t,"\u027516",function(){return In}),c.d(t,"\u027517",function(){return Pn}),c.d(t,"\u027518",function(){return Fn}),c.d(t,"\u02752",function(){return bn}),c.d(t,"\u02753",function(){return pn}),c.d(t,"\u02754",function(){return fn}),c.d(t,"\u02755",function(){return gn}),c.d(t,"\u02756",function(){return hn}),c.d(t,"\u02757",function(){return yn}),c.d(t,"\u02758",function(){return vn}),c.d(t,"\u02759",function(){return kn});var n=c("EM62"),i=c("ixhn"),r=c("YtkY"),s=c("J+dc"),o=c("cJ9h"),a=c("TLy2"),l=c("jIqt"),d=c("8j5Y"),m=c("w0kG"),u=c("kuMc"),b=c("Ohay"),p=c("7SLS"),f=c("nIj0"),g=c("sEIs"),h=c("OxKu"),y=c("Ui7s"),v=c("6Oco"),k=c("ZTXN"),T=c("HM3f"),C=c("ROBh"),O=c("g6G6"),S=c("hbhS"),E=c("qzMg"),z=c("2kYt"),I=c("s2Ay"),P=c("Kej3"),F=c("jY47"),x=c("E5oP");const D=function(e){return{zoneName:e}};function j(e,t){if(1&e&&(n.bd(0),n.yc(1,"translate")),2&e){const e=n.xc();n.cd(n.Ac(1,1,"settings.add-countries-to-zone",n.Ic(4,D,e.zoneName)))}}function w(e,t){if(1&e){const e=n.mc();n.lc(0,"button",3),n.vc("click",function(){n.Sc(e);return n.xc().cancel()}),n.bd(1),n.yc(2,"translate"),n.kc(),n.lc(3,"button",4),n.vc("click",function(){n.Sc(e);return n.xc().add()}),n.bd(4),n.yc(5,"translate"),n.kc()}if(2&e){const e=n.xc();n.Tb(1),n.cd(n.zc(2,3,"common.cancel")),n.Tb(2),n.Ec("disabled",!e.selectedMemberIds.length),n.Tb(1),n.dd(" ",n.Ac(5,5,"settings.add-countries-to-zone",n.Ic(8,D,e.zoneName))," ")}}function L(e,t){if(1&e){const e=n.mc();n.lc(0,"button",19),n.vc("click",function(){n.Sc(e);return n.xc().create()}),n.bd(1),n.yc(2,"translate"),n.kc()}if(2&e){const e=n.xc();n.Ec("disabled",e.detailForm.invalid||e.detailForm.pristine),n.Tb(1),n.dd(" ",n.zc(2,2,"common.create")," ")}}function M(e,t){if(1&e){const e=n.mc();n.lc(0,"button",19),n.vc("click",function(){n.Sc(e);return n.xc(2).save()}),n.bd(1),n.yc(2,"translate"),n.kc()}if(2&e){const e=n.xc(2);n.Ec("disabled",e.detailForm.invalid||e.detailForm.pristine),n.Tb(1),n.dd(" ",n.zc(2,2,"common.update")," ")}}function Z(e,t){1&e&&n.Zc(0,M,3,4,"button",20),2&e&&n.Ec("vdrIfPermissions","UpdateAdministrator")}function A(e,t){1&e&&(n.lc(0,"vdr-form-field",21),n.yc(1,"translate"),n.gc(2,"input",22),n.kc()),2&e&&n.Ec("label",n.zc(1,1,"settings.password"))}function $(e,t){1&e&&(n.lc(0,"vdr-form-field",23),n.yc(1,"translate"),n.gc(2,"input",22),n.kc()),2&e&&n.Ec("label",n.zc(1,2,"settings.password"))("readOnlyToggle",!0)}function N(e,t){if(1&e&&n.gc(0,"vdr-custom-field-control",27),2&e){const e=n.xc().$implicit,t=n.xc(2);n.Ec("customFieldsFormGroup",t.detailForm.get("customFields"))("customField",e)}}function R(e,t){if(1&e&&(n.jc(0),n.Zc(1,N,1,2,"vdr-custom-field-control",26),n.ic()),2&e){const e=t.$implicit,c=n.xc(2);n.Tb(1),n.Ec("ngIf",c.customFieldIsSet(e.name))}}function _(e,t){if(1&e&&(n.lc(0,"section",24),n.lc(1,"label"),n.bd(2),n.yc(3,"translate"),n.kc(),n.Zc(4,R,2,1,"ng-container",25),n.kc()),2&e){const e=n.xc();n.Tb(2),n.cd(n.zc(3,2,"common.custom-fields")),n.Tb(2),n.Ec("ngForOf",e.customFields)}}function q(e,t){if(1&e){const e=n.mc();n.lc(0,"li",28),n.lc(1,"button",29),n.vc("click",function(){n.Sc(e);const c=t.$implicit;return n.xc().selectedChannelId=c.channelId}),n.bd(2),n.yc(3,"translate"),n.yc(4,"channelCodeToLabel"),n.kc(),n.kc()}if(2&e){const e=t.$implicit,c=n.xc();n.Tb(1),n.Xb("active",c.selectedChannelId===e.channelId),n.Ec("id",e.channelId),n.Ub("aria-selected",c.selectedChannelId===e.channelId),n.Tb(1),n.dd(" ",n.zc(3,5,n.zc(4,7,e.channelCode))," ")}}const U=function(){return["./create"]};function G(e,t){1&e&&(n.lc(0,"a",3),n.gc(1,"clr-icon",4),n.bd(2),n.yc(3,"translate"),n.kc()),2&e&&(n.Ec("routerLink",n.Hc(4,U)),n.Tb(2),n.dd(" ",n.zc(3,2,"admin.create-new-administrator")," "))}const V=function(e){return["./",e]};function H(e,t){if(1&e){const e=n.mc();n.lc(0,"td",5),n.bd(1),n.kc(),n.lc(2,"td",5),n.bd(3),n.kc(),n.lc(4,"td",5),n.bd(5),n.kc(),n.lc(6,"td",6),n.gc(7,"vdr-table-row-action",7),n.yc(8,"translate"),n.kc(),n.lc(9,"td"),n.lc(10,"vdr-dropdown"),n.lc(11,"button",8),n.bd(12),n.yc(13,"translate"),n.gc(14,"clr-icon",9),n.kc(),n.lc(15,"vdr-dropdown-menu",10),n.lc(16,"button",11),n.vc("click",function(){n.Sc(e);const c=t.item;return n.xc().deleteAdministrator(c)}),n.yc(17,"hasPermission"),n.gc(18,"clr-icon",12),n.bd(19),n.yc(20,"translate"),n.kc(),n.kc(),n.kc(),n.kc()}if(2&e){const e=t.item;n.Tb(1),n.cd(e.firstName),n.Tb(2),n.cd(e.lastName),n.Tb(2),n.cd(e.emailAddress),n.Tb(2),n.Ec("label",n.zc(8,8,"common.edit"))("linkTo",n.Ic(16,V,e.id)),n.Tb(5),n.dd(" ",n.zc(13,10,"common.actions")," "),n.Tb(4),n.Ec("disabled",!n.zc(17,12,"DeleteAdministrator")),n.Tb(3),n.dd(" ",n.zc(20,14,"common.delete")," ")}}function B(e,t){if(1&e){const e=n.mc();n.lc(0,"button",23),n.vc("click",function(){n.Sc(e);return n.xc().create()}),n.bd(1),n.yc(2,"translate"),n.kc()}if(2&e){const e=n.xc();n.Ec("disabled",!e.saveButtonEnabled()),n.Tb(1),n.dd(" ",n.zc(2,2,"common.create")," ")}}function Q(e,t){if(1&e){const e=n.mc();n.lc(0,"button",23),n.vc("click",function(){n.Sc(e);return n.xc(2).save()}),n.bd(1),n.yc(2,"translate"),n.kc()}if(2&e){const e=n.xc(2);n.Ec("disabled",!e.saveButtonEnabled()),n.Tb(1),n.dd(" ",n.zc(2,2,"common.update")," ")}}const W=function(){return["SuperAdmin","UpdateChannel"]};function K(e,t){1&e&&n.Zc(0,Q,3,4,"button",24),2&e&&n.Ec("vdrIfPermissions",n.Hc(1,W))}function Y(e,t){if(1&e&&(n.lc(0,"option",25),n.bd(1),n.yc(2,"localeCurrencyName"),n.kc()),2&e){const e=t.$implicit;n.Ec("value",e),n.Tb(1),n.cd(n.zc(2,2,e))}}function X(e,t){if(1&e&&(n.lc(0,"option",25),n.bd(1),n.yc(2,"localeLanguageName"),n.yc(3,"uppercase"),n.kc()),2&e){const e=t.$implicit;n.Ec("value",e),n.Tb(1),n.ed(" ",n.zc(2,3,e)," (",n.zc(3,5,e),") ")}}function J(e,t){if(1&e&&(n.lc(0,"option",25),n.bd(1),n.kc()),2&e){const e=t.$implicit;n.Ec("value",e.id),n.Tb(1),n.cd(e.name)}}function ee(e,t){1&e&&(n.lc(0,"clr-alert",26),n.lc(1,"clr-alert-item"),n.lc(2,"span",27),n.bd(3),n.yc(4,"translate"),n.kc(),n.kc(),n.kc()),2&e&&(n.Ec("clrAlertClosable",!1),n.Tb(3),n.dd(" ",n.zc(4,2,"error.no-default-tax-zone-set")," "))}function te(e,t){if(1&e&&(n.lc(0,"option",25),n.bd(1),n.kc()),2&e){const e=t.$implicit;n.Ec("value",e.id),n.Tb(1),n.cd(e.name)}}function ce(e,t){1&e&&(n.lc(0,"clr-alert",28),n.lc(1,"clr-alert-item"),n.lc(2,"span",27),n.bd(3),n.yc(4,"translate"),n.kc(),n.kc(),n.kc()),2&e&&(n.Ec("clrAlertClosable",!1),n.Tb(3),n.dd(" ",n.zc(4,2,"error.no-default-shipping-zone-set")," "))}function ne(e,t){if(1&e&&n.gc(0,"vdr-custom-field-control",32),2&e){const e=n.xc().$implicit,t=n.xc(2);n.Ec("customFieldsFormGroup",t.detailForm.get("customFields"))("customField",e)}}function ie(e,t){if(1&e&&(n.jc(0),n.Zc(1,ne,1,2,"vdr-custom-field-control",31),n.ic()),2&e){const e=t.$implicit,c=n.xc(2);n.Tb(1),n.Ec("ngIf",c.customFieldIsSet(e.name))}}function re(e,t){if(1&e&&(n.lc(0,"section",29),n.lc(1,"label"),n.bd(2),n.yc(3,"translate"),n.kc(),n.Zc(4,ie,2,1,"ng-container",30),n.kc()),2&e){const e=n.xc();n.Tb(2),n.cd(n.zc(3,2,"common.custom-fields")),n.Tb(2),n.Ec("ngForOf",e.customFields)}}function se(e,t){1&e&&(n.lc(0,"a",3),n.gc(1,"clr-icon",4),n.bd(2),n.yc(3,"translate"),n.kc()),2&e&&(n.Ec("routerLink",n.Hc(4,U)),n.Tb(2),n.dd(" ",n.zc(3,2,"settings.create-new-channel")," "))}const oe=function(){return["SuperAdmin","DeleteChannel"]};function ae(e,t){if(1&e){const e=n.mc();n.lc(0,"td",5),n.gc(1,"vdr-channel-badge",6),n.bd(2),n.yc(3,"translate"),n.yc(4,"channelCodeToLabel"),n.kc(),n.lc(5,"td",7),n.gc(6,"vdr-table-row-action",8),n.yc(7,"translate"),n.kc(),n.lc(8,"td",7),n.lc(9,"vdr-dropdown"),n.lc(10,"button",9),n.bd(11),n.yc(12,"translate"),n.gc(13,"clr-icon",10),n.kc(),n.lc(14,"vdr-dropdown-menu",11),n.lc(15,"button",12),n.vc("click",function(){n.Sc(e);const c=t.item;return n.xc().deleteChannel(c.id)}),n.yc(16,"hasPermission"),n.gc(17,"clr-icon",13),n.bd(18),n.yc(19,"translate"),n.kc(),n.kc(),n.kc(),n.kc()}if(2&e){const e=t.item,c=n.xc();n.Tb(1),n.Ec("channelCode",e.code),n.Tb(1),n.dd(" ",n.zc(3,8,n.zc(4,10,e.code))," "),n.Tb(4),n.Ec("label",n.zc(7,12,"common.edit"))("linkTo",n.Ic(20,V,e.id)),n.Tb(4),n.Ec("disabled",c.isDefaultChannel(e.code)),n.Tb(1),n.dd(" ",n.zc(12,14,"common.actions")," "),n.Tb(4),n.Ec("disabled",!n.zc(16,16,n.Hc(22,oe))),n.Tb(3),n.dd(" ",n.zc(19,18,"common.delete")," ")}}function le(e,t){if(1&e){const e=n.mc();n.lc(0,"button",12),n.vc("click",function(){n.Sc(e);return n.xc().create()}),n.bd(1),n.yc(2,"translate"),n.kc()}if(2&e){const e=n.xc();n.Ec("disabled",e.detailForm.invalid||e.detailForm.pristine),n.Tb(1),n.dd(" ",n.zc(2,2,"common.create")," ")}}function de(e,t){if(1&e){const e=n.mc();n.lc(0,"button",12),n.vc("click",function(){n.Sc(e);return n.xc(2).save()}),n.bd(1),n.yc(2,"translate"),n.kc()}if(2&e){const e=n.xc(2);n.Ec("disabled",e.detailForm.invalid||e.detailForm.pristine),n.Tb(1),n.dd(" ",n.zc(2,2,"common.update")," ")}}function me(e,t){if(1&e&&n.Zc(0,de,3,4,"button",13),2&e){const e=n.xc();n.Ec("vdrIfPermissions",e.updatePermission)}}function ue(e,t){1&e&&(n.lc(0,"a",5),n.gc(1,"clr-icon",6),n.bd(2),n.yc(3,"translate"),n.kc()),2&e&&(n.Ec("routerLink",n.Hc(4,U)),n.Tb(2),n.dd(" ",n.zc(3,2,"settings.create-new-country")," "))}const be=function(e){return{contents:e}},pe=function(e){return["/settings","zones",e]};function fe(e,t){if(1&e&&(n.lc(0,"a",16),n.lc(1,"vdr-chip",17),n.bd(2),n.kc(),n.kc()),2&e){const e=t.$implicit;n.Ec("routerLink",n.Ic(5,pe,n.Ic(3,be,e.id))),n.Tb(1),n.Ec("colorFrom",e.name),n.Tb(1),n.cd(e.name)}}const ge=function(){return["DeleteSettings","DeleteCountry"]};function he(e,t){if(1&e){const e=n.mc();n.lc(0,"td",7),n.bd(1),n.kc(),n.lc(2,"td",7),n.bd(3),n.kc(),n.lc(4,"td",7),n.Zc(5,fe,3,7,"a",8),n.kc(),n.lc(6,"td",7),n.gc(7,"clr-icon"),n.kc(),n.lc(8,"td",9),n.gc(9,"vdr-table-row-action",10),n.yc(10,"translate"),n.kc(),n.lc(11,"td",9),n.lc(12,"vdr-dropdown"),n.lc(13,"button",11),n.bd(14),n.yc(15,"translate"),n.gc(16,"clr-icon",12),n.kc(),n.lc(17,"vdr-dropdown-menu",13),n.lc(18,"button",14),n.vc("click",function(){n.Sc(e);const c=t.item;return n.xc().deleteCountry(c.id)}),n.yc(19,"hasPermission"),n.gc(20,"clr-icon",15),n.bd(21),n.yc(22,"translate"),n.kc(),n.kc(),n.kc(),n.kc()}if(2&e){const e=t.item;n.Tb(1),n.cd(e.code),n.Tb(2),n.cd(e.name),n.Tb(2),n.Ec("ngForOf",e.zones),n.Tb(2),n.Xb("is-success",e.enabled),n.Ub("shape",e.enabled?"check":"times"),n.Tb(2),n.Ec("label",n.zc(10,11,"common.edit"))("linkTo",n.Ic(19,V,e.id)),n.Tb(5),n.dd(" ",n.zc(15,13,"common.actions")," "),n.Tb(4),n.Ec("disabled",!n.zc(19,15,n.Hc(21,ge))),n.Tb(3),n.dd(" ",n.zc(22,17,"common.delete")," ")}}const ye=function(){return["CreateSettings","CreateCountry"]};function ve(e,t){if(1&e){const e=n.mc();n.lc(0,"button",12),n.vc("click",function(){n.Sc(e);return n.xc().save()}),n.bd(1),n.yc(2,"translate"),n.kc()}if(2&e){const e=n.xc();n.Ec("disabled",e.detailForm.invalid||e.detailForm.pristine),n.Tb(1),n.dd(" ",n.zc(2,2,"common.update")," ")}}function ke(e,t){if(1&e&&(n.lc(0,"span",13),n.vc("click",function(){const e=t.item;return t.clear.call(null,e)}),n.bd(1," \xd7 "),n.kc(),n.lc(2,"span",14),n.bd(3),n.yc(4,"localeLanguageName"),n.kc()),2&e){const e=t.item;n.Tb(3),n.ed("",n.zc(4,2,e)," (",e,")")}}function Te(e,t){if(1&e&&(n.bd(0),n.yc(1,"localeLanguageName")),2&e){const e=t.item;n.ed(" ",n.zc(1,2,e)," (",e,") ")}}function Ce(e,t){if(1&e&&n.gc(0,"vdr-custom-field-control",18),2&e){const e=n.xc().$implicit,t=n.xc(2);n.Ec("customFieldsFormGroup",t.detailForm.get("customFields"))("customField",e)}}function Oe(e,t){if(1&e&&(n.jc(0),n.Zc(1,Ce,1,2,"vdr-custom-field-control",17),n.ic()),2&e){const e=t.$implicit,c=n.xc(2);n.Tb(1),n.Ec("ngIf",c.customFieldIsSet(e.name))}}function Se(e,t){if(1&e&&(n.lc(0,"section",15),n.lc(1,"label"),n.bd(2),n.yc(3,"translate"),n.kc(),n.Zc(4,Oe,2,1,"ng-container",16),n.kc()),2&e){const e=n.xc();n.Tb(2),n.cd(n.zc(3,2,"common.custom-fields")),n.Tb(2),n.Ec("ngForOf",e.customFields)}}function Ee(e,t){if(1&e){const e=n.mc();n.lc(0,"button",5),n.vc("click",function(){n.Sc(e);return n.xc().create()}),n.bd(1),n.yc(2,"translate"),n.kc()}if(2&e){const e=n.xc();n.Ec("disabled",e.detailForm.pristine||e.detailForm.invalid),n.Tb(1),n.dd(" ",n.zc(2,2,"common.create")," ")}}function ze(e,t){if(1&e){const e=n.mc();n.lc(0,"button",5),n.vc("click",function(){n.Sc(e);return n.xc(2).save()}),n.bd(1),n.yc(2,"translate"),n.kc()}if(2&e){const e=n.xc(2);n.Ec("disabled",e.detailForm.pristine||e.detailForm.invalid||!e.selectedHandler),n.Tb(1),n.dd(" ",n.zc(2,2,"common.update")," ")}}function Ie(e,t){if(1&e&&n.Zc(0,ze,3,4,"button",6),2&e){const e=n.xc();n.Ec("vdrIfPermissions",e.updatePermission)}}function Pe(e,t){if(1&e){const e=n.mc();n.lc(0,"vdr-configurable-input",21),n.vc("remove",function(){n.Sc(e);return n.xc(2).removeChecker()}),n.yc(1,"hasPermission"),n.kc()}if(2&e){const e=n.xc(2);n.Ec("operation",e.selectedChecker)("operationDefinition",e.selectedCheckerDefinition)("readonly",!n.zc(1,3,e.updatePermission))}}function Fe(e,t){if(1&e){const e=n.mc();n.lc(0,"button",26),n.vc("click",function(){n.Sc(e);const c=t.$implicit;return n.xc(3).selectChecker(c)}),n.bd(1),n.kc()}if(2&e){const e=t.$implicit;n.Tb(1),n.dd(" ",e.description," ")}}function xe(e,t){if(1&e&&(n.lc(0,"div"),n.lc(1,"vdr-dropdown"),n.lc(2,"button",22),n.gc(3,"clr-icon",23),n.bd(4),n.yc(5,"translate"),n.kc(),n.lc(6,"vdr-dropdown-menu",24),n.Zc(7,Fe,2,1,"button",25),n.kc(),n.kc(),n.kc()),2&e){const e=n.xc(2);n.Tb(4),n.dd(" ",n.zc(5,2,"common.select")," "),n.Tb(3),n.Ec("ngForOf",e.checkers)}}function De(e,t){if(1&e){const e=n.mc();n.lc(0,"vdr-configurable-input",27),n.vc("remove",function(){n.Sc(e);return n.xc(2).removeHandler()}),n.yc(1,"hasPermission"),n.kc()}if(2&e){const e=n.xc(2);n.Ec("operation",e.selectedHandler)("operationDefinition",e.selectedHandlerDefinition)("readonly",!n.zc(1,3,e.updatePermission))}}function je(e,t){if(1&e){const e=n.mc();n.lc(0,"button",26),n.vc("click",function(){n.Sc(e);const c=t.$implicit;return n.xc(3).selectHandler(c)}),n.bd(1),n.kc()}if(2&e){const e=t.$implicit;n.Tb(1),n.dd(" ",e.description," ")}}function we(e,t){if(1&e&&(n.lc(0,"div"),n.lc(1,"vdr-dropdown"),n.lc(2,"button",22),n.gc(3,"clr-icon",23),n.bd(4),n.yc(5,"translate"),n.kc(),n.lc(6,"vdr-dropdown-menu",24),n.Zc(7,je,2,1,"button",25),n.kc(),n.kc(),n.kc()),2&e){const e=n.xc(2);n.Tb(4),n.dd(" ",n.zc(5,2,"common.select")," "),n.Tb(3),n.Ec("ngForOf",e.handlers)}}function Le(e,t){if(1&e){const e=n.mc();n.lc(0,"form",7),n.lc(1,"vdr-form-field",8),n.yc(2,"translate"),n.lc(3,"input",9),n.vc("input",function(c){n.Sc(e);const i=t.ngIf;return n.xc().updateCode(i.code,c.target.value)}),n.yc(4,"hasPermission"),n.kc(),n.kc(),n.lc(5,"vdr-form-field",10),n.yc(6,"translate"),n.yc(7,"hasPermission"),n.gc(8,"input",11),n.yc(9,"hasPermission"),n.kc(),n.gc(10,"vdr-rich-text-editor",12),n.yc(11,"hasPermission"),n.yc(12,"translate"),n.lc(13,"vdr-form-field",13),n.yc(14,"translate"),n.lc(15,"clr-toggle-wrapper"),n.gc(16,"input",14),n.yc(17,"hasPermission"),n.kc(),n.kc(),n.lc(18,"div",15),n.lc(19,"div",16),n.lc(20,"label",17),n.bd(21),n.yc(22,"translate"),n.kc(),n.Zc(23,Pe,2,5,"vdr-configurable-input",18),n.Zc(24,xe,8,4,"div",19),n.kc(),n.lc(25,"div",16),n.lc(26,"label",17),n.bd(27),n.yc(28,"translate"),n.kc(),n.Zc(29,De,2,5,"vdr-configurable-input",20),n.Zc(30,we,8,4,"div",19),n.kc(),n.kc(),n.kc()}if(2&e){const e=n.xc();n.Ec("formGroup",e.detailForm),n.Tb(1),n.Ec("label",n.zc(2,16,"common.name")),n.Tb(2),n.Ec("readonly",!n.zc(4,18,e.updatePermission)),n.Tb(2),n.Ec("label",n.zc(6,20,"common.code"))("readOnlyToggle",n.zc(7,22,e.updatePermission)),n.Tb(3),n.Ec("readonly",!n.zc(9,24,e.updatePermission)),n.Tb(2),n.Ec("readonly",!n.zc(11,26,e.updatePermission))("label",n.zc(12,28,"common.description")),n.Tb(3),n.Ec("label",n.zc(14,30,"common.enabled")),n.Tb(3),n.Ec("vdrDisabled",!n.zc(17,32,e.updatePermission)),n.Tb(5),n.cd(n.zc(22,34,"settings.payment-eligibility-checker")),n.Tb(2),n.Ec("ngIf",e.selectedChecker&&e.selectedCheckerDefinition),n.Tb(1),n.Ec("ngIf",!e.selectedChecker||!e.selectedCheckerDefinition),n.Tb(3),n.cd(n.zc(28,36,"settings.payment-handler")),n.Tb(2),n.Ec("ngIf",e.selectedHandler&&e.selectedHandlerDefinition),n.Tb(1),n.Ec("ngIf",!e.selectedHandler||!e.selectedHandlerDefinition)}}function Me(e,t){1&e&&(n.lc(0,"a",3),n.gc(1,"clr-icon",4),n.bd(2),n.yc(3,"translate"),n.kc()),2&e&&(n.Ec("routerLink",n.Hc(4,U)),n.Tb(2),n.dd(" ",n.zc(3,2,"settings.create-new-payment-method")," "))}const Ze=function(){return["DeleteSettings","DeletePaymentMethod"]};function Ae(e,t){if(1&e){const e=n.mc();n.lc(0,"td",5),n.bd(1),n.kc(),n.lc(2,"td",5),n.bd(3),n.kc(),n.lc(4,"td",6),n.gc(5,"vdr-table-row-action",7),n.yc(6,"translate"),n.kc(),n.lc(7,"td",6),n.lc(8,"vdr-dropdown"),n.lc(9,"button",8),n.bd(10),n.yc(11,"translate"),n.gc(12,"clr-icon",9),n.kc(),n.lc(13,"vdr-dropdown-menu",10),n.lc(14,"button",11),n.vc("click",function(){n.Sc(e);const c=t.item;return n.xc().deletePaymentMethod(c.id)}),n.yc(15,"hasPermission"),n.gc(16,"clr-icon",12),n.bd(17),n.yc(18,"translate"),n.kc(),n.kc(),n.kc(),n.kc()}if(2&e){const e=t.item;n.Tb(1),n.cd(e.code),n.Tb(2),n.cd(e.enabled),n.Tb(2),n.Ec("label",n.zc(6,7,"common.edit"))("linkTo",n.Ic(15,V,e.id)),n.Tb(5),n.dd(" ",n.zc(11,9,"common.actions")," "),n.Tb(4),n.Ec("disabled",!n.zc(15,11,n.Hc(17,Ze))),n.Tb(3),n.dd(" ",n.zc(18,13,"common.delete")," ")}}const $e=function(){return["CreateSettings","CreatePaymentMethod"]};function Ne(e,t){if(1&e){const e=n.mc();n.lc(0,"button",4),n.vc("click",function(){n.Sc(e);const t=n.xc().$implicit;return n.xc().toggleAll(t.permissions)}),n.bd(1),n.yc(2,"translate"),n.kc()}2&e&&(n.Tb(1),n.dd(" ",n.zc(2,1,"common.toggle-all")," "))}function Re(e,t){if(1&e){const e=n.mc();n.lc(0,"td"),n.lc(1,"vdr-select-toggle",5),n.vc("selectedChange",function(c){n.Sc(e);const i=t.$implicit;return n.xc(2).setPermission(i.name,c)}),n.kc(),n.kc()}if(2&e){const e=t.$implicit,c=n.xc().$implicit,i=n.xc();n.Ub("colspan",1===c.permissions.length?4:1),n.Tb(1),n.Ec("title",e.description)("label",e.name)("disabled",i.readonly)("selected",null==i.activePermissions?null:i.activePermissions.includes(e.name))}}function _e(e,t){if(1&e&&(n.lc(0,"tr"),n.lc(1,"td",2),n.lc(2,"div"),n.lc(3,"strong"),n.bd(4),n.yc(5,"translate"),n.kc(),n.kc(),n.lc(6,"small"),n.bd(7),n.yc(8,"translate"),n.kc(),n.gc(9,"br"),n.Zc(10,Ne,3,3,"button",3),n.kc(),n.Zc(11,Re,2,5,"td",1),n.kc()),2&e){const e=t.$implicit,c=n.xc();n.Tb(4),n.cd(n.zc(5,4,e.label)),n.Tb(3),n.cd(n.zc(8,6,e.description)),n.Tb(3),n.Ec("ngIf",1<e.permissions.length&&!c.readonly),n.Tb(1),n.Ec("ngForOf",e.permissions)}}function qe(e,t){1&e&&(n.lc(0,"vdr-form-field",14),n.yc(1,"translate"),n.gc(2,"input",12),n.kc()),2&e&&n.Ec("label",n.zc(1,1,"settings.password"))}function Ue(e,t){if(1&e&&n.gc(0,"vdr-custom-field-control",18),2&e){const e=n.xc().$implicit,t=n.xc(2);n.Ec("customFieldsFormGroup",t.detailForm.get("customFields"))("customField",e)}}function Ge(e,t){if(1&e&&(n.jc(0),n.Zc(1,Ue,1,2,"vdr-custom-field-control",17),n.ic()),2&e){const e=t.$implicit,c=n.xc(2);n.Tb(1),n.Ec("ngIf",c.customFieldIsSet(e.name))}}function Ve(e,t){if(1&e&&(n.lc(0,"section",15),n.lc(1,"label"),n.bd(2),n.yc(3,"translate"),n.kc(),n.Zc(4,Ge,2,1,"ng-container",16),n.kc()),2&e){const e=n.xc();n.Tb(2),n.cd(n.zc(3,2,"common.custom-fields")),n.Tb(2),n.Ec("ngForOf",e.customFields)}}function He(e,t){if(1&e){const e=n.mc();n.lc(0,"button",12),n.vc("click",function(){n.Sc(e);return n.xc().create()}),n.bd(1),n.yc(2,"translate"),n.kc()}if(2&e){const e=n.xc();n.Ec("disabled",e.detailForm.invalid||e.detailForm.pristine),n.Tb(1),n.dd(" ",n.zc(2,2,"common.create")," ")}}function Be(e,t){if(1&e){const e=n.mc();n.lc(0,"button",12),n.vc("click",function(){n.Sc(e);return n.xc(2).save()}),n.bd(1),n.yc(2,"translate"),n.kc()}if(2&e){const e=n.xc(2);n.Ec("disabled",e.detailForm.invalid||e.detailForm.pristine),n.Tb(1),n.dd(" ",n.zc(2,2,"common.update")," ")}}function Qe(e,t){1&e&&n.Zc(0,Be,3,4,"button",13),2&e&&n.Ec("vdrIfPermissions","UpdateAdministrator")}function We(e,t){1&e&&(n.lc(0,"a",3),n.gc(1,"clr-icon",4),n.bd(2),n.yc(3,"translate"),n.kc()),2&e&&(n.Ec("routerLink",n.Hc(4,U)),n.Tb(2),n.dd(" ",n.zc(3,2,"settings.create-new-role")," "))}function Ke(e,t){if(1&e&&(n.lc(0,"span"),n.bd(1),n.kc()),2&e){const e=n.xc().item;n.Tb(1),n.cd(e.code)}}function Ye(e,t){if(1&e&&(n.lc(0,"vdr-chip"),n.gc(1,"vdr-channel-badge",17),n.bd(2),n.yc(3,"translate"),n.yc(4,"channelCodeToLabel"),n.kc()),2&e){const e=t.$implicit;n.Tb(1),n.Ec("channelCode",e.code),n.Tb(1),n.dd(" ",n.zc(3,2,n.zc(4,4,e.code))," ")}}function Xe(e,t){if(1&e&&(n.jc(0),n.Zc(1,Ye,5,6,"vdr-chip",16),n.ic()),2&e){const e=n.xc().item;n.Tb(1),n.Ec("ngForOf",e.channels)}}function Je(e,t){if(1&e&&(n.lc(0,"vdr-chip"),n.bd(1),n.kc()),2&e){const e=t.$implicit;n.Tb(1),n.cd(e)}}function et(e,t){if(1&e&&(n.jc(0),n.gc(1,"clr-icon",4),n.bd(2),n.ic()),2&e){const e=n.xc(3).item,t=n.xc();n.Tb(2),n.dd(" ",e.permissions.length-t.initialLimit," ")}}function tt(e,t){1&e&&n.gc(0,"clr-icon",21)}function ct(e,t){if(1&e){const e=n.mc();n.lc(0,"button",19),n.vc("click",function(){n.Sc(e);const t=n.xc(2).item;return n.xc().toggleDisplayLimit(t)}),n.Zc(1,et,3,1,"ng-container",7),n.Zc(2,tt,1,0,"ng-template",null,20,n.ad),n.kc()}if(2&e){const e=n.Oc(3),t=n.xc(2).item,c=n.xc();n.Tb(1),n.Ec("ngIf",(c.displayLimit[t.id]||0)<t.permissions.length)("ngIfElse",e)}}function nt(e,t){if(1&e&&(n.jc(0),n.Zc(1,Je,2,1,"vdr-chip",16),n.yc(2,"slice"),n.Zc(3,ct,4,2,"button",18),n.ic()),2&e){const e=n.xc().item,t=n.xc();n.Tb(1),n.Ec("ngForOf",n.Bc(2,2,e.permissions,0,t.displayLimit[e.id]||3)),n.Tb(2),n.Ec("ngIf",e.permissions.length>t.initialLimit)}}function it(e,t){1&e&&(n.lc(0,"span",22),n.bd(1),n.yc(2,"translate"),n.kc()),2&e&&(n.Tb(1),n.cd(n.zc(2,1,"settings.default-role-label")))}function rt(e,t){if(1&e&&(n.gc(0,"vdr-table-row-action",23),n.yc(1,"translate")),2&e){const e=n.xc().item;n.Ec("label",n.zc(1,2,"common.edit"))("linkTo",n.Ic(4,V,e.id))}}function st(e,t){if(1&e){const e=n.mc();n.lc(0,"td",5),n.bd(1),n.kc(),n.lc(2,"td",5),n.Zc(3,Ke,2,1,"span",6),n.kc(),n.lc(4,"td",5),n.Zc(5,Xe,2,1,"ng-container",6),n.kc(),n.lc(6,"td",5),n.Zc(7,nt,4,6,"ng-container",7),n.Zc(8,it,3,3,"ng-template",null,8,n.ad),n.kc(),n.lc(10,"td",9),n.Zc(11,rt,2,6,"vdr-table-row-action",10),n.kc(),n.lc(12,"td",9),n.lc(13,"vdr-dropdown"),n.lc(14,"button",11),n.bd(15),n.yc(16,"translate"),n.gc(17,"clr-icon",12),n.kc(),n.lc(18,"vdr-dropdown-menu",13),n.lc(19,"button",14),n.vc("click",function(){n.Sc(e);const c=t.item;return n.xc().deleteRole(c.id)}),n.yc(20,"hasPermission"),n.gc(21,"clr-icon",15),n.bd(22),n.yc(23,"translate"),n.kc(),n.kc(),n.kc(),n.kc()}if(2&e){const e=t.item,c=n.Oc(9),i=n.xc();n.Tb(1),n.cd(e.description),n.Tb(2),n.Ec("ngIf",!i.isDefaultRole(e)),n.Tb(2),n.Ec("ngIf",!i.isDefaultRole(e)),n.Tb(2),n.Ec("ngIf",!i.isDefaultRole(e))("ngIfElse",c),n.Tb(4),n.Ec("ngIf",!i.isDefaultRole(e)),n.Tb(3),n.Ec("disabled",i.isDefaultRole(e)),n.Tb(1),n.dd(" ",n.zc(16,10,"common.actions")," "),n.Tb(4),n.Ec("disabled",!n.zc(20,12,"SuperAdmin")),n.Tb(3),n.dd(" ",n.zc(23,14,"common.delete")," ")}}function ot(e,t){if(1&e&&n.gc(0,"vdr-object-tree",11),2&e){const e=n.xc().$implicit;n.Ec("value",e.metadata)}}function at(e,t){if(1&e&&(n.lc(0,"div",6),n.lc(1,"div",7),n.lc(2,"vdr-labeled-data",8),n.yc(3,"translate"),n.bd(4),n.kc(),n.lc(5,"div",9),n.lc(6,"vdr-labeled-data",8),n.yc(7,"translate"),n.bd(8),n.yc(9,"localeCurrency"),n.kc(),n.lc(10,"vdr-labeled-data",8),n.yc(11,"translate"),n.bd(12),n.yc(13,"localeCurrency"),n.kc(),n.kc(),n.Zc(14,ot,1,1,"vdr-object-tree",10),n.kc(),n.kc()),2&e){const e=t.$implicit,c=n.xc();n.Tb(1),n.Xb("stale",c.testDataUpdated),n.Tb(1),n.Ec("label",n.zc(3,9,"settings.shipping-method")),n.Tb(2),n.dd(" ",e.name," "),n.Tb(2),n.Ec("label",n.zc(7,11,"common.price")),n.Tb(2),n.dd(" ",n.Ac(9,13,e.price,c.currencyCode)," "),n.Tb(2),n.Ec("label",n.zc(11,16,"common.price-with-tax")),n.Tb(2),n.dd(" ",n.Ac(13,18,e.priceWithTax,c.currencyCode)," "),n.Tb(2),n.Ec("ngIf",e.metadata)}}function lt(e,t){1&e&&(n.lc(0,"div",6),n.gc(1,"clr-icon",12),n.bd(2),n.yc(3,"translate"),n.kc()),2&e&&(n.Tb(2),n.dd(" ",n.zc(3,1,"settings.no-eligible-shipping-methods")," "))}function dt(e,t){if(1&e){const e=n.mc();n.lc(0,"button",8),n.vc("click",function(){n.Sc(e);return n.xc().create()}),n.bd(1),n.yc(2,"translate"),n.kc()}if(2&e){const e=n.xc();n.Ec("disabled",e.detailForm.pristine||e.detailForm.invalid||!e.selectedChecker||!e.selectedCalculator),n.Tb(1),n.dd(" ",n.zc(2,2,"common.create")," ")}}function mt(e,t){if(1&e){const e=n.mc();n.lc(0,"button",8),n.vc("click",function(){n.Sc(e);return n.xc(2).save()}),n.bd(1),n.yc(2,"translate"),n.kc()}if(2&e){const e=n.xc(2);n.Ec("disabled",e.detailForm.pristine||e.detailForm.invalid||!e.selectedChecker||!e.selectedCalculator),n.Tb(1),n.dd(" ",n.zc(2,2,"common.update")," ")}}function ut(e,t){if(1&e&&n.Zc(0,mt,3,4,"button",9),2&e){const e=n.xc();n.Ec("vdrIfPermissions",e.updatePermission)}}function bt(e,t){if(1&e&&(n.lc(0,"option",26),n.bd(1),n.kc()),2&e){const e=t.$implicit;n.Ec("value",e.code),n.Tb(1),n.ed(" ",e.code,": ",e.description," ")}}function pt(e,t){if(1&e&&n.gc(0,"vdr-custom-field-control",30),2&e){const e=n.xc().$implicit,t=n.xc(3);n.Ec("customFieldsFormGroup",t.detailForm.get("customFields"))("customField",e)}}function ft(e,t){if(1&e&&(n.jc(0),n.Zc(1,pt,1,2,"vdr-custom-field-control",29),n.ic()),2&e){const e=t.$implicit,c=n.xc(3);n.Tb(1),n.Ec("ngIf",c.customFieldIsSet(e.name))}}function gt(e,t){if(1&e&&(n.lc(0,"section",27),n.lc(1,"label"),n.bd(2),n.yc(3,"translate"),n.kc(),n.Zc(4,ft,2,1,"ng-container",28),n.kc()),2&e){const e=n.xc(2);n.Tb(2),n.cd(n.zc(3,2,"common.custom-fields")),n.Tb(2),n.Ec("ngForOf",e.customFields)}}function ht(e,t){if(1&e){const e=n.mc();n.lc(0,"vdr-configurable-input",31),n.vc("remove",function(){n.Sc(e);return n.xc(2).selectedChecker=null}),n.yc(1,"hasPermission"),n.kc()}if(2&e){const e=n.xc(2);n.Ec("operation",e.selectedChecker)("operationDefinition",e.selectedCheckerDefinition)("readonly",!n.zc(1,3,e.updatePermission))}}function yt(e,t){if(1&e){const e=n.mc();n.lc(0,"button",36),n.vc("click",function(){n.Sc(e);const c=t.$implicit;return n.xc(3).selectChecker(c)}),n.bd(1),n.kc()}if(2&e){const e=t.$implicit;n.Tb(1),n.dd(" ",e.description," ")}}function vt(e,t){if(1&e&&(n.lc(0,"div"),n.lc(1,"vdr-dropdown"),n.lc(2,"button",32),n.gc(3,"clr-icon",33),n.bd(4),n.yc(5,"translate"),n.kc(),n.lc(6,"vdr-dropdown-menu",34),n.Zc(7,yt,2,1,"button",35),n.kc(),n.kc(),n.kc()),2&e){const e=n.xc(2);n.Tb(4),n.dd(" ",n.zc(5,2,"common.select")," "),n.Tb(3),n.Ec("ngForOf",e.checkers)}}function kt(e,t){if(1&e){const e=n.mc();n.lc(0,"vdr-configurable-input",37),n.vc("remove",function(){n.Sc(e);return n.xc(2).selectedCalculator=null}),n.yc(1,"hasPermission"),n.kc()}if(2&e){const e=n.xc(2);n.Ec("operation",e.selectedCalculator)("operationDefinition",e.selectedCalculatorDefinition)("readonly",!n.zc(1,3,e.updatePermission))}}function Tt(e,t){if(1&e){const e=n.mc();n.lc(0,"button",36),n.vc("click",function(){n.Sc(e);const c=t.$implicit;return n.xc(3).selectCalculator(c)}),n.bd(1),n.kc()}if(2&e){const e=t.$implicit;n.Tb(1),n.dd(" ",e.description," ")}}function Ct(e,t){if(1&e&&(n.lc(0,"div"),n.lc(1,"vdr-dropdown"),n.lc(2,"button",32),n.gc(3,"clr-icon",33),n.bd(4),n.yc(5,"translate"),n.kc(),n.lc(6,"vdr-dropdown-menu",34),n.Zc(7,Tt,2,1,"button",35),n.kc(),n.kc(),n.kc()),2&e){const e=n.xc(2);n.Tb(4),n.dd(" ",n.zc(5,2,"common.select")," "),n.Tb(3),n.Ec("ngForOf",e.calculators)}}function Ot(e,t){if(1&e){const e=n.mc();n.lc(0,"form",10),n.lc(1,"vdr-form-field",11),n.yc(2,"translate"),n.lc(3,"input",12),n.vc("input",function(c){n.Sc(e);const i=t.ngIf;return n.xc().updateCode(i.code,c.target.value)}),n.yc(4,"hasPermission"),n.kc(),n.kc(),n.lc(5,"vdr-form-field",13),n.yc(6,"translate"),n.yc(7,"hasPermission"),n.gc(8,"input",14),n.yc(9,"hasPermission"),n.kc(),n.gc(10,"vdr-rich-text-editor",15),n.yc(11,"hasPermission"),n.yc(12,"translate"),n.lc(13,"vdr-form-field",16),n.yc(14,"translate"),n.lc(15,"select",17),n.yc(16,"hasPermission"),n.Zc(17,bt,2,3,"option",18),n.kc(),n.kc(),n.Zc(18,gt,5,4,"section",19),n.lc(19,"div",20),n.lc(20,"div",21),n.lc(21,"label",22),n.bd(22),n.yc(23,"translate"),n.kc(),n.Zc(24,ht,2,5,"vdr-configurable-input",23),n.Zc(25,vt,8,4,"div",24),n.kc(),n.lc(26,"div",21),n.lc(27,"label",22),n.bd(28),n.yc(29,"translate"),n.kc(),n.Zc(30,kt,2,5,"vdr-configurable-input",25),n.Zc(31,Ct,8,4,"div",24),n.kc(),n.kc(),n.kc()}if(2&e){const e=n.xc();n.Ec("formGroup",e.detailForm),n.Tb(1),n.Ec("label",n.zc(2,18,"common.name")),n.Tb(2),n.Ec("readonly",!n.zc(4,20,e.updatePermission)),n.Tb(2),n.Ec("label",n.zc(6,22,"common.code"))("readOnlyToggle",n.zc(7,24,e.updatePermission)),n.Tb(3),n.Ec("readonly",!n.zc(9,26,e.updatePermission)),n.Tb(2),n.Ec("readonly",!n.zc(11,28,e.updatePermission))("label",n.zc(12,30,"common.description")),n.Tb(3),n.Ec("label",n.zc(14,32,"settings.fulfillment-handler")),n.Tb(2),n.Ec("vdrDisabled",!n.zc(16,34,e.updatePermission)),n.Tb(2),n.Ec("ngForOf",e.fulfillmentHandlers),n.Tb(1),n.Ec("ngIf",e.customFields.length),n.Tb(4),n.cd(n.zc(23,36,"settings.shipping-eligibility-checker")),n.Tb(2),n.Ec("ngIf",e.selectedChecker&&e.selectedCheckerDefinition),n.Tb(1),n.Ec("ngIf",!e.selectedChecker||!e.selectedCheckerDefinition),n.Tb(3),n.cd(n.zc(29,38,"settings.shipping-calculator")),n.Tb(2),n.Ec("ngIf",e.selectedCalculator&&e.selectedCalculatorDefinition),n.Tb(1),n.Ec("ngIf",!e.selectedCalculator||!e.selectedCalculatorDefinition)}}function St(e,t){if(1&e){const e=n.mc();n.lc(0,"clr-accordion-content"),n.lc(1,"div",38),n.lc(2,"div",21),n.lc(3,"vdr-test-order-builder",39),n.vc("orderLinesChange",function(t){n.Sc(e);return n.xc().setTestOrderLines(t)}),n.kc(),n.kc(),n.lc(4,"div",21),n.lc(5,"vdr-test-address-form",40),n.vc("addressChange",function(t){n.Sc(e);return n.xc().setTestAddress(t)}),n.kc(),n.lc(6,"vdr-shipping-method-test-result",41),n.vc("runTest",function(){n.Sc(e);return n.xc().runTest()}),n.yc(7,"async"),n.yc(8,"async"),n.kc(),n.kc(),n.kc(),n.kc()}if(2&e){const e=n.xc();let t=null;n.Tb(6),n.Ec("currencyCode",null==(t=n.zc(7,4,e.activeChannel$))?null:t.currencyCode)("okToRun",e.allTestDataPresent()&&e.testDataUpdated&&e.detailForm.valid)("testDataUpdated",e.testDataUpdated)("testResult",n.zc(8,6,e.testResult$))}}function Et(e,t){1&e&&(n.lc(0,"a",6),n.gc(1,"clr-icon",7),n.bd(2),n.yc(3,"translate"),n.kc()),2&e&&(n.Ec("routerLink",n.Hc(4,U)),n.Tb(2),n.dd(" ",n.zc(3,2,"settings.create-new-shipping-method")," "))}const zt=function(){return["DeleteSettings","DeleteShippingMethod"]};function It(e,t){if(1&e){const e=n.mc();n.lc(0,"td",8),n.bd(1),n.kc(),n.lc(2,"td",8),n.bd(3),n.kc(),n.lc(4,"td",9),n.gc(5,"vdr-table-row-action",10),n.yc(6,"translate"),n.kc(),n.lc(7,"td",9),n.lc(8,"vdr-dropdown"),n.lc(9,"button",11),n.bd(10),n.yc(11,"translate"),n.gc(12,"clr-icon",12),n.kc(),n.lc(13,"vdr-dropdown-menu",13),n.lc(14,"button",14),n.vc("click",function(){n.Sc(e);const c=t.item;return n.xc().deleteShippingMethod(c.id)}),n.yc(15,"hasPermission"),n.gc(16,"clr-icon",15),n.bd(17),n.yc(18,"translate"),n.kc(),n.kc(),n.kc(),n.kc()}if(2&e){const e=t.item;n.Tb(1),n.cd(e.code),n.Tb(2),n.cd(e.name),n.Tb(2),n.Ec("label",n.zc(6,7,"common.edit"))("linkTo",n.Ic(15,V,e.id)),n.Tb(5),n.dd(" ",n.zc(11,9,"common.actions")," "),n.Tb(4),n.Ec("disabled",!n.zc(15,11,n.Hc(17,zt))),n.Tb(3),n.dd(" ",n.zc(18,13,"common.delete")," ")}}function Pt(e,t){if(1&e){const e=n.mc();n.lc(0,"clr-accordion-content"),n.lc(1,"div",16),n.lc(2,"div",17),n.lc(3,"vdr-test-order-builder",18),n.vc("orderLinesChange",function(t){n.Sc(e);return n.xc().setTestOrderLines(t)}),n.kc(),n.kc(),n.lc(4,"div",17),n.lc(5,"vdr-test-address-form",19),n.vc("addressChange",function(t){n.Sc(e);return n.xc().setTestAddress(t)}),n.kc(),n.lc(6,"vdr-shipping-eligibility-test-result",20),n.vc("runTest",function(){n.Sc(e);return n.xc().runTest()}),n.yc(7,"async"),n.yc(8,"async"),n.kc(),n.kc(),n.kc(),n.kc()}if(2&e){const e=n.xc();let t=null;n.Tb(6),n.Ec("currencyCode",null==(t=n.zc(7,4,e.activeChannel$))?null:t.currencyCode)("okToRun",e.allTestDataPresent())("testDataUpdated",e.testDataUpdated)("testResult",n.zc(8,6,e.testResult$))}}const Ft=function(){return["CreateSettings","CreateShippingMethod"]};function xt(e,t){1&e&&n.gc(0,"clr-icon",14)}function Dt(e,t){1&e&&n.gc(0,"clr-icon",15)}function jt(e,t){1&e&&n.gc(0,"clr-icon",16)}function wt(e,t){if(1&e&&(n.lc(0,"vdr-labeled-data",4),n.yc(1,"translate"),n.bd(2),n.yc(3,"localeCurrency"),n.kc()),2&e){const e=n.xc();n.Ec("label",n.zc(1,2,"common.price")),n.Tb(2),n.dd(" ",n.Ac(3,4,null==e.testResult.quote?null:e.testResult.quote.price,e.currencyCode)," ")}}function Lt(e,t){if(1&e&&(n.lc(0,"vdr-labeled-data",4),n.yc(1,"translate"),n.bd(2),n.yc(3,"localeCurrency"),n.kc()),2&e){const e=n.xc();n.Ec("label",n.zc(1,2,"common.price-with-tax")),n.Tb(2),n.dd(" ",n.Ac(3,4,null==e.testResult.quote?null:e.testResult.quote.priceWithTax,e.currencyCode)," ")}}function Mt(e,t){if(1&e&&n.gc(0,"vdr-object-tree",17),2&e){const e=n.xc();n.Ec("value",null==e.testResult||null==e.testResult.quote?null:e.testResult.quote.metadata)}}const Zt=function(e,t,c){return{success:e,error:t,unknown:c}};function At(e,t){if(1&e){const e=n.mc();n.lc(0,"button",9),n.vc("click",function(){n.Sc(e);return n.xc().create()}),n.bd(1),n.yc(2,"translate"),n.kc()}if(2&e){const e=n.xc();n.Ec("disabled",!e.saveButtonEnabled()),n.Tb(1),n.dd(" ",n.zc(2,2,"common.create")," ")}}function $t(e,t){if(1&e){const e=n.mc();n.lc(0,"button",9),n.vc("click",function(){n.Sc(e);return n.xc(2).save()}),n.bd(1),n.yc(2,"translate"),n.kc()}if(2&e){const e=n.xc(2);n.Ec("disabled",!e.saveButtonEnabled()),n.Tb(1),n.dd(" ",n.zc(2,2,"common.update")," ")}}function Nt(e,t){if(1&e&&n.Zc(0,$t,3,4,"button",10),2&e){const e=n.xc();n.Ec("vdrIfPermissions",e.updatePermission)}}function Rt(e,t){1&e&&(n.lc(0,"a",3),n.gc(1,"clr-icon",4),n.bd(2),n.yc(3,"translate"),n.kc()),2&e&&(n.Ec("routerLink",n.Hc(4,U)),n.Tb(2),n.dd(" ",n.zc(3,2,"settings.create-new-tax-category")," "))}function _t(e,t){1&e&&(n.lc(0,"vdr-chip"),n.bd(1),n.yc(2,"translate"),n.kc()),2&e&&(n.Tb(1),n.cd(n.zc(2,1,"common.default-tax-category")))}const qt=function(){return["DeleteSettings","DeleteTaxCategory"]};function Ut(e,t){if(1&e){const e=n.mc();n.lc(0,"td",5),n.bd(1),n.kc(),n.lc(2,"td",5),n.Zc(3,_t,3,3,"vdr-chip",6),n.kc(),n.lc(4,"td",7),n.gc(5,"vdr-table-row-action",8),n.yc(6,"translate"),n.kc(),n.lc(7,"td",7),n.lc(8,"vdr-dropdown"),n.lc(9,"button",9),n.bd(10),n.yc(11,"translate"),n.gc(12,"clr-icon",10),n.kc(),n.lc(13,"vdr-dropdown-menu",11),n.lc(14,"button",12),n.vc("click",function(){n.Sc(e);const c=t.item;return n.xc().deleteTaxCategory(c)}),n.yc(15,"hasPermission"),n.gc(16,"clr-icon",13),n.bd(17),n.yc(18,"translate"),n.kc(),n.kc(),n.kc(),n.kc()}if(2&e){const e=t.item;n.Tb(1),n.cd(e.name),n.Tb(2),n.Ec("ngIf",e.isDefault),n.Tb(2),n.Ec("label",n.zc(6,7,"common.edit"))("linkTo",n.Ic(15,V,e.id)),n.Tb(5),n.dd(" ",n.zc(11,9,"common.actions")," "),n.Tb(4),n.Ec("disabled",!n.zc(15,11,n.Hc(17,qt))),n.Tb(3),n.dd(" ",n.zc(18,13,"common.delete")," ")}}const Gt=function(){return["CreateSettings","CreateTaxCategory"]};function Vt(e,t){if(1&e){const e=n.mc();n.lc(0,"button",17),n.vc("click",function(){n.Sc(e);return n.xc().create()}),n.bd(1),n.yc(2,"translate"),n.kc()}if(2&e){const e=n.xc();n.Ec("disabled",!e.saveButtonEnabled()),n.Tb(1),n.dd(" ",n.zc(2,2,"common.create")," ")}}function Ht(e,t){if(1&e){const e=n.mc();n.lc(0,"button",17),n.vc("click",function(){n.Sc(e);return n.xc(2).save()}),n.bd(1),n.yc(2,"translate"),n.kc()}if(2&e){const e=n.xc(2);n.Ec("disabled",!e.saveButtonEnabled()),n.Tb(1),n.dd(" ",n.zc(2,2,"common.update")," ")}}function Bt(e,t){if(1&e&&n.Zc(0,Ht,3,4,"button",18),2&e){const e=n.xc();n.Ec("vdrIfPermissions",e.updatePermission)}}function Qt(e,t){if(1&e&&(n.lc(0,"option",19),n.bd(1),n.kc()),2&e){const e=t.$implicit;n.Ec("value",e.id),n.Tb(1),n.dd(" ",e.name," ")}}function Wt(e,t){if(1&e&&(n.lc(0,"option",19),n.bd(1),n.kc()),2&e){const e=t.$implicit;n.Ec("value",e.id),n.Tb(1),n.cd(e.name)}}function Kt(e,t){1&e&&(n.lc(0,"a",3),n.gc(1,"clr-icon",4),n.bd(2),n.yc(3,"translate"),n.kc()),2&e&&(n.Ec("routerLink",n.Hc(4,U)),n.Tb(2),n.dd(" ",n.zc(3,2,"settings.create-new-tax-rate")," "))}const Yt=function(){return["DeleteSettings","DeleteTaxRate"]};function Xt(e,t){if(1&e){const e=n.mc();n.lc(0,"td",5),n.bd(1),n.kc(),n.lc(2,"td",5),n.bd(3),n.kc(),n.lc(4,"td",5),n.bd(5),n.kc(),n.lc(6,"td",5),n.bd(7),n.kc(),n.lc(8,"td",6),n.gc(9,"vdr-table-row-action",7),n.yc(10,"translate"),n.kc(),n.lc(11,"td",6),n.lc(12,"vdr-dropdown"),n.lc(13,"button",8),n.bd(14),n.yc(15,"translate"),n.gc(16,"clr-icon",9),n.kc(),n.lc(17,"vdr-dropdown-menu",10),n.lc(18,"button",11),n.vc("click",function(){n.Sc(e);const c=t.item;return n.xc().deleteTaxRate(c)}),n.yc(19,"hasPermission"),n.gc(20,"clr-icon",12),n.bd(21),n.yc(22,"translate"),n.kc(),n.kc(),n.kc(),n.kc()}if(2&e){const e=t.item;n.Tb(1),n.cd(e.name),n.Tb(2),n.cd(e.category.name),n.Tb(2),n.cd(e.zone.name),n.Tb(2),n.dd("",e.value,"%"),n.Tb(2),n.Ec("label",n.zc(10,9,"common.edit"))("linkTo",n.Ic(17,V,e.id)),n.Tb(5),n.dd(" ",n.zc(15,11,"common.actions")," "),n.Tb(4),n.Ec("disabled",!n.zc(19,13,n.Hc(19,Yt))),n.Tb(3),n.dd(" ",n.zc(22,15,"common.delete")," ")}}const Jt=function(){return["CreateSettings","CreateTaxRate"]};function ec(e,t){if(1&e&&(n.lc(0,"option",9),n.bd(1),n.kc()),2&e){const e=t.$implicit;n.Ec("value",e.code),n.Tb(1),n.dd(" ",e.name," ")}}function tc(e,t){if(1&e){const e=n.mc();n.lc(0,"tr",10),n.lc(1,"td",11),n.gc(2,"img",12),n.kc(),n.lc(3,"td",13),n.bd(4),n.kc(),n.lc(5,"td",14),n.bd(6),n.kc(),n.lc(7,"td",15),n.bd(8),n.yc(9,"localeCurrency"),n.kc(),n.lc(10,"td",16),n.lc(11,"input",17),n.vc("ngModelChange",function(e){return t.$implicit.quantity=e})("change",function(){n.Sc(e);return n.xc(2).updateQuantity()}),n.kc(),n.lc(12,"button",18),n.vc("click",function(){n.Sc(e);const c=t.$implicit;return n.xc(2).removeLine(c)}),n.gc(13,"clr-icon",19),n.kc(),n.kc(),n.lc(14,"td",20),n.bd(15),n.yc(16,"localeCurrency"),n.kc(),n.kc()}if(2&e){const e=t.$implicit,c=n.xc(2);n.Tb(2),n.Ec("src",e.preview+"?preset=tiny",n.Uc),n.Tb(2),n.cd(e.name),n.Tb(2),n.cd(e.sku),n.Tb(2),n.dd(" ",n.Ac(9,6,e.unitPriceWithTax,c.currencyCode)," "),n.Tb(3),n.Ec("ngModel",e.quantity),n.Tb(4),n.dd(" ",n.Ac(16,9,e.unitPriceWithTax*e.quantity,c.currencyCode)," ")}}function cc(e,t){if(1&e&&(n.lc(0,"table",6),n.lc(1,"thead"),n.lc(2,"tr"),n.gc(3,"th"),n.lc(4,"th"),n.bd(5),n.yc(6,"translate"),n.kc(),n.lc(7,"th"),n.bd(8),n.yc(9,"translate"),n.kc(),n.lc(10,"th"),n.bd(11),n.yc(12,"translate"),n.kc(),n.lc(13,"th"),n.bd(14),n.yc(15,"translate"),n.kc(),n.lc(16,"th"),n.bd(17),n.yc(18,"translate"),n.kc(),n.kc(),n.kc(),n.Zc(19,tc,17,12,"tr",7),n.lc(20,"tr",8),n.lc(21,"td",9),n.bd(22),n.yc(23,"translate"),n.kc(),n.gc(24,"td"),n.gc(25,"td"),n.gc(26,"td"),n.gc(27,"td"),n.lc(28,"td"),n.bd(29),n.yc(30,"localeCurrency"),n.kc(),n.kc(),n.kc()),2&e){const e=n.xc();n.Tb(5),n.cd(n.zc(6,8,"order.product-name")),n.Tb(3),n.cd(n.zc(9,10,"order.product-sku")),n.Tb(3),n.cd(n.zc(12,12,"order.unit-price")),n.Tb(3),n.cd(n.zc(15,14,"order.quantity")),n.Tb(3),n.cd(n.zc(18,16,"order.total")),n.Tb(2),n.Ec("ngForOf",e.lines),n.Tb(3),n.cd(n.zc(23,18,"order.sub-total")),n.Tb(7),n.cd(n.Ac(30,20,e.subTotal,e.currencyCode))}}function nc(e,t){1&e&&(n.lc(0,"div",21),n.lc(1,"div",22),n.bd(2),n.yc(3,"translate"),n.kc(),n.gc(4,"clr-icon",23),n.kc()),2&e&&(n.Tb(2),n.cd(n.zc(3,1,"settings.add-products-to-test-order")))}function ic(e,t){1&e&&(n.lc(0,"span"),n.bd(1),n.yc(2,"translate"),n.kc()),2&e&&(n.Tb(1),n.cd(n.zc(2,1,"settings.update-zone")))}function rc(e,t){1&e&&(n.lc(0,"span"),n.bd(1),n.yc(2,"translate"),n.kc()),2&e&&(n.Tb(1),n.cd(n.zc(2,1,"settings.create-zone")))}function sc(e,t){if(1&e&&(n.Zc(0,ic,3,3,"span",4),n.Zc(1,rc,3,3,"span",4)),2&e){const e=n.xc();n.Ec("ngIf",e.zone.id),n.Tb(1),n.Ec("ngIf",!e.zone.id)}}function oc(e,t){1&e&&(n.lc(0,"span"),n.bd(1),n.yc(2,"translate"),n.kc()),2&e&&(n.Tb(1),n.cd(n.zc(2,1,"settings.update-zone")))}function ac(e,t){1&e&&(n.lc(0,"span"),n.bd(1),n.yc(2,"translate"),n.kc()),2&e&&(n.Tb(1),n.cd(n.zc(2,1,"settings.create-zone")))}function lc(e,t){if(1&e){const e=n.mc();n.lc(0,"button",5),n.vc("click",function(){n.Sc(e);return n.xc().cancel()}),n.bd(1),n.yc(2,"translate"),n.kc(),n.lc(3,"button",6),n.vc("click",function(){n.Sc(e);return n.xc().save()}),n.Zc(4,oc,3,3,"span",4),n.Zc(5,ac,3,3,"span",4),n.kc()}if(2&e){const e=n.xc();n.Tb(1),n.cd(n.zc(2,4,"common.cancel")),n.Tb(2),n.Ec("disabled",!e.zone.name),n.Tb(1),n.Ec("ngIf",e.zone.id),n.Tb(1),n.Ec("ngIf",!e.zone.id)}}const dc=function(){return["UpdateSettings","UpdateZone"]};function mc(e,t){if(1&e){const e=n.mc();n.lc(0,"button",7),n.vc("click",function(){n.Sc(e);return n.xc().create()}),n.gc(1,"clr-icon",8),n.bd(2),n.yc(3,"translate"),n.kc()}2&e&&(n.Tb(2),n.dd(" ",n.zc(3,1,"settings.create-new-zone")," "))}const uc=function(){return["DeleteSettings","DeleteZone"]};function bc(e,t){if(1&e){const e=n.mc();n.lc(0,"tr"),n.yc(1,"async"),n.lc(2,"td",9),n.gc(3,"vdr-entity-info",10),n.kc(),n.lc(4,"td",9),n.lc(5,"vdr-chip",11),n.bd(6),n.kc(),n.kc(),n.lc(7,"td",12),n.lc(8,"a",13),n.gc(9,"clr-icon",14),n.bd(10),n.yc(11,"translate"),n.kc(),n.kc(),n.lc(12,"td",15),n.lc(13,"button",16),n.vc("click",function(){n.Sc(e);const c=t.$implicit;return n.xc().update(c)}),n.gc(14,"clr-icon",17),n.bd(15),n.yc(16,"translate"),n.kc(),n.kc(),n.lc(17,"td",15),n.lc(18,"vdr-dropdown"),n.lc(19,"button",18),n.bd(20),n.yc(21,"translate"),n.gc(22,"clr-icon",19),n.kc(),n.lc(23,"vdr-dropdown-menu",20),n.lc(24,"button",21),n.vc("click",function(){n.Sc(e);const c=t.$implicit;return n.xc().delete(c.id)}),n.yc(25,"hasPermission"),n.gc(26,"clr-icon",22),n.bd(27),n.yc(28,"translate"),n.kc(),n.kc(),n.kc(),n.kc(),n.kc()}if(2&e){const e=t.$implicit,c=n.xc();let i=null;n.Xb("active",e.id===(null==(i=n.zc(1,11,c.activeZone$))?null:i.id)),n.Tb(3),n.Ec("entity",e),n.Tb(2),n.Ec("colorFrom",e.name),n.Tb(1),n.cd(e.name),n.Tb(2),n.Ec("routerLink",n.Ic(25,V,n.Ic(23,be,e.id))),n.Tb(2),n.dd(" ",n.zc(11,13,"settings.view-zone-members")," "),n.Tb(5),n.dd(" ",n.zc(16,15,"common.edit")," "),n.Tb(5),n.dd(" ",n.zc(21,17,"common.actions")," "),n.Tb(4),n.Ec("disabled",!n.zc(25,19,n.Hc(27,uc))),n.Tb(3),n.dd(" ",n.zc(28,21,"common.delete")," ")}}function pc(e,t){if(1&e){const e=n.mc();n.lc(0,"div"),n.lc(1,"div",26),n.lc(2,"div",27),n.bd(3),n.kc(),n.gc(4,"div",28),n.lc(5,"button",29),n.vc("click",function(){n.Sc(e);return n.xc(2).closeMembers()}),n.gc(6,"clr-icon",30),n.kc(),n.kc(),n.lc(7,"div",31),n.lc(8,"vdr-dropdown"),n.lc(9,"button",32),n.bd(10),n.yc(11,"translate"),n.gc(12,"clr-icon",19),n.kc(),n.lc(13,"vdr-dropdown-menu",20),n.lc(14,"button",33),n.vc("click",function(){n.Sc(e);const t=n.xc().ngIf,c=n.xc();return c.removeFromZone(t,c.selectedMemberIds)}),n.yc(15,"hasPermission"),n.gc(16,"clr-icon",22),n.bd(17),n.yc(18,"translate"),n.kc(),n.kc(),n.kc(),n.lc(19,"button",34),n.vc("click",function(){n.Sc(e);const t=n.xc().ngIf;return n.xc().addToZone(t)}),n.bd(20),n.yc(21,"translate"),n.kc(),n.kc(),n.kc()}if(2&e){const e=n.xc().ngIf,t=n.xc();n.Tb(3),n.ed(" ",e.name," (",e.members.length,") "),n.Tb(6),n.Ec("disabled",0===t.selectedMemberIds.length),n.Tb(1),n.dd(" ",n.zc(11,7,"common.with-selected")," "),n.Tb(4),n.Ec("disabled",!n.zc(15,9,n.Hc(16,dc))),n.Tb(3),n.dd(" ",n.zc(18,11,"settings.remove-from-zone")," "),n.Tb(3),n.dd(" ",n.Ac(21,13,"settings.add-countries-to-zone",n.Ic(17,D,e.name))," ")}}const fc=function(e){return["/settings","countries",e]};function gc(e,t){if(1&e){const e=n.mc();n.lc(0,"div"),n.lc(1,"vdr-dropdown"),n.lc(2,"button",18),n.bd(3),n.yc(4,"translate"),n.gc(5,"clr-icon",19),n.kc(),n.lc(6,"vdr-dropdown-menu",20),n.lc(7,"a",35),n.gc(8,"clr-icon",17),n.bd(9),n.yc(10,"translate"),n.kc(),n.lc(11,"button",33),n.vc("click",function(){n.Sc(e);const c=t.member,i=n.xc().ngIf;return n.xc().removeFromZone(i,[c.id])}),n.yc(12,"hasPermission"),n.gc(13,"clr-icon",22),n.bd(14),n.yc(15,"translate"),n.kc(),n.kc(),n.kc(),n.kc()}if(2&e){const e=t.member;n.Tb(3),n.dd(" ",n.zc(4,5,"common.actions")," "),n.Tb(4),n.Ec("routerLink",n.Ic(13,fc,e.id)),n.Tb(2),n.dd(" ",n.zc(10,7,"common.edit")," "),n.Tb(2),n.Ec("disabled",!n.zc(12,9,n.Hc(15,dc))),n.Tb(3),n.dd(" ",n.zc(15,11,"settings.remove-from-zone")," ")}}function hc(e,t){if(1&e){const e=n.mc();n.jc(0),n.lc(1,"vdr-zone-member-list",23),n.vc("selectionChange",function(t){n.Sc(e);return n.xc().selectedMemberIds=t}),n.Zc(2,pc,22,19,"div",24),n.Zc(3,gc,16,16,"div",25),n.kc(),n.ic()}if(2&e){const e=t.ngIf,c=n.xc();n.Tb(1),n.Ec("members",e.members)("selectedMemberIds",c.selectedMemberIds)}}const yc=function(){return["CreateSettings","CreateZone"]};function vc(e,t){1&e&&n.hc(0)}function kc(e,t){if(1&e&&(n.jc(0),n.Zc(1,vc,1,0,"ng-container",4),n.ic()),2&e){const e=n.xc();n.Tb(1),n.Ec("ngTemplateOutlet",e.headerTemplate.templateRef)}}function Tc(e,t){1&e&&n.hc(0)}const Cc=function(e){return{member:e}};function Oc(e,t){if(1&e&&(n.jc(0),n.Zc(1,Tc,1,0,"ng-container",7),n.ic()),2&e){const e=n.xc().item,t=n.xc();n.Tb(1),n.Ec("ngTemplateOutlet",t.controlsTemplate.templateRef)("ngTemplateOutletContext",n.Ic(2,Cc,e))}}function Sc(e,t){if(1&e&&(n.lc(0,"td",5),n.bd(1),n.kc(),n.lc(2,"td",5),n.bd(3),n.kc(),n.lc(4,"td",5),n.gc(5,"clr-icon"),n.kc(),n.lc(6,"td",6),n.Zc(7,Oc,2,4,"ng-container",1),n.kc()),2&e){const e=t.item,c=n.xc();n.Tb(1),n.cd(e.code),n.Tb(2),n.cd(e.name),n.Tb(2),n.Xb("is-success",e.enabled),n.Ub("shape",e.enabled?"check":"times"),n.Tb(2),n.Ec("ngIf",c.controlsTemplate)}}class Ec{constructor(e){this.dataService=e,this.currentMembers=[],this.selectedMemberIds=[]}ngOnInit(){const e=this.currentMembers.map(e=>e.id);this.availableCountries$=this.dataService.settings.getCountries(999).mapStream(e=>e.countries.items).pipe(Object(r.a)(t=>t.filter(t=>!e.includes(t.id))))}cancel(){this.resolveWith()}add(){this.resolveWith(this.selectedMemberIds)}}Ec.\u0275fac=function(e){return new(e||Ec)(n.fc(i.L))},Ec.\u0275cmp=n.Zb({type:Ec,selectors:[["vdr-add-country-to-zone-dialog"]],decls:4,vars:4,consts:[["vdrDialogTitle",""],[3,"members","selectedMemberIds","selectionChange"],["vdrDialogButtons",""],["type","button",1,"btn",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled","click"]],template:function(e,t){1&e&&(n.Zc(0,j,2,6,"ng-template",0),n.lc(1,"vdr-zone-member-list",1),n.vc("selectionChange",function(e){return t.selectedMemberIds=e}),n.yc(2,"async"),n.kc(),n.Zc(3,w,6,10,"ng-template",2)),2&e&&(n.Tb(1),n.Ec("members",n.zc(2,2,t.availableCountries$))("selectedMemberIds",t.selectedMemberIds))},directives:function(){return[i.R,Jc,i.Q]},pipes:function(){return[z.b,I.d]},styles:[""],changeDetection:0}),Ec.ctorParameters=()=>[{type:i.L}];class zc extends i.w{constructor(e,t,c,n,i,r,s){super(t,e,c,i),this.changeDetector=n,this.dataService=i,this.formBuilder=r,this.notificationService=s,this.selectedRoles=[],this.selectedRolePermissions={},this.selectedChannelId=null,this.customFields=this.getCustomFieldConfig("Administrator"),this.detailForm=this.formBuilder.group({emailAddress:["",f.C.required],firstName:["",f.C.required],lastName:["",f.C.required],password:[""],roles:[[]],customFields:this.formBuilder.group(this.customFields.reduce((e,t)=>Object.assign(Object.assign({},e),{[t.name]:""}),{}))})}getAvailableChannels(){return Object.values(this.selectedRolePermissions)}ngOnInit(){this.init(),this.administrator$=this.entity$,this.allRoles$=this.dataService.administrator.getRoles(999).mapStream(e=>e.roles.items.filter(e=>e.code!==y.CUSTOMER_ROLE_CODE)),this.dataService.client.userStatus().single$.subscribe(({userStatus:e})=>{if(!e.permissions.includes(i.Ib.UpdateAdministrator)){const e=this.detailForm.get("roles");e&&e.disable()}}),this.permissionDefinitions=this.serverConfigService.getPermissionDefinitions()}ngOnDestroy(){this.destroy()}customFieldIsSet(e){return!!this.detailForm.get(["customFields",e])}rolesChanged(e){this.buildPermissionsMap()}getPermissionsForSelectedChannel(){function e(e){return Object.entries(e).filter(([e,t])=>t).map(([e,t])=>e)}if(this.selectedChannelId){if(this.selectedRolePermissions[this.selectedChannelId]){return e(this.selectedRolePermissions[this.selectedChannelId].permissions)}}const t=Object.values(this.selectedRolePermissions);return 0<t.length?(this.selectedChannelId=t[0].channelId,e(t[0].permissions)):[]}create(){const e=this.detailForm.value,t={emailAddress:e.emailAddress,firstName:e.firstName,lastName:e.lastName,password:e.password,customFields:e.customFields,roleIds:e.roles.map(e=>e.id)};this.dataService.administrator.createAdministrator(t).subscribe(e=>{this.notificationService.success(Object(h.a)("common.notify-create-success"),{entity:"Administrator"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.router.navigate(["../",e.createAdministrator.id],{relativeTo:this.route})},e=>{this.notificationService.error(Object(h.a)("common.notify-create-error"),{entity:"Administrator"})})}save(){this.administrator$.pipe(Object(s.a)(1),Object(o.a)(({id:e})=>{const t=this.detailForm.value,c={id:e,emailAddress:t.emailAddress,firstName:t.firstName,lastName:t.lastName,password:t.password,customFields:t.customFields,roleIds:t.roles.map(e=>e.id)};return this.dataService.administrator.updateAdministrator(c)})).subscribe(e=>{this.notificationService.success(Object(h.a)("common.notify-update-success"),{entity:"Administrator"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck()},e=>{this.notificationService.error(Object(h.a)("common.notify-update-error"),{entity:"Administrator"})})}setFormValues(e,t){if(this.detailForm.patchValue({emailAddress:e.emailAddress,firstName:e.firstName,lastName:e.lastName,roles:e.user.roles}),this.customFields.length){const t=this.detailForm.get("customFields");for(const c of this.customFields){const n=c.name,i=e.customFields[n],r=t.get(n);r&&r.patchValue(i)}}const c=this.detailForm.get("password");c&&(e.id?c.setValidators([]):c.setValidators([f.C.required])),this.buildPermissionsMap()}buildPermissionsMap(){const e=this.detailForm.get("roles");if(e){const t=e.value,c=new Map,n=new Map;for(const e of t)for(const t of e.channels){const i=c.get(t.id)||new Set;e.permissions.forEach(e=>i.add(e)),c.set(t.id,i),n.set(t.id,t.code)}this.selectedRolePermissions={};for(const e of Array.from(c.keys())){const t=c.get(e),i={};for(const e of this.serverConfigService.getPermissionDefinitions())i[e.name]=t.has(e.name);this.selectedRolePermissions[e]={channelId:e,channelCode:n.get(e),permissions:i}}}}}zc.\u0275fac=function(e){return new(e||zc)(n.fc(g.e),n.fc(g.a),n.fc(i.Mb),n.fc(n.k),n.fc(i.L),n.fc(f.e),n.fc(i.Eb))},zc.\u0275cmp=n.Zb({type:zc,selectors:[["vdr-admin-detail"]],features:[n.Qb],decls:37,vars:47,consts:[[3,"entity"],["locationId","administrator-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],["updateButton",""],[1,"form",3,"formGroup"],["for","emailAddress",3,"label"],["id","emailAddress","type","text","formControlName","emailAddress",3,"readonly"],["for","firstName",3,"label"],["id","firstName","type","text","formControlName","firstName",3,"readonly"],["for","lastName",3,"label"],["id","lastName","type","text","formControlName","lastName",3,"readonly"],["for","password",3,"label",4,"ngIf"],["for","password",3,"label","readOnlyToggle",4,"ngIf"],["formGroupName","customFields",4,"ngIf"],[1,"clr-control-label"],["formControlName","roles","bindLabel","description",3,"items","multiple","hideSelected","change"],["role","tablist",1,"nav"],["role","presentation","class","nav-item",4,"ngFor","ngForOf"],[3,"activePermissions","permissionDefinitions","readonly"],[1,"btn","btn-primary",3,"disabled","click"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],["for","password",3,"label"],["id","password","type","password","formControlName","password"],["for","password",3,"label","readOnlyToggle"],["formGroupName","customFields"],[4,"ngFor","ngForOf"],["entityName","Administrator",3,"customFieldsFormGroup","customField",4,"ngIf"],["entityName","Administrator",3,"customFieldsFormGroup","customField"],["role","presentation",1,"nav-item"],["type","button",1,"btn","btn-link","nav-link",3,"id","click"]],template:function(e,t){if(1&e&&(n.lc(0,"vdr-action-bar"),n.lc(1,"vdr-ab-left"),n.gc(2,"vdr-entity-info",0),n.yc(3,"async"),n.kc(),n.lc(4,"vdr-ab-right"),n.gc(5,"vdr-action-bar-items",1),n.Zc(6,L,3,4,"button",2),n.yc(7,"async"),n.Zc(8,Z,1,1,"ng-template",null,3,n.ad),n.kc(),n.kc(),n.lc(10,"form",4),n.lc(11,"vdr-form-field",5),n.yc(12,"translate"),n.gc(13,"input",6),n.yc(14,"hasPermission"),n.kc(),n.lc(15,"vdr-form-field",7),n.yc(16,"translate"),n.gc(17,"input",8),n.yc(18,"hasPermission"),n.kc(),n.lc(19,"vdr-form-field",9),n.yc(20,"translate"),n.gc(21,"input",10),n.yc(22,"hasPermission"),n.kc(),n.Zc(23,A,3,3,"vdr-form-field",11),n.yc(24,"async"),n.Zc(25,$,3,4,"vdr-form-field",12),n.yc(26,"async"),n.yc(27,"hasPermission"),n.Zc(28,_,5,4,"section",13),n.lc(29,"label",14),n.bd(30),n.yc(31,"translate"),n.kc(),n.lc(32,"ng-select",15),n.vc("change",function(e){return t.rolesChanged(e)}),n.yc(33,"async"),n.kc(),n.lc(34,"ul",16),n.Zc(35,q,5,9,"li",17),n.kc(),n.gc(36,"vdr-permission-grid",18),n.kc()),2&e){const e=n.Oc(9);n.Tb(2),n.Ec("entity",n.zc(3,21,t.entity$)),n.Tb(4),n.Ec("ngIf",n.zc(7,23,t.isNew$))("ngIfElse",e),n.Tb(4),n.Ec("formGroup",t.detailForm),n.Tb(1),n.Ec("label",n.zc(12,25,"settings.email-address")),n.Tb(2),n.Ec("readonly",!n.zc(14,27,"UpdateAdministrator")),n.Tb(2),n.Ec("label",n.zc(16,29,"settings.first-name")),n.Tb(2),n.Ec("readonly",!n.zc(18,31,"UpdateAdministrator")),n.Tb(2),n.Ec("label",n.zc(20,33,"settings.last-name")),n.Tb(2),n.Ec("readonly",!n.zc(22,35,"UpdateAdministrator")),n.Tb(2),n.Ec("ngIf",n.zc(24,37,t.isNew$)),n.Tb(2),n.Ec("ngIf",!n.zc(26,39,t.isNew$)&&n.zc(27,41,"UpdateAdministrator")),n.Tb(3),n.Ec("ngIf",t.customFields.length),n.Tb(2),n.cd(n.zc(31,43,"settings.roles")),n.Tb(2),n.Ec("items",n.zc(33,45,t.allRoles$))("multiple",!0)("hideSelected",!0),n.Tb(3),n.Ec("ngForOf",t.getAvailableChannels()),n.Tb(1),n.Ec("activePermissions",t.getPermissionsForSelectedChannel())("permissionDefinitions",t.permissionDefinitions)("readonly",!0)}},directives:function(){return[i.c,i.e,i.ab,i.f,i.d,z.o,f.E,f.q,f.j,i.db,i.eb,f.b,f.p,f.h,P.u,F.a,z.n,Mc,i.qb,f.k,i.I]},pipes:function(){return[z.b,I.d,i.ib,i.C]},styles:[""],changeDetection:0}),zc.ctorParameters=()=>[{type:g.e},{type:g.a},{type:i.Mb},{type:n.k},{type:i.L},{type:f.e},{type:i.Eb}];class Ic extends i.y{constructor(e,t,c,n,i){super(t,c),this.dataService=e,this.modalService=n,this.notificationService=i,super.setQueryFn((...e)=>this.dataService.administrator.getAdministrators(...e),e=>e.administrators)}deleteAdministrator(e){return this.modalService.dialog({title:Object(h.a)("catalog.confirm-delete-administrator"),body:`${e.firstName} ${e.lastName}`,buttons:[{type:"secondary",label:Object(h.a)("common.cancel")},{type:"danger",label:Object(h.a)("common.delete"),returnValue:!0}]}).pipe(Object(a.a)(t=>t?this.dataService.administrator.deleteAdministrator(e.id):v.a)).subscribe(()=>{this.notificationService.success(Object(h.a)("common.notify-delete-success"),{entity:"Administrator"}),this.refresh()},e=>{this.notificationService.error(Object(h.a)("common.notify-delete-error"),{entity:"Administrator"})})}}Ic.\u0275fac=function(e){return new(e||Ic)(n.fc(i.L),n.fc(g.e),n.fc(g.a),n.fc(i.Db),n.fc(i.Eb))},Ic.\u0275cmp=n.Zb({type:Ic,selectors:[["vdr-administrator-list"]],features:[n.Qb],decls:21,vars:22,consts:[["locationId","administrator-list"],["class","btn btn-primary",3,"routerLink",4,"vdrIfPermissions"],[3,"items","itemsPerPage","totalItems","currentPage","pageChange","itemsPerPageChange"],[1,"btn","btn-primary",3,"routerLink"],["shape","plus"],[1,"left","align-middle"],[1,"right","align-middle"],["iconShape","edit",3,"label","linkTo"],["type","button","vdrDropdownTrigger","",1,"btn","btn-link","btn-sm"],["shape","caret down"],["vdrPosition","bottom-right"],["type","button","vdrDropdownItem","",1,"delete-button",3,"disabled","click"],["shape","trash",1,"is-danger"]],template:function(e,t){1&e&&(n.lc(0,"vdr-action-bar"),n.lc(1,"vdr-ab-right"),n.gc(2,"vdr-action-bar-items",0),n.Zc(3,G,4,5,"a",1),n.kc(),n.kc(),n.lc(4,"vdr-data-table",2),n.vc("pageChange",function(e){return t.setPageNumber(e)})("itemsPerPageChange",function(e){return t.setItemsPerPage(e)}),n.yc(5,"async"),n.yc(6,"async"),n.yc(7,"async"),n.yc(8,"async"),n.lc(9,"vdr-dt-column"),n.bd(10),n.yc(11,"translate"),n.kc(),n.lc(12,"vdr-dt-column"),n.bd(13),n.yc(14,"translate"),n.kc(),n.lc(15,"vdr-dt-column"),n.bd(16),n.yc(17,"translate"),n.kc(),n.gc(18,"vdr-dt-column"),n.gc(19,"vdr-dt-column"),n.Zc(20,H,21,18,"ng-template"),n.kc()),2&e&&(n.Tb(3),n.Ec("vdrIfPermissions","CreateAdministrator"),n.Tb(1),n.Ec("items",n.zc(5,8,t.items$))("itemsPerPage",n.zc(6,10,t.itemsPerPage$))("totalItems",n.zc(7,12,t.totalItems$))("currentPage",n.zc(8,14,t.currentPage$)),n.Tb(6),n.cd(n.zc(11,16,"settings.first-name")),n.Tb(3),n.cd(n.zc(14,18,"settings.last-name")),n.Tb(3),n.cd(n.zc(17,20,"settings.email-address")))},directives:[i.c,i.f,i.d,i.qb,i.N,i.M,g.h,P.o,i.Tb,i.T,i.W,i.V,i.U],pipes:[z.b,I.d,i.ib],styles:[""]}),Ic.ctorParameters=()=>[{type:i.L},{type:g.e},{type:g.a},{type:i.Db},{type:i.Eb}];class Pc extends i.w{constructor(e,t,c,n,r,s,o){super(t,e,c,r),this.serverConfigService=c,this.changeDetector=n,this.dataService=r,this.formBuilder=s,this.notificationService=o,this.currencyCodes=Object.values(i.G),this.updatePermission=[i.Ib.SuperAdmin,i.Ib.UpdateChannel,i.Ib.CreateChannel],this.customFields=this.getCustomFieldConfig("Channel"),this.detailForm=this.formBuilder.group({code:["",f.C.required],token:["",f.C.required],pricesIncludeTax:[!1],currencyCode:[""],defaultShippingZoneId:["",f.C.required],defaultLanguageCode:[],defaultTaxZoneId:["",f.C.required],customFields:this.formBuilder.group(this.customFields.reduce((e,t)=>Object.assign(Object.assign({},e),{[t.name]:""}),{}))})}ngOnInit(){this.init(),this.zones$=this.dataService.settings.getZones().mapSingle(e=>e.zones),this.availableLanguageCodes$=this.serverConfigService.getAvailableLanguages()}ngOnDestroy(){this.destroy()}customFieldIsSet(e){return!!this.detailForm.get(["customFields",e])}saveButtonEnabled(){return this.detailForm.dirty&&this.detailForm.valid}create(){if(!this.detailForm.dirty)return;const e=this.detailForm.value,t={code:e.code,token:e.token,defaultLanguageCode:e.defaultLanguageCode,pricesIncludeTax:e.pricesIncludeTax,currencyCode:e.currencyCode,defaultShippingZoneId:e.defaultShippingZoneId,defaultTaxZoneId:e.defaultTaxZoneId,customFields:e.customFields};this.dataService.settings.createChannel(t).pipe(Object(o.a)(({createChannel:e})=>this.dataService.auth.currentUser().single$.pipe(Object(r.a)(({me:t})=>({me:t,createChannel:e})))),Object(o.a)(({me:e,createChannel:t})=>this.dataService.client.updateUserChannels(e.channels).pipe(Object(r.a)(()=>t)))).subscribe(e=>{switch(e.__typename){case"Channel":this.notificationService.success(Object(h.a)("common.notify-create-success"),{entity:"Channel"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.router.navigate(["../",e.id],{relativeTo:this.route});break;case"LanguageNotAvailableError":this.notificationService.error(e.message)}})}save(){if(!this.detailForm.dirty)return;const e=this.detailForm.value;this.entity$.pipe(Object(s.a)(1),Object(o.a)(t=>{const c={id:t.id,code:e.code,token:e.token,pricesIncludeTax:e.pricesIncludeTax,currencyCode:e.currencyCode,defaultShippingZoneId:e.defaultShippingZoneId,defaultLanguageCode:e.defaultLanguageCode,defaultTaxZoneId:e.defaultTaxZoneId,customFields:e.customFields};return this.dataService.settings.updateChannel(c)})).subscribe(({updateChannel:e})=>{switch(e.__typename){case"Channel":this.notificationService.success(Object(h.a)("common.notify-update-success"),{entity:"Channel"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck();break;case"LanguageNotAvailableError":this.notificationService.error(e.message)}})}setFormValues(e,t){if(this.detailForm.patchValue({code:e.code,token:e.token||this.generateToken(),pricesIncludeTax:e.pricesIncludeTax,currencyCode:e.currencyCode,defaultShippingZoneId:e.defaultShippingZone?e.defaultShippingZone.id:"",defaultLanguageCode:e.defaultLanguageCode,defaultTaxZoneId:e.defaultTaxZone?e.defaultTaxZone.id:""}),this.customFields.length){const t=this.detailForm.get("customFields");for(const c of this.customFields){const n=c.name,i=e.customFields[n],r=t.get(n);r&&r.patchValue(i)}}if(e.code===y.DEFAULT_CHANNEL_CODE){const e=this.detailForm.get("code");e&&e.disable()}}generateToken(){const e=()=>Math.random().toString(36).substr(3,10);return`${e()}${e()}`}}Pc.\u0275fac=function(e){return new(e||Pc)(n.fc(g.e),n.fc(g.a),n.fc(i.Mb),n.fc(n.k),n.fc(i.L),n.fc(f.e),n.fc(i.Eb))},Pc.\u0275cmp=n.Zb({type:Pc,selectors:[["vdr-channel-detail"]],features:[n.Qb],decls:52,vars:63,consts:[[3,"entity"],["locationId","channel-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],["updateButton",""],[1,"form",3,"formGroup"],["for","code",3,"label"],["id","code","type","text","formControlName","code",3,"readonly"],["for","token",3,"label"],["id","token","type","text","formControlName","token",3,"readonly"],["for","defaultTaxZoneId",3,"label"],["clrSelect","","name","currencyCode","formControlName","currencyCode",3,"vdrDisabled"],[3,"value",4,"ngFor","ngForOf"],["for","defaultLanguage",3,"label"],["clrSelect","","name","defaultLanguageCode","formControlName","defaultLanguageCode",3,"vdrDisabled"],["for","pricesIncludeTax",3,"label"],["type","checkbox","clrToggle","","id","pricesIncludeTax","formControlName","pricesIncludeTax",3,"vdrDisabled"],["clrSelect","","name","defaultTaxZoneId","formControlName","defaultTaxZoneId",3,"vdrDisabled"],["selected","","value","",2,"display","none"],["clrAlertType","danger",3,"clrAlertClosable",4,"ngIf"],["for","defaultShippingZoneId",3,"label"],["clrSelect","","name","defaultShippingZoneId","formControlName","defaultShippingZoneId",3,"vdrDisabled"],["clrAlertType","warning",3,"clrAlertClosable",4,"ngIf"],["formGroupName","customFields",4,"ngIf"],[1,"btn","btn-primary",3,"disabled","click"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[3,"value"],["clrAlertType","danger",3,"clrAlertClosable"],[1,"alert-text"],["clrAlertType","warning",3,"clrAlertClosable"],["formGroupName","customFields"],[4,"ngFor","ngForOf"],["entityName","Channel",3,"customFieldsFormGroup","customField",4,"ngIf"],["entityName","Channel",3,"customFieldsFormGroup","customField"]],template:function(e,t){if(1&e&&(n.lc(0,"vdr-action-bar"),n.lc(1,"vdr-ab-left"),n.gc(2,"vdr-entity-info",0),n.yc(3,"async"),n.kc(),n.lc(4,"vdr-ab-right"),n.gc(5,"vdr-action-bar-items",1),n.Zc(6,B,3,4,"button",2),n.yc(7,"async"),n.Zc(8,K,1,2,"ng-template",null,3,n.ad),n.kc(),n.kc(),n.lc(10,"form",4),n.lc(11,"vdr-form-field",5),n.yc(12,"translate"),n.gc(13,"input",6),n.yc(14,"hasPermission"),n.kc(),n.lc(15,"vdr-form-field",7),n.yc(16,"translate"),n.gc(17,"input",8),n.yc(18,"hasPermission"),n.kc(),n.lc(19,"vdr-form-field",9),n.yc(20,"translate"),n.lc(21,"select",10),n.yc(22,"hasPermission"),n.Zc(23,Y,3,4,"option",11),n.kc(),n.kc(),n.lc(24,"vdr-form-field",12),n.yc(25,"translate"),n.lc(26,"select",13),n.yc(27,"hasPermission"),n.Zc(28,X,4,7,"option",11),n.yc(29,"async"),n.kc(),n.kc(),n.lc(30,"vdr-form-field",14),n.yc(31,"translate"),n.lc(32,"clr-toggle-wrapper"),n.gc(33,"input",15),n.yc(34,"hasPermission"),n.kc(),n.kc(),n.lc(35,"vdr-form-field",9),n.yc(36,"translate"),n.lc(37,"select",16),n.yc(38,"hasPermission"),n.gc(39,"option",17),n.Zc(40,J,2,2,"option",11),n.yc(41,"async"),n.kc(),n.kc(),n.Zc(42,ee,5,4,"clr-alert",18),n.lc(43,"vdr-form-field",19),n.yc(44,"translate"),n.lc(45,"select",20),n.yc(46,"hasPermission"),n.gc(47,"option",17),n.Zc(48,te,2,2,"option",11),n.yc(49,"async"),n.kc(),n.kc(),n.Zc(50,ce,5,4,"clr-alert",21),n.Zc(51,re,5,4,"section",22),n.kc()),2&e){const e=n.Oc(9);n.Tb(2),n.Ec("entity",n.zc(3,25,t.entity$)),n.Tb(4),n.Ec("ngIf",n.zc(7,27,t.isNew$))("ngIfElse",e),n.Tb(4),n.Ec("formGroup",t.detailForm),n.Tb(1),n.Ec("label",n.zc(12,29,"common.code")),n.Tb(2),n.Ec("readonly",!n.zc(14,31,t.updatePermission)),n.Tb(2),n.Ec("label",n.zc(16,33,"settings.channel-token")),n.Tb(2),n.Ec("readonly",!n.zc(18,35,t.updatePermission)),n.Tb(2),n.Ec("label",n.zc(20,37,"settings.currency")),n.Tb(2),n.Ec("vdrDisabled",!n.zc(22,39,t.updatePermission)),n.Tb(2),n.Ec("ngForOf",t.currencyCodes),n.Tb(1),n.Ec("label",n.zc(25,41,"common.default-language")),n.Tb(2),n.Ec("vdrDisabled",!n.zc(27,43,t.updatePermission)),n.Tb(2),n.Ec("ngForOf",n.zc(29,45,t.availableLanguageCodes$)),n.Tb(2),n.Ec("label",n.zc(31,47,"settings.prices-include-tax")),n.Tb(3),n.Ec("vdrDisabled",!n.zc(34,49,t.updatePermission)),n.Tb(2),n.Ec("label",n.zc(36,51,"settings.default-tax-zone")),n.Tb(2),n.Ec("vdrDisabled",!n.zc(38,53,t.updatePermission)),n.Tb(3),n.Ec("ngForOf",n.zc(41,55,t.zones$)),n.Tb(2),n.Ec("ngIf",t.detailForm.value.code&&!t.detailForm.value.defaultTaxZoneId),n.Tb(1),n.Ec("label",n.zc(44,57,"settings.default-shipping-zone")),n.Tb(2),n.Ec("vdrDisabled",!n.zc(46,59,t.updatePermission)),n.Tb(3),n.Ec("ngForOf",n.zc(49,61,t.zones$)),n.Tb(2),n.Ec("ngIf",t.detailForm.value.code&&!t.detailForm.value.defaultShippingZoneId),n.Tb(1),n.Ec("ngIf",t.customFields.length)}},directives:[i.c,i.e,i.ab,i.f,i.d,z.o,f.E,f.q,f.j,i.db,i.eb,f.b,f.p,f.h,f.A,P.A,i.S,z.n,P.k,f.a,P.i,f.u,f.D,i.qb,P.f,P.g,P.h,f.k,P.u,i.I],pipes:[z.b,I.d,i.ib,i.yb,i.Bb,z.A],styles:["clr-alert[_ngcontent-%COMP%]{max-width:30rem;margin-bottom:12px}"],changeDetection:0}),Pc.ctorParameters=()=>[{type:g.e},{type:g.a},{type:i.Mb},{type:n.k},{type:i.L},{type:f.e},{type:i.Eb}];class Fc{constructor(e,t,c){this.dataService=e,this.modalService=t,this.notificationService=c,this.refresh$=new k.a,this.channels$=this.refresh$.pipe(Object(l.a)(1),Object(a.a)(()=>this.dataService.settings.getChannels().mapStream(e=>e.channels)))}isDefaultChannel(e){return e===y.DEFAULT_CHANNEL_CODE}deleteChannel(e){this.modalService.dialog({title:Object(h.a)("catalog.confirm-delete-channel"),buttons:[{type:"secondary",label:Object(h.a)("common.cancel")},{type:"danger",label:Object(h.a)("common.delete"),returnValue:!0}]}).pipe(Object(a.a)(t=>t?this.dataService.settings.deleteChannel(e):v.a),Object(o.a)(()=>this.dataService.auth.currentUser().single$),Object(o.a)(e=>this.dataService.client.updateUserChannels(e.me.channels))).subscribe(()=>{this.notificationService.success(Object(h.a)("common.notify-delete-success"),{entity:"Channel"}),this.refresh$.next(1)},e=>{this.notificationService.error(Object(h.a)("common.notify-delete-error"),{entity:"Channel"})})}}Fc.\u0275fac=function(e){return new(e||Fc)(n.fc(i.L),n.fc(i.Db),n.fc(i.Eb))},Fc.\u0275cmp=n.Zb({type:Fc,selectors:[["vdr-channel-list"]],decls:12,vars:7,consts:[["locationId","channel-list"],["class","btn btn-primary",3,"routerLink",4,"vdrIfPermissions"],[3,"items"],[1,"btn","btn-primary",3,"routerLink"],["shape","plus"],[1,"left","align-middle"],[3,"channelCode"],[1,"right","align-middle"],["iconShape","edit",3,"label","linkTo"],["type","button","vdrDropdownTrigger","",1,"btn","btn-link","btn-sm",3,"disabled"],["shape","caret down"],["vdrPosition","bottom-right"],["type","button","vdrDropdownItem","",1,"delete-button",3,"disabled","click"],["shape","trash",1,"is-danger"]],template:function(e,t){1&e&&(n.lc(0,"vdr-action-bar"),n.lc(1,"vdr-ab-right"),n.gc(2,"vdr-action-bar-items",0),n.Zc(3,se,4,5,"a",1),n.kc(),n.kc(),n.lc(4,"vdr-data-table",2),n.yc(5,"async"),n.lc(6,"vdr-dt-column"),n.bd(7),n.yc(8,"translate"),n.kc(),n.gc(9,"vdr-dt-column"),n.gc(10,"vdr-dt-column"),n.Zc(11,ae,20,23,"ng-template"),n.kc()),2&e&&(n.Tb(3),n.Ec("vdrIfPermissions","SuperAdmin"),n.Tb(1),n.Ec("items",n.zc(5,3,t.channels$)),n.Tb(3),n.cd(n.zc(8,5,"common.code")))},directives:[i.c,i.f,i.d,i.qb,i.N,i.M,g.h,P.o,i.B,i.Tb,i.T,i.W,i.V,i.U],pipes:[z.b,I.d,i.C,i.ib],styles:[""],changeDetection:0}),Fc.ctorParameters=()=>[{type:i.L},{type:i.Db},{type:i.Eb}];class xc extends i.w{constructor(e,t,c,n,r,s,o){super(t,e,c,r),this.changeDetector=n,this.dataService=r,this.formBuilder=s,this.notificationService=o,this.updatePermission=[i.Ib.UpdateSettings,i.Ib.UpdateCountry],this.detailForm=this.formBuilder.group({code:["",f.C.required],name:["",f.C.required],enabled:[!0]})}ngOnInit(){this.init(),this.country$=this.entity$}ngOnDestroy(){this.destroy()}create(){this.detailForm.dirty&&Object(T.a)(this.country$,this.languageCode$).pipe(Object(s.a)(1),Object(o.a)(([e,t])=>{const c=this.detailForm.value,n=Object(i.bc)({translatable:e,updatedFields:c,languageCode:t,defaultTranslation:{name:c.name,languageCode:t}});return this.dataService.settings.createCountry(n)})).subscribe(e=>{this.notificationService.success(Object(h.a)("common.notify-create-success"),{entity:"Country"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.router.navigate(["../",e.createCountry.id],{relativeTo:this.route})},e=>{this.notificationService.error(Object(h.a)("common.notify-create-error"),{entity:"Country"})})}save(){Object(T.a)(this.country$,this.languageCode$).pipe(Object(s.a)(1),Object(o.a)(([e,t])=>{const c=this.detailForm.value,n=Object(i.bc)({translatable:e,updatedFields:c,languageCode:t,defaultTranslation:{name:c.name,languageCode:t}});return this.dataService.settings.updateCountry(n)})).subscribe(e=>{this.notificationService.success(Object(h.a)("common.notify-update-success"),{entity:"Country"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck()},e=>{this.notificationService.error(Object(h.a)("common.notify-update-error"),{entity:"Country"})})}setFormValues(e,t){const c=Object(i.ec)(e,t);this.detailForm.patchValue({code:e.code,name:c?c.name:"",enabled:e.enabled})}}xc.\u0275fac=function(e){return new(e||xc)(n.fc(g.e),n.fc(g.a),n.fc(i.Mb),n.fc(n.k),n.fc(i.L),n.fc(f.e),n.fc(i.Eb))},xc.\u0275cmp=n.Zb({type:xc,selectors:[["vdr-country-detail"]],features:[n.Qb],decls:28,vars:35,consts:[[3,"entity"],[3,"disabled","availableLanguageCodes","currentLanguageCode","languageCodeChange"],["locationId","country-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],["updateButton",""],[1,"form",3,"formGroup"],["for","code",3,"label"],["id","code","type","text","formControlName","code",3,"readonly"],["for","name",3,"label"],["id","name","type","text","formControlName","name",3,"readonly"],["for","enabled",3,"label"],["type","checkbox","clrToggle","","id","enabled","formControlName","enabled",3,"vdrDisabled"],[1,"btn","btn-primary",3,"disabled","click"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"]],template:function(e,t){if(1&e&&(n.lc(0,"vdr-action-bar"),n.lc(1,"vdr-ab-left"),n.gc(2,"vdr-entity-info",0),n.yc(3,"async"),n.lc(4,"vdr-language-selector",1),n.vc("languageCodeChange",function(e){return t.setLanguage(e)}),n.yc(5,"async"),n.yc(6,"async"),n.yc(7,"async"),n.kc(),n.kc(),n.lc(8,"vdr-ab-right"),n.gc(9,"vdr-action-bar-items",2),n.Zc(10,le,3,4,"button",3),n.yc(11,"async"),n.Zc(12,me,1,1,"ng-template",null,4,n.ad),n.kc(),n.kc(),n.lc(14,"form",5),n.lc(15,"vdr-form-field",6),n.yc(16,"translate"),n.gc(17,"input",7),n.yc(18,"hasPermission"),n.kc(),n.lc(19,"vdr-form-field",8),n.yc(20,"translate"),n.gc(21,"input",9),n.yc(22,"hasPermission"),n.kc(),n.lc(23,"vdr-form-field",10),n.yc(24,"translate"),n.lc(25,"clr-toggle-wrapper"),n.gc(26,"input",11),n.yc(27,"hasPermission"),n.kc(),n.kc(),n.kc()),2&e){const e=n.Oc(13);n.Tb(2),n.Ec("entity",n.zc(3,13,t.entity$)),n.Tb(2),n.Ec("disabled",n.zc(5,15,t.isNew$))("availableLanguageCodes",n.zc(6,17,t.availableLanguages$))("currentLanguageCode",n.zc(7,19,t.languageCode$)),n.Tb(6),n.Ec("ngIf",n.zc(11,21,t.isNew$))("ngIfElse",e),n.Tb(4),n.Ec("formGroup",t.detailForm),n.Tb(1),n.Ec("label",n.zc(16,23,"common.code")),n.Tb(2),n.Ec("readonly",!n.zc(18,25,t.updatePermission)),n.Tb(2),n.Ec("label",n.zc(20,27,"common.name")),n.Tb(2),n.Ec("readonly",!n.zc(22,29,t.updatePermission)),n.Tb(2),n.Ec("label",n.zc(24,31,"common.enabled")),n.Tb(3),n.Ec("vdrDisabled",!n.zc(27,33,t.updatePermission))}},directives:[i.c,i.e,i.ab,i.wb,i.f,i.d,z.o,f.E,f.q,f.j,i.db,i.eb,f.b,f.p,f.h,P.k,f.a,P.i,i.S,i.qb],pipes:[z.b,I.d,i.ib],styles:[""]}),xc.ctorParameters=()=>[{type:g.e},{type:g.a},{type:i.Mb},{type:n.k},{type:i.L},{type:f.e},{type:i.Eb}];class Dc{constructor(e,t,c){this.dataService=e,this.notificationService=t,this.modalService=c,this.searchTerm=new f.f(""),this.countries=[],this.destroy$=new k.a}ngOnInit(){const e=this.searchTerm.valueChanges.pipe(Object(l.a)(null),Object(a.a)(e=>this.dataService.settings.getCountries(999,0,e).stream$),Object(d.a)(e=>this.countries=e.countries.items),Object(r.a)(e=>e.countries.items));this.zones$=this.dataService.settings.getZones().mapStream(e=>e.zones),this.countriesWithZones$=Object(T.a)(e,this.zones$).pipe(Object(r.a)(([e,t])=>e.map(e=>Object.assign(Object.assign({},e),{zones:t.filter(t=>!!t.members.find(t=>t.id===e.id))}))))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}deleteCountry(e){this.modalService.dialog({title:Object(h.a)("catalog.confirm-delete-country"),buttons:[{type:"secondary",label:Object(h.a)("common.cancel")},{type:"danger",label:Object(h.a)("common.delete"),returnValue:!0}]}).pipe(Object(a.a)(t=>t?this.dataService.settings.deleteCountry(e):v.a)).subscribe(e=>{e.deleteCountry.result===i.P.DELETED?(this.notificationService.success(Object(h.a)("common.notify-delete-success"),{entity:"Country"}),this.dataService.settings.getCountries(999,0).single$.subscribe()):this.notificationService.error(e.deleteCountry.message||"")},e=>{this.notificationService.error(Object(h.a)("common.notify-delete-error"),{entity:"Country"})})}isZone(e){return e.hasOwnProperty("id")}}Dc.\u0275fac=function(e){return new(e||Dc)(n.fc(i.L),n.fc(i.Eb),n.fc(i.Db))},Dc.\u0275cmp=n.Zb({type:Dc,selectors:[["vdr-country-list"]],decls:24,vars:22,consts:[["type","text","name","searchTerm",1,"search-input",3,"formControl","placeholder"],["locationId","country-list"],["class","btn btn-primary",3,"routerLink",4,"vdrIfPermissions"],[3,"items"],[3,"expand"],[1,"btn","btn-primary",3,"routerLink"],["shape","plus"],[1,"left","align-middle"],[3,"routerLink",4,"ngFor","ngForOf"],[1,"right","align-middle"],["iconShape","edit",3,"label","linkTo"],["type","button","vdrDropdownTrigger","",1,"btn","btn-link","btn-sm"],["shape","caret down"],["vdrPosition","bottom-right"],["type","button","vdrDropdownItem","",1,"delete-button",3,"disabled","click"],["shape","trash",1,"is-danger"],[3,"routerLink"],[3,"colorFrom"]],template:function(e,t){1&e&&(n.lc(0,"vdr-action-bar"),n.lc(1,"vdr-ab-left"),n.gc(2,"input",0),n.yc(3,"translate"),n.kc(),n.lc(4,"vdr-ab-right"),n.gc(5,"vdr-action-bar-items",1),n.Zc(6,ue,4,5,"a",2),n.kc(),n.kc(),n.lc(7,"vdr-data-table",3),n.yc(8,"async"),n.lc(9,"vdr-dt-column"),n.bd(10),n.yc(11,"translate"),n.kc(),n.lc(12,"vdr-dt-column",4),n.bd(13),n.yc(14,"translate"),n.kc(),n.lc(15,"vdr-dt-column"),n.bd(16),n.yc(17,"translate"),n.kc(),n.lc(18,"vdr-dt-column"),n.bd(19),n.yc(20,"translate"),n.kc(),n.gc(21,"vdr-dt-column"),n.gc(22,"vdr-dt-column"),n.Zc(23,he,23,22,"ng-template"),n.kc()),2&e&&(n.Tb(2),n.Ec("formControl",t.searchTerm)("placeholder",n.zc(3,9,"settings.search-country-by-name")),n.Tb(4),n.Ec("vdrIfPermissions",n.Hc(21,ye)),n.Tb(1),n.Ec("items",n.zc(8,11,t.countriesWithZones$)),n.Tb(3),n.cd(n.zc(11,13,"common.code")),n.Tb(2),n.Ec("expand",!0),n.Tb(1),n.cd(n.zc(14,15,"common.name")),n.Tb(3),n.cd(n.zc(17,17,"settings.zone")),n.Tb(3),n.cd(n.zc(20,19,"common.enabled")))},directives:[i.c,i.e,i.eb,f.b,f.p,f.g,i.f,i.d,i.qb,i.N,i.M,g.h,P.o,z.n,i.Tb,i.T,i.W,i.V,i.U,i.D],pipes:[I.d,z.b,i.ib],styles:[".search-input[_ngcontent-%COMP%]{margin-top:6px;min-width:300px}"],changeDetection:0}),Dc.ctorParameters=()=>[{type:i.L},{type:i.Eb},{type:i.Db}];class jc extends i.w{constructor(e,t,c,n,r,s,o){super(t,e,c,r),this.changeDetector=n,this.dataService=r,this.formBuilder=s,this.notificationService=o,this.languageCodes=Object.values(i.vb),this.updatePermission=[i.Ib.UpdateSettings,i.Ib.UpdateGlobalSettings],this.customFields=this.getCustomFieldConfig("GlobalSettings"),this.detailForm=this.formBuilder.group({availableLanguages:[""],trackInventory:!1,outOfStockThreshold:[0,f.C.required],customFields:this.formBuilder.group(this.customFields.reduce((e,t)=>Object.assign(Object.assign({},e),{[t.name]:""}),{}))})}ngOnInit(){this.init(),this.dataService.client.userStatus().single$.subscribe(({userStatus:e})=>{if(!e.permissions.includes(i.Ib.UpdateSettings)){const e=this.detailForm.get("availableLanguages");e&&e.disable()}})}customFieldIsSet(e){return!!this.detailForm.get(["customFields",e])}save(){this.detailForm.dirty&&this.dataService.settings.updateGlobalSettings(this.detailForm.value).pipe(Object(d.a)(({updateGlobalSettings:e})=>{switch(e.__typename){case"GlobalSettings":this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.notificationService.success(Object(h.a)("common.notify-update-success"),{entity:"Settings"});break;case"ChannelDefaultLanguageError":this.notificationService.error(e.message)}}),Object(a.a)(()=>this.serverConfigService.refreshGlobalSettings()),Object(m.a)(this.dataService.client.uiState().single$)).subscribe(([{globalSettings:e},{uiState:t}])=>{const c=e.availableLanguages;c.length&&!c.includes(t.contentLanguage)&&this.dataService.client.setContentLanguage(c[0]).subscribe()})}setFormValues(e,t){if(this.detailForm.patchValue({availableLanguages:e.availableLanguages,trackInventory:e.trackInventory,outOfStockThreshold:e.outOfStockThreshold}),this.customFields.length){const t=this.detailForm.get("customFields");for(const c of this.customFields){const n=c.name,i=e.customFields[n],r=t.get(n);r&&r.patchValue(i)}}}}jc.\u0275fac=function(e){return new(e||jc)(n.fc(g.e),n.fc(g.a),n.fc(i.Mb),n.fc(n.k),n.fc(i.L),n.fc(f.e),n.fc(i.Eb))},jc.\u0275cmp=n.Zb({type:jc,selectors:[["vdr-global-settings"]],features:[n.Qb],decls:22,vars:27,consts:[["locationId","global-settings-detail"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[1,"form",3,"formGroup"],["for","availableLanguages",3,"label"],["multiple","true","appendTo","body","formControlName","availableLanguages",3,"items","addTag","hideSelected"],["ng-label-tmp",""],["ng-option-tmp",""],["for","outOfStockThreshold",3,"label","tooltip"],["id","outOfStockThreshold","type","number","formControlName","outOfStockThreshold",3,"readonly"],["for","enabled",3,"label","tooltip"],["type","checkbox","clrToggle","","name","enabled","formControlName","trackInventory",3,"vdrDisabled"],["formGroupName","customFields",4,"ngIf"],[1,"btn","btn-primary",3,"disabled","click"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label"],["formGroupName","customFields"],[4,"ngFor","ngForOf"],["entityName","GlobalSettings",3,"customFieldsFormGroup","customField",4,"ngIf"],["entityName","GlobalSettings",3,"customFieldsFormGroup","customField"]],template:function(e,t){1&e&&(n.lc(0,"vdr-action-bar"),n.lc(1,"vdr-ab-right"),n.gc(2,"vdr-action-bar-items",0),n.Zc(3,ve,3,4,"button",1),n.kc(),n.kc(),n.lc(4,"form",2),n.lc(5,"vdr-form-field",3),n.yc(6,"translate"),n.lc(7,"ng-select",4),n.Zc(8,ke,5,4,"ng-template",5),n.Zc(9,Te,2,4,"ng-template",6),n.kc(),n.kc(),n.lc(10,"vdr-form-field",7),n.yc(11,"translate"),n.yc(12,"translate"),n.gc(13,"input",8),n.yc(14,"hasPermission"),n.kc(),n.lc(15,"vdr-form-field",9),n.yc(16,"translate"),n.yc(17,"translate"),n.lc(18,"clr-toggle-wrapper"),n.gc(19,"input",10),n.yc(20,"hasPermission"),n.kc(),n.kc(),n.Zc(21,Se,5,4,"section",11),n.kc()),2&e&&(n.Tb(3),n.Ec("vdrIfPermissions",t.updatePermission),n.Tb(1),n.Ec("formGroup",t.detailForm),n.Tb(1),n.Ec("label",n.zc(6,13,"common.available-languages")),n.Tb(2),n.Ec("items",t.languageCodes)("addTag",!1)("hideSelected",!0),n.Tb(3),n.Ec("label",n.zc(11,15,"settings.global-out-of-stock-threshold"))("tooltip",n.zc(12,17,"settings.global-out-of-stock-threshold-tooltip")),n.Tb(3),n.Ec("readonly",!n.zc(14,19,t.updatePermission)),n.Tb(2),n.Ec("label",n.zc(16,21,"settings.track-inventory-default"))("tooltip",n.zc(17,23,"catalog.track-inventory-tooltip")),n.Tb(4),n.Ec("vdrDisabled",!n.zc(20,25,t.updatePermission)),n.Tb(2),n.Ec("ngIf",t.customFields.length))},directives:[i.c,i.f,i.d,i.qb,f.E,f.q,f.j,i.db,F.a,f.p,f.h,F.e,F.d,i.eb,f.v,f.b,P.k,f.a,P.i,i.S,z.o,f.k,P.u,z.n,i.I],pipes:[I.d,i.ib,i.Bb],styles:["ng-select .ng-arrow-wrapper .ng-arrow,   ng-select .ng-select-container>span,   ng-select .ng-value>span{margin:0!important}"],changeDetection:0}),jc.ctorParameters=()=>[{type:g.e},{type:g.a},{type:i.Mb},{type:n.k},{type:i.L},{type:f.e},{type:i.Eb}];class wc extends i.w{constructor(e,t,c,n,r,s,o){super(t,e,c,r),this.changeDetector=n,this.dataService=r,this.formBuilder=s,this.notificationService=o,this.checkers=[],this.handlers=[],this.updatePermission=[i.Ib.UpdateSettings,i.Ib.UpdatePaymentMethod],this.detailForm=this.formBuilder.group({code:["",f.C.required],name:["",f.C.required],description:"",enabled:[!0,f.C.required],checker:{},handler:{}})}ngOnInit(){this.init(),Object(T.a)([this.dataService.settings.getPaymentMethodOperations().single$,this.entity$.pipe(Object(s.a)(1))]).subscribe(([e,t])=>{this.checkers=e.paymentMethodEligibilityCheckers,this.handlers=e.paymentMethodHandlers,this.changeDetector.markForCheck(),this.selectedCheckerDefinition=e.paymentMethodEligibilityCheckers.find(e=>e.code===(t.checker&&t.checker.code)),this.selectedHandlerDefinition=e.paymentMethodHandlers.find(e=>e.code===(t.handler&&t.handler.code))})}ngOnDestroy(){this.destroy()}updateCode(e,t){if(!e){const e=this.detailForm.get(["code"]);e&&e.pristine&&e.setValue(Object(S.normalizeString)(t,"-"))}}configArgsIsPopulated(){const e=this.detailForm.get("configArgs");return!!e&&0<Object.keys(e.controls).length}selectChecker(e){this.selectedCheckerDefinition=e,this.selectedChecker=Object(i.Yb)(e);const t=this.detailForm.get("checker");t&&(t.clearValidators(),t.updateValueAndValidity({onlySelf:!0}),t.patchValue(this.selectedChecker)),this.detailForm.markAsDirty()}selectHandler(e){this.selectedHandlerDefinition=e,this.selectedHandler=Object(i.Yb)(e);const t=this.detailForm.get("handler");t&&(t.clearValidators(),t.updateValueAndValidity({onlySelf:!0}),t.patchValue(this.selectedHandler)),this.detailForm.markAsDirty()}removeChecker(){this.selectedChecker=null,this.detailForm.markAsDirty()}removeHandler(){this.selectedHandler=null,this.detailForm.markAsDirty()}create(){const e=this.selectedChecker,t=this.selectedHandler;t&&this.entity$.pipe(Object(s.a)(1),Object(o.a)(({id:c})=>{const n=this.detailForm.value,r={name:n.name,code:n.code,description:n.description,enabled:n.enabled,checker:e?Object(i.lc)(e,n.checker):null,handler:Object(i.lc)(t,n.handler)};return this.dataService.settings.createPaymentMethod(r)})).subscribe(e=>{this.notificationService.success(Object(h.a)("common.notify-create-success"),{entity:"PaymentMethod"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.router.navigate(["../",e.createPaymentMethod.id],{relativeTo:this.route})},e=>{this.notificationService.error(Object(h.a)("common.notify-create-error"),{entity:"PaymentMethod"})})}save(){const e=this.selectedChecker,t=this.selectedHandler;t&&this.entity$.pipe(Object(s.a)(1),Object(o.a)(({id:c})=>{const n=this.detailForm.value,r={id:c,name:n.name,code:n.code,description:n.description,enabled:n.enabled,checker:e?Object(i.lc)(e,n.checker):null,handler:Object(i.lc)(t,n.handler)};return this.dataService.settings.updatePaymentMethod(r)})).subscribe(e=>{this.notificationService.success(Object(h.a)("common.notify-update-success"),{entity:"PaymentMethod"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck()},e=>{this.notificationService.error(Object(h.a)("common.notify-update-error"),{entity:"PaymentMethod"})})}setFormValues(e){this.detailForm.patchValue({name:e.name,code:e.code,description:e.description,enabled:e.enabled,checker:e.checker||{},handler:e.handler||{}}),this.selectedChecker||(this.selectedChecker=e.checker&&{code:e.checker.code,args:e.checker.args.map(e=>Object.assign(Object.assign({},e),{value:Object(i.hc)(e.value)}))}),this.selectedHandler||(this.selectedHandler=e.handler&&{code:e.handler.code,args:e.handler.args.map(e=>Object.assign(Object.assign({},e),{value:Object(i.hc)(e.value)}))})}}wc.\u0275fac=function(e){return new(e||wc)(n.fc(g.e),n.fc(g.a),n.fc(i.Mb),n.fc(n.k),n.fc(i.L),n.fc(f.e),n.fc(i.Eb))},wc.\u0275cmp=n.Zb({type:wc,selectors:[["vdr-payment-method-detail"]],features:[n.Qb],decls:12,vars:10,consts:[[3,"entity"],["locationId","payment-method-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],["updateButton",""],["class","form",3,"formGroup",4,"ngIf"],[1,"btn","btn-primary",3,"disabled","click"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[1,"form",3,"formGroup"],["for","name",3,"label"],["id","name","type","text","formControlName","name",3,"readonly","input"],["for","code",3,"label","readOnlyToggle"],["id","code","type","text","formControlName","code",3,"readonly"],["formControlName","description",3,"readonly","label"],["for","description",3,"label"],["type","checkbox","clrToggle","","id","enabled","formControlName","enabled",3,"vdrDisabled"],[1,"clr-row","mt4"],[1,"clr-col"],[1,"clr-control-label"],["formControlName","checker",3,"operation","operationDefinition","readonly","remove",4,"ngIf"],[4,"ngIf"],["formControlName","handler",3,"operation","operationDefinition","readonly","remove",4,"ngIf"],["formControlName","checker",3,"operation","operationDefinition","readonly","remove"],["vdrDropdownTrigger","",1,"btn","btn-outline"],["shape","plus"],["vdrPosition","bottom-left"],["type","button","vdrDropdownItem","",3,"click",4,"ngFor","ngForOf"],["type","button","vdrDropdownItem","",3,"click"],["formControlName","handler",3,"operation","operationDefinition","readonly","remove"]],template:function(e,t){if(1&e&&(n.lc(0,"vdr-action-bar"),n.lc(1,"vdr-ab-left"),n.gc(2,"vdr-entity-info",0),n.yc(3,"async"),n.kc(),n.lc(4,"vdr-ab-right"),n.gc(5,"vdr-action-bar-items",1),n.Zc(6,Ee,3,4,"button",2),n.yc(7,"async"),n.Zc(8,Ie,1,1,"ng-template",null,3,n.ad),n.kc(),n.kc(),n.Zc(10,Le,31,38,"form",4),n.yc(11,"async")),2&e){const e=n.Oc(9);n.Tb(2),n.Ec("entity",n.zc(3,4,t.entity$)),n.Tb(4),n.Ec("ngIf",n.zc(7,6,t.isNew$))("ngIfElse",e),n.Tb(4),n.Ec("ngIf",n.zc(11,8,t.entity$))}},directives:[i.c,i.e,i.ab,i.f,i.d,z.o,i.qb,f.E,f.q,f.j,i.db,i.eb,f.b,f.p,f.h,i.Kb,P.k,f.a,P.i,i.S,P.u,i.E,i.T,i.W,P.o,i.V,z.n,i.U],pipes:[z.b,I.d,i.ib],styles:[""],changeDetection:0}),wc.ctorParameters=()=>[{type:g.e},{type:g.a},{type:i.Mb},{type:n.k},{type:i.L},{type:f.e},{type:i.Eb}];class Lc extends i.y{constructor(e,t,c,n,i){super(t,c),this.dataService=e,this.modalService=n,this.notificationService=i,super.setQueryFn((...e)=>this.dataService.settings.getPaymentMethods(...e).refetchOnChannelChange(),e=>e.paymentMethods)}deletePaymentMethod(e){this.showModalAndDelete(e).pipe(Object(a.a)(t=>t.result===i.P.DELETED?[!0]:this.showModalAndDelete(e,t.message||"").pipe(Object(r.a)(e=>e.result===i.P.DELETED))),Object(a.a)(()=>this.dataService.settings.getPaymentMethods(100).single$)).subscribe(()=>{this.notificationService.success(Object(h.a)("common.notify-delete-success"),{entity:"PaymentMethod"}),this.refresh()},e=>{this.notificationService.error(Object(h.a)("common.notify-delete-error"),{entity:"PaymentMethod"})})}showModalAndDelete(e,t){return this.modalService.dialog({title:Object(h.a)("settings.confirm-delete-payment-method"),body:t,buttons:[{type:"secondary",label:Object(h.a)("common.cancel")},{type:"danger",label:Object(h.a)("common.delete"),returnValue:!0}]}).pipe(Object(a.a)(c=>c?this.dataService.settings.deletePaymentMethod(e,!!t):v.a),Object(r.a)(e=>e.deletePaymentMethod))}}Lc.\u0275fac=function(e){return new(e||Lc)(n.fc(i.L),n.fc(g.e),n.fc(g.a),n.fc(i.Db),n.fc(i.Eb))},Lc.\u0275cmp=n.Zb({type:Lc,selectors:[["vdr-payment-method-list"]],features:[n.Qb],decls:18,vars:20,consts:[["locationId","payment-method-list"],["class","btn btn-primary",3,"routerLink",4,"vdrIfPermissions"],[3,"items","itemsPerPage","totalItems","currentPage","pageChange","itemsPerPageChange"],[1,"btn","btn-primary",3,"routerLink"],["shape","plus"],[1,"left","align-middle"],[1,"right","align-middle"],["iconShape","edit",3,"label","linkTo"],["type","button","vdrDropdownTrigger","",1,"btn","btn-link","btn-sm"],["shape","caret down"],["vdrPosition","bottom-right"],["type","button","vdrDropdownItem","",1,"delete-button",3,"disabled","click"],["shape","trash",1,"is-danger"]],template:function(e,t){1&e&&(n.lc(0,"vdr-action-bar"),n.lc(1,"vdr-ab-right"),n.gc(2,"vdr-action-bar-items",0),n.Zc(3,Me,4,5,"a",1),n.kc(),n.kc(),n.lc(4,"vdr-data-table",2),n.vc("pageChange",function(e){return t.setPageNumber(e)})("itemsPerPageChange",function(e){return t.setItemsPerPage(e)}),n.yc(5,"async"),n.yc(6,"async"),n.yc(7,"async"),n.yc(8,"async"),n.lc(9,"vdr-dt-column"),n.bd(10),n.yc(11,"translate"),n.kc(),n.lc(12,"vdr-dt-column"),n.bd(13),n.yc(14,"translate"),n.kc(),n.gc(15,"vdr-dt-column"),n.gc(16,"vdr-dt-column"),n.Zc(17,Ae,19,18,"ng-template"),n.kc()),2&e&&(n.Tb(3),n.Ec("vdrIfPermissions",n.Hc(19,$e)),n.Tb(1),n.Ec("items",n.zc(5,7,t.items$))("itemsPerPage",n.zc(6,9,t.itemsPerPage$))("totalItems",n.zc(7,11,t.totalItems$))("currentPage",n.zc(8,13,t.currentPage$)),n.Tb(6),n.cd(n.zc(11,15,"common.code")),n.Tb(3),n.cd(n.zc(14,17,"common.enabled")))},directives:[i.c,i.f,i.d,i.qb,i.N,i.M,g.h,P.o,i.Tb,i.T,i.W,i.V,i.U],pipes:[z.b,I.d,i.ib],styles:[""],changeDetection:0}),Lc.ctorParameters=()=>[{type:i.L},{type:g.e},{type:g.a},{type:i.Db},{type:i.Eb}];class Mc{constructor(){this.readonly=!1,this.permissionChange=new n.u}ngOnInit(){this.buildGrid()}setPermission(e,t){this.readonly||this.permissionChange.emit({permission:e,value:t})}toggleAll(e){const t=e.some(e=>!this.activePermissions.includes(e.name));for(const c of e)this.permissionChange.emit({permission:c.name,value:t})}buildGrid(){var e;const t=new Map,c=[],n=/^(Create|Read|Update|Delete)([a-zA-Z]+)$/;for(const i of this.permissionDefinitions){if(n.test(i.name)){const c=null===(e=i.name.match(n))||void 0===e?void 0:e[2];if(c){const e=t.get(c);e?e.push(i):t.set(c,[i])}}else i.assignable&&c.push(i)}this.gridData=[...c.map(e=>({label:e.name,description:e.description,permissions:[e]})),...Array.from(t.entries()).map(([e,t])=>({label:e,description:this.extractCrudDescription(t[0]),permissions:t}))]}extractCrudDescription(e){return e.description.replace(/Grants permission to [\w]+/,"Grants permissions on")}}Mc.\u0275fac=function(e){return new(e||Mc)},Mc.\u0275cmp=n.Zb({type:Mc,selectors:[["vdr-permission-grid"]],inputs:{readonly:"readonly",permissionDefinitions:"permissionDefinitions",activePermissions:"activePermissions"},outputs:{permissionChange:"permissionChange"},decls:3,vars:1,consts:[[1,"table"],[4,"ngFor","ngForOf"],[1,"permission-group","left"],["class","btn btn-sm btn-link",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-link",3,"click"],["size","small",3,"title","label","disabled","selected","selectedChange"]],template:function(e,t){1&e&&(n.lc(0,"table",0),n.lc(1,"tbody"),n.Zc(2,_e,12,8,"tr",1),n.kc(),n.kc()),2&e&&(n.Tb(2),n.Ec("ngForOf",t.gridData))},directives:[z.n,z.o,i.Lb],pipes:[I.d],styles:["td.permission-group[_ngcontent-%COMP%]{max-width:300px;background-color:var(--color-component-bg-200)}"],changeDetection:0}),Mc.propDecorators={permissionDefinitions:[{type:n.E}],activePermissions:[{type:n.E}],readonly:[{type:n.E}],permissionChange:[{type:n.P}]};class Zc extends i.w{constructor(e,t,c,n,i,r,s){super(t,e,c,i),this.changeDetector=n,this.dataService=i,this.formBuilder=r,this.notificationService=s,this.customFields=this.getCustomFieldConfig("Administrator"),this.detailForm=this.formBuilder.group({emailAddress:["",f.C.required],firstName:["",f.C.required],lastName:["",f.C.required],password:[""],customFields:this.formBuilder.group(this.customFields.reduce((e,t)=>Object.assign(Object.assign({},e),{[t.name]:""}),{}))})}ngOnInit(){this.init()}ngOnDestroy(){this.destroy()}customFieldIsSet(e){return!!this.detailForm.get(["customFields",e])}save(){this.entity$.pipe(Object(s.a)(1),Object(o.a)(({id:e})=>{const t=this.detailForm.value,c={emailAddress:t.emailAddress,firstName:t.firstName,lastName:t.lastName,password:t.password,customFields:t.customFields};return this.dataService.administrator.updateActiveAdministrator(c)})).subscribe(e=>{this.notificationService.success(Object(h.a)("common.notify-update-success"),{entity:"Administrator"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck()},e=>{this.notificationService.error(Object(h.a)("common.notify-update-error"),{entity:"Administrator"})})}setFormValues(e,t){if(this.detailForm.patchValue({emailAddress:e.emailAddress,firstName:e.firstName,lastName:e.lastName}),this.customFields.length){const t=this.detailForm.get("customFields");for(const c of this.customFields){const n=c.name,i=e.customFields[n],r=t.get(n);r&&r.patchValue(i)}}}}Zc.\u0275fac=function(e){return new(e||Zc)(n.fc(g.e),n.fc(g.a),n.fc(i.Mb),n.fc(n.k),n.fc(i.L),n.fc(f.e),n.fc(i.Eb))},Zc.\u0275cmp=n.Zb({type:Zc,selectors:[["vdr-profile"]],features:[n.Qb],decls:25,vars:25,consts:[[3,"entity"],["locationId","administrator-detail"],[1,"btn","btn-primary",3,"disabled","click"],[1,"form",3,"formGroup"],["for","emailAddress",3,"label"],["id","emailAddress","type","text","formControlName","emailAddress"],["for","firstName",3,"label"],["id","firstName","type","text","formControlName","firstName"],["for","lastName",3,"label"],["id","lastName","type","text","formControlName","lastName"],["for","password",3,"label",4,"ngIf"],["for","password",3,"label","readOnlyToggle"],["id","password","type","password","formControlName","password"],["formGroupName","customFields",4,"ngIf"],["for","password",3,"label"],["formGroupName","customFields"],[4,"ngFor","ngForOf"],["entityName","Administrator",3,"customFieldsFormGroup","customField",4,"ngIf"],["entityName","Administrator",3,"customFieldsFormGroup","customField"]],template:function(e,t){1&e&&(n.lc(0,"vdr-action-bar"),n.lc(1,"vdr-ab-left"),n.gc(2,"vdr-entity-info",0),n.yc(3,"async"),n.kc(),n.lc(4,"vdr-ab-right"),n.gc(5,"vdr-action-bar-items",1),n.lc(6,"button",2),n.vc("click",function(){return t.save()}),n.bd(7),n.yc(8,"translate"),n.kc(),n.kc(),n.kc(),n.lc(9,"form",3),n.lc(10,"vdr-form-field",4),n.yc(11,"translate"),n.gc(12,"input",5),n.kc(),n.lc(13,"vdr-form-field",6),n.yc(14,"translate"),n.gc(15,"input",7),n.kc(),n.lc(16,"vdr-form-field",8),n.yc(17,"translate"),n.gc(18,"input",9),n.kc(),n.Zc(19,qe,3,3,"vdr-form-field",10),n.yc(20,"async"),n.lc(21,"vdr-form-field",11),n.yc(22,"translate"),n.gc(23,"input",12),n.kc(),n.Zc(24,Ve,5,4,"section",13),n.kc()),2&e&&(n.Tb(2),n.Ec("entity",n.zc(3,11,t.entity$)),n.Tb(4),n.Ec("disabled",t.detailForm.invalid||t.detailForm.pristine),n.Tb(1),n.dd(" ",n.zc(8,13,"common.update")," "),n.Tb(2),n.Ec("formGroup",t.detailForm),n.Tb(1),n.Ec("label",n.zc(11,15,"settings.email-address")),n.Tb(3),n.Ec("label",n.zc(14,17,"settings.first-name")),n.Tb(3),n.Ec("label",n.zc(17,19,"settings.last-name")),n.Tb(3),n.Ec("ngIf",n.zc(20,21,t.isNew$)),n.Tb(2),n.Ec("label",n.zc(22,23,"settings.password"))("readOnlyToggle",!0),n.Tb(3),n.Ec("ngIf",t.customFields.length))},directives:[i.c,i.e,i.ab,i.f,i.d,f.E,f.q,f.j,i.db,i.eb,f.b,f.p,f.h,z.o,f.k,P.u,z.n,i.I],pipes:[z.b,I.d],styles:[""],changeDetection:0}),Zc.ctorParameters=()=>[{type:g.e},{type:g.a},{type:i.Mb},{type:n.k},{type:i.L},{type:f.e},{type:i.Eb}];class Ac extends i.w{constructor(e,t,c,n,i,r,s){super(t,e,c,i),this.changeDetector=n,this.dataService=i,this.formBuilder=r,this.notificationService=s,this.detailForm=this.formBuilder.group({code:["",f.C.required],description:["",f.C.required],channelIds:[],permissions:[]})}ngOnInit(){this.init(),this.role$=this.entity$,this.permissionDefinitions=this.serverConfigService.getPermissionDefinitions()}ngOnDestroy(){this.destroy()}updateCode(e){const t=this.detailForm.get(["code"]);t&&t.pristine&&t.setValue(Object(S.normalizeString)(e,"-"))}setPermission(e){const t=this.detailForm.get("permissions");if(t){const c=t.value,n=!0===e.value?Object(E.unique)([...c,e.permission]):c.filter(t=>t!==e.permission);t.setValue(n),t.markAsDirty()}}create(){const e=this.detailForm.value;this.dataService.administrator.createRole(e).subscribe(e=>{this.notificationService.success(Object(h.a)("common.notify-create-success"),{entity:"Role"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.router.navigate(["../",e.createRole.id],{relativeTo:this.route})},e=>{this.notificationService.error(Object(h.a)("common.notify-create-error"),{entity:"Role"})})}save(){this.role$.pipe(Object(s.a)(1),Object(o.a)(({id:e})=>{const t=this.detailForm.value,c=Object.assign({id:e},t);return this.dataService.administrator.updateRole(c)})).subscribe(e=>{this.notificationService.success(Object(h.a)("common.notify-update-success"),{entity:"Role"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck()},e=>{this.notificationService.error(Object(h.a)("common.notify-update-error"),{entity:"Role"})})}setFormValues(e,t){this.detailForm.patchValue({description:e.description,code:e.code,channelIds:e.channels.map(e=>e.id),permissions:e.permissions}),this.changeDetector.detectChanges()}}Ac.\u0275fac=function(e){return new(e||Ac)(n.fc(g.e),n.fc(g.a),n.fc(i.Mb),n.fc(n.k),n.fc(i.L),n.fc(f.e),n.fc(i.Eb))},Ac.\u0275cmp=n.Zb({type:Ac,selectors:[["vdr-role-detail"]],features:[n.Qb],decls:29,vars:37,consts:[[3,"entity"],["locationId","role-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],["updateButton",""],[1,"form",3,"formGroup"],["for","description",3,"label"],["id","description","type","text","formControlName","description",3,"readonly","input"],["for","code",3,"label","readOnlyToggle"],["id","code","type","text","formControlName","code",3,"readonly"],[3,"label"],["formControlName","channelIds",3,"vdrDisabled"],[3,"permissionDefinitions","activePermissions","readonly","permissionChange"],[1,"btn","btn-primary",3,"disabled","click"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"]],template:function(e,t){if(1&e&&(n.lc(0,"vdr-action-bar"),n.lc(1,"vdr-ab-left"),n.gc(2,"vdr-entity-info",0),n.yc(3,"async"),n.kc(),n.lc(4,"vdr-ab-right"),n.gc(5,"vdr-action-bar-items",1),n.Zc(6,He,3,4,"button",2),n.yc(7,"async"),n.Zc(8,Qe,1,1,"ng-template",null,3,n.ad),n.kc(),n.kc(),n.lc(10,"form",4),n.lc(11,"vdr-form-field",5),n.yc(12,"translate"),n.lc(13,"input",6),n.vc("input",function(e){return t.updateCode(e.target.value)}),n.yc(14,"hasPermission"),n.kc(),n.kc(),n.lc(15,"vdr-form-field",7),n.yc(16,"translate"),n.yc(17,"hasPermission"),n.gc(18,"input",8),n.yc(19,"hasPermission"),n.kc(),n.lc(20,"vdr-form-field",9),n.yc(21,"translate"),n.gc(22,"vdr-channel-assignment-control",10),n.yc(23,"hasPermission"),n.kc(),n.lc(24,"label"),n.bd(25),n.yc(26,"translate"),n.kc(),n.lc(27,"vdr-permission-grid",11),n.vc("permissionChange",function(e){return t.setPermission(e)}),n.yc(28,"hasPermission"),n.kc(),n.kc()),2&e){const e=n.Oc(9);let c=null;n.Tb(2),n.Ec("entity",n.zc(3,15,t.entity$)),n.Tb(4),n.Ec("ngIf",n.zc(7,17,t.isNew$))("ngIfElse",e),n.Tb(4),n.Ec("formGroup",t.detailForm),n.Tb(1),n.Ec("label",n.zc(12,19,"common.description")),n.Tb(2),n.Ec("readonly",!n.zc(14,21,"UpdateAdministrator")),n.Tb(2),n.Ec("label",n.zc(16,23,"common.code"))("readOnlyToggle",n.zc(17,25,"UpdateAdministrator")),n.Tb(3),n.Ec("readonly",!n.zc(19,27,"UpdateAdministrator")),n.Tb(2),n.Ec("label",n.zc(21,29,"settings.channel")),n.Tb(2),n.Ec("vdrDisabled",!n.zc(23,31,"UpdateAdministrator")),n.Tb(3),n.cd(n.zc(26,33,"settings.permissions")),n.Tb(2),n.Ec("permissionDefinitions",t.permissionDefinitions)("activePermissions",null==(c=t.detailForm.get("permissions"))?null:c.value)("readonly",!n.zc(28,35,"UpdateAdministrator"))}},directives:[i.c,i.e,i.ab,i.f,i.d,z.o,f.E,f.q,f.j,i.db,i.eb,f.b,f.p,f.h,i.A,i.S,P.u,Mc,i.qb],pipes:[z.b,I.d,i.ib],styles:[""],changeDetection:0}),Ac.ctorParameters=()=>[{type:g.e},{type:g.a},{type:i.Mb},{type:n.k},{type:i.L},{type:f.e},{type:i.Eb}];class $c extends i.y{constructor(e,t,c,n,i){super(n,i),this.modalService=e,this.notificationService=t,this.dataService=c,this.initialLimit=3,this.displayLimit={},super.setQueryFn((...e)=>this.dataService.administrator.getRoles(...e),e=>e.roles)}ngOnInit(){super.ngOnInit(),this.visibleRoles$=this.items$.pipe(Object(r.a)(e=>e.filter(e=>e.code!==y.CUSTOMER_ROLE_CODE)))}toggleDisplayLimit(e){this.displayLimit[e.id]===e.permissions.length?this.displayLimit[e.id]=this.initialLimit:this.displayLimit[e.id]=e.permissions.length}isDefaultRole(e){return e.code===y.SUPER_ADMIN_ROLE_CODE||e.code===y.CUSTOMER_ROLE_CODE}deleteRole(e){this.modalService.dialog({title:Object(h.a)("settings.confirm-delete-role"),buttons:[{type:"secondary",label:Object(h.a)("common.cancel")},{type:"danger",label:Object(h.a)("common.delete"),returnValue:!0}]}).pipe(Object(a.a)(t=>t?this.dataService.administrator.deleteRole(e):v.a)).subscribe(()=>{this.notificationService.success(Object(h.a)("common.notify-delete-success"),{entity:"Role"}),this.refresh()},e=>{this.notificationService.error(Object(h.a)("common.notify-delete-error"),{entity:"Role"})})}}$c.\u0275fac=function(e){return new(e||$c)(n.fc(i.Db),n.fc(i.Eb),n.fc(i.L),n.fc(g.e),n.fc(g.a))},$c.\u0275cmp=n.Zb({type:$c,selectors:[["vdr-role-list"]],features:[n.Qb],decls:24,vars:25,consts:[["locationId","role-list"],["class","btn btn-primary",3,"routerLink",4,"vdrIfPermissions"],[3,"items","itemsPerPage","totalItems","currentPage","pageChange","itemsPerPageChange"],[1,"btn","btn-primary",3,"routerLink"],["shape","plus"],[1,"left","align-middle"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["defaultRole",""],[1,"right","align-middle"],["iconShape","edit",3,"label","linkTo",4,"ngIf"],["type","button","vdrDropdownTrigger","",1,"btn","btn-link","btn-sm",3,"disabled"],["shape","caret down"],["vdrPosition","bottom-right"],["type","button","vdrDropdownItem","",1,"delete-button",3,"disabled","click"],["shape","trash",1,"is-danger"],[4,"ngFor","ngForOf"],[3,"channelCode"],["class","btn btn-sm btn-secondary btn-icon",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-secondary","btn-icon",3,"click"],["collapse",""],["shape","minus"],[1,"default-role-label"],["iconShape","edit",3,"label","linkTo"]],template:function(e,t){1&e&&(n.lc(0,"vdr-action-bar"),n.lc(1,"vdr-ab-right"),n.gc(2,"vdr-action-bar-items",0),n.Zc(3,We,4,5,"a",1),n.kc(),n.kc(),n.lc(4,"vdr-data-table",2),n.vc("pageChange",function(e){return t.setPageNumber(e)})("itemsPerPageChange",function(e){return t.setItemsPerPage(e)}),n.yc(5,"async"),n.yc(6,"async"),n.yc(7,"async"),n.yc(8,"async"),n.lc(9,"vdr-dt-column"),n.bd(10),n.yc(11,"translate"),n.kc(),n.lc(12,"vdr-dt-column"),n.bd(13),n.yc(14,"translate"),n.kc(),n.lc(15,"vdr-dt-column"),n.bd(16),n.yc(17,"translate"),n.kc(),n.lc(18,"vdr-dt-column"),n.bd(19),n.yc(20,"translate"),n.kc(),n.gc(21,"vdr-dt-column"),n.gc(22,"vdr-dt-column"),n.Zc(23,st,24,16,"ng-template"),n.kc()),2&e&&(n.Tb(3),n.Ec("vdrIfPermissions","CreateAdministrator"),n.Tb(1),n.Ec("items",n.zc(5,9,t.visibleRoles$))("itemsPerPage",n.zc(6,11,t.itemsPerPage$))("totalItems",n.zc(7,13,t.totalItems$))("currentPage",n.zc(8,15,t.currentPage$)),n.Tb(6),n.cd(n.zc(11,17,"common.description")),n.Tb(3),n.cd(n.zc(14,19,"common.code")),n.Tb(3),n.cd(n.zc(17,21,"settings.channel")),n.Tb(3),n.cd(n.zc(20,23,"settings.permissions")))},directives:[i.c,i.f,i.d,i.qb,i.N,i.M,g.h,P.o,z.o,i.T,i.W,i.V,i.U,z.n,i.D,i.B,i.Tb],pipes:[z.b,I.d,i.ib,i.C,z.x],styles:[".default-role-label[_ngcontent-%COMP%]{color:var(--color-grey-400)}"],changeDetection:0}),$c.ctorParameters=()=>[{type:i.Db},{type:i.Eb},{type:i.L},{type:g.e},{type:g.a}];class Nc{constructor(){this.okToRun=!1,this.testDataUpdated=!1,this.runTest=new n.u}}Nc.\u0275fac=function(e){return new(e||Nc)},Nc.\u0275cmp=n.Zb({type:Nc,selectors:[["vdr-shipping-eligibility-test-result"]],inputs:{okToRun:"okToRun",testDataUpdated:"testDataUpdated",testResult:"testResult",currencyCode:"currencyCode"},outputs:{runTest:"runTest"},decls:10,vars:9,consts:[[1,"test-result","card"],[1,"card-header"],["class","card-block",4,"ngFor","ngForOf"],["class","card-block",4,"ngIf"],[1,"card-footer"],[1,"btn","btn-secondary",3,"disabled","click"],[1,"card-block"],[1,"result-details"],[3,"label"],[1,"price-row"],[3,"value",4,"ngIf"],[3,"value"],["shape","ban",1,"is-solid","error"]],template:function(e,t){1&e&&(n.lc(0,"div",0),n.lc(1,"div",1),n.bd(2),n.yc(3,"translate"),n.kc(),n.Zc(4,at,15,21,"div",2),n.Zc(5,lt,4,3,"div",3),n.lc(6,"div",4),n.lc(7,"button",5),n.vc("click",function(){return t.runTest.emit()}),n.bd(8),n.yc(9,"translate"),n.kc(),n.kc(),n.kc()),2&e&&(n.Tb(2),n.dd(" ",n.zc(3,5,"settings.test-result")," "),n.Tb(2),n.Ec("ngForOf",t.testResult),n.Tb(1),n.Ec("ngIf",0===(null==t.testResult?null:t.testResult.length)),n.Tb(2),n.Ec("disabled",!t.okToRun),n.Tb(1),n.dd(" ",n.zc(9,7,"settings.test-shipping-methods")," "))},directives:[z.n,z.o,i.ub,i.Fb,P.o],pipes:[I.d,i.zb],styles:[".result-details[_ngcontent-%COMP%]{transition:opacity .2s}.result-details.stale[_ngcontent-%COMP%]{opacity:.5}.price-row[_ngcontent-%COMP%]{display:flex}.price-row[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){margin-left:24px}clr-icon.error[_ngcontent-%COMP%]{color:var(--color-error-500)}"],changeDetection:0}),Nc.propDecorators={testResult:[{type:n.E}],okToRun:[{type:n.E}],testDataUpdated:[{type:n.E}],currencyCode:[{type:n.E}],runTest:[{type:n.P}]};class Rc extends i.w{constructor(e,t,c,n,r,s,o){super(t,e,c,r),this.changeDetector=n,this.dataService=r,this.formBuilder=s,this.notificationService=o,this.checkers=[],this.calculators=[],this.fulfillmentHandlers=[],this.testDataUpdated=!1,this.updatePermission=[i.Ib.UpdateSettings,i.Ib.UpdateShippingMethod],this.fetchTestResult$=new k.a,this.customFields=this.getCustomFieldConfig("ShippingMethod"),this.detailForm=this.formBuilder.group({code:["",f.C.required],name:["",f.C.required],description:"",fulfillmentHandler:["",f.C.required],checker:{},calculator:{},customFields:this.formBuilder.group(this.customFields.reduce((e,t)=>Object.assign(Object.assign({},e),{[t.name]:""}),{}))})}ngOnInit(){this.init(),Object(T.a)([this.dataService.shippingMethod.getShippingMethodOperations().single$,this.entity$.pipe(Object(s.a)(1))]).subscribe(([e,t])=>{this.checkers=e.shippingEligibilityCheckers,this.calculators=e.shippingCalculators,this.fulfillmentHandlers=e.fulfillmentHandlers,this.changeDetector.markForCheck(),this.selectedCheckerDefinition=e.shippingEligibilityCheckers.find(e=>e.code===(t.checker&&t.checker.code)),this.selectedCalculatorDefinition=e.shippingCalculators.find(e=>e.code===(t.calculator&&t.calculator.code))}),this.activeChannel$=this.dataService.settings.getActiveChannel().mapStream(e=>e.activeChannel),this.testResult$=this.fetchTestResult$.pipe(Object(a.a)(([e,t])=>{if(!this.selectedChecker||!this.selectedCalculator)return Object(C.a)(void 0);const c=this.detailForm.value,n={shippingAddress:Object.assign(Object.assign({},e),{streetLine1:"test"}),lines:t.map(e=>({productVariantId:e.id,quantity:e.quantity})),checker:Object(i.lc)(this.selectedChecker,c.checker),calculator:Object(i.lc)(this.selectedCalculator,c.calculator)};return this.dataService.shippingMethod.testShippingMethod(n).mapSingle(e=>e.testShippingMethod)})),Object(O.a)(this.detailForm.get(["checker"]).valueChanges,this.detailForm.get(["calculator"]).valueChanges).pipe(Object(u.a)(this.destroy$)).subscribe(()=>this.testDataUpdated=!0)}ngOnDestroy(){this.destroy()}customFieldIsSet(e){return!!this.detailForm.get(["customFields",e])}updateCode(e,t){if(!e){const e=this.detailForm.get(["code"]);e&&e.pristine&&e.setValue(Object(S.normalizeString)(t,"-"))}}selectChecker(e){this.selectedCheckerDefinition=e,this.selectedChecker=Object(i.Yb)(e);const t=this.detailForm.get("checker");t&&(t.clearValidators(),t.updateValueAndValidity({onlySelf:!0}),t.patchValue(this.selectedChecker)),this.detailForm.markAsDirty()}selectCalculator(e){this.selectedCalculatorDefinition=e,this.selectedCalculator=Object(i.Yb)(e);const t=this.detailForm.get("calculator");t&&(t.clearValidators(),t.updateValueAndValidity({onlySelf:!0}),t.patchValue(this.selectedCalculator)),this.detailForm.markAsDirty()}create(){const e=this.selectedChecker,t=this.selectedCalculator;e&&t&&Object(T.a)([this.entity$,this.languageCode$]).pipe(Object(s.a)(1),Object(o.a)(([c,n])=>{const r=this.detailForm.value,s=Object.assign(Object.assign({},this.getUpdatedShippingMethod(c,this.detailForm,n)),{checker:Object(i.lc)(e,r.checker),calculator:Object(i.lc)(t,r.calculator)});return this.dataService.shippingMethod.createShippingMethod(s)})).subscribe(e=>{this.notificationService.success(Object(h.a)("common.notify-create-success"),{entity:"ShippingMethod"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.router.navigate(["../",e.createShippingMethod.id],{relativeTo:this.route})},e=>{this.notificationService.error(Object(h.a)("common.notify-create-error"),{entity:"ShippingMethod"})})}save(){const e=this.selectedChecker,t=this.selectedCalculator;e&&t&&Object(T.a)([this.entity$,this.languageCode$]).pipe(Object(s.a)(1),Object(o.a)(([c,n])=>{const r=this.detailForm.value,s=Object.assign(Object.assign({},this.getUpdatedShippingMethod(c,this.detailForm,n)),{checker:Object(i.lc)(e,r.checker),calculator:Object(i.lc)(t,r.calculator)});return this.dataService.shippingMethod.updateShippingMethod(s)})).subscribe(e=>{this.notificationService.success(Object(h.a)("common.notify-update-success"),{entity:"ShippingMethod"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck()},e=>{this.notificationService.error(Object(h.a)("common.notify-update-error"),{entity:"ShippingMethod"})})}setTestOrderLines(e){this.testOrderLines=e,this.testDataUpdated=!0}setTestAddress(e){this.testAddress=e,this.testDataUpdated=!0}allTestDataPresent(){return!!(this.testAddress&&this.testOrderLines&&this.testOrderLines.length&&this.selectedChecker&&this.selectedCalculator)}runTest(){this.fetchTestResult$.next([this.testAddress,this.testOrderLines]),this.testDataUpdated=!1}getUpdatedShippingMethod(e,t,c){const n=t.value,r=Object(i.bc)({translatable:e,updatedFields:n,customFieldConfig:this.customFields,languageCode:c,defaultTranslation:{languageCode:c,name:e.name||"",description:e.description||""}});return Object.assign(Object.assign({},r),{fulfillmentHandler:n.fulfillmentHandler})}setFormValues(e,t){var c,n,r,s;const o=Object(i.ec)(e,t);if(this.detailForm.patchValue({name:null!==(c=null==o?void 0:o.name)&&void 0!==c?c:"",description:null!==(n=null==o?void 0:o.description)&&void 0!==n?n:"",code:e.code,fulfillmentHandler:e.fulfillmentHandlerCode,checker:e.checker||{},calculator:e.calculator||{}}),this.selectedChecker||(this.selectedChecker=e.checker&&{code:e.checker.code,args:e.checker.args.map(e=>Object.assign(Object.assign({},e),{value:Object(i.hc)(e.value)}))}),this.selectedCalculator||(this.selectedCalculator=e.calculator&&{code:null===(r=e.calculator)||void 0===r?void 0:r.code,args:null===(s=e.calculator)||void 0===s?void 0:s.args.map(e=>Object.assign(Object.assign({},e),{value:Object(i.hc)(e.value)}))}),this.customFields.length){const t=this.detailForm.get("customFields");for(const c of this.customFields){const n=c.name,i="localeString"===c.type?o.customFields[n]:e.customFields[n],r=t.get(n);r&&r.patchValue(i)}}}}Rc.\u0275fac=function(e){return new(e||Rc)(n.fc(g.e),n.fc(g.a),n.fc(i.Mb),n.fc(n.k),n.fc(i.L),n.fc(f.e),n.fc(i.Eb))},Rc.\u0275cmp=n.Zb({type:Rc,selectors:[["vdr-shipping-method-detail"]],features:[n.Qb],decls:23,vars:22,consts:[[3,"entity"],[3,"disabled","availableLanguageCodes","currentLanguageCode","languageCodeChange"],["locationId","shipping-method-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],["updateButton",""],["class","form",3,"formGroup",4,"ngIf"],[1,"testing-tool"],[4,"clrIfExpanded"],[1,"btn","btn-primary",3,"disabled","click"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[1,"form",3,"formGroup"],["for","name",3,"label"],["id","name","type","text","formControlName","name",3,"readonly","input"],["for","code",3,"label","readOnlyToggle"],["id","code","type","text","formControlName","code",3,"readonly"],["formControlName","description",3,"readonly","label"],["for","fulfillmentHandler",1,"mb2",3,"label"],["name","fulfillmentHandler","formControlName","fulfillmentHandler",3,"vdrDisabled"],[3,"value",4,"ngFor","ngForOf"],["formGroupName","customFields",4,"ngIf"],[1,"clr-row","mt4"],[1,"clr-col"],[1,"clr-control-label"],["formControlName","checker",3,"operation","operationDefinition","readonly","remove",4,"ngIf"],[4,"ngIf"],["formControlName","calculator",3,"operation","operationDefinition","readonly","remove",4,"ngIf"],[3,"value"],["formGroupName","customFields"],[4,"ngFor","ngForOf"],["entityName","ShippingMethod",3,"customFieldsFormGroup","customField",4,"ngIf"],["entityName","ShippingMethod",3,"customFieldsFormGroup","customField"],["formControlName","checker",3,"operation","operationDefinition","readonly","remove"],["vdrDropdownTrigger","",1,"btn","btn-outline"],["shape","plus"],["vdrPosition","bottom-left"],["type","button","vdrDropdownItem","",3,"click",4,"ngFor","ngForOf"],["type","button","vdrDropdownItem","",3,"click"],["formControlName","calculator",3,"operation","operationDefinition","readonly","remove"],[1,"clr-row"],[3,"orderLinesChange"],[3,"addressChange"],[3,"currencyCode","okToRun","testDataUpdated","testResult","runTest"]],template:function(e,t){if(1&e&&(n.lc(0,"vdr-action-bar"),n.lc(1,"vdr-ab-left"),n.gc(2,"vdr-entity-info",0),n.yc(3,"async"),n.lc(4,"vdr-language-selector",1),n.vc("languageCodeChange",function(e){return t.setLanguage(e)}),n.yc(5,"async"),n.yc(6,"async"),n.yc(7,"async"),n.kc(),n.kc(),n.lc(8,"vdr-ab-right"),n.gc(9,"vdr-action-bar-items",2),n.Zc(10,dt,3,4,"button",3),n.yc(11,"async"),n.Zc(12,ut,1,1,"ng-template",null,4,n.ad),n.kc(),n.kc(),n.Zc(14,Ot,32,40,"form",5),n.yc(15,"async"),n.lc(16,"div",6),n.lc(17,"clr-accordion"),n.lc(18,"clr-accordion-panel"),n.lc(19,"clr-accordion-title"),n.bd(20),n.yc(21,"translate"),n.kc(),n.Zc(22,St,9,8,"clr-accordion-content",7),n.kc(),n.kc(),n.kc()),2&e){const e=n.Oc(13);n.Tb(2),n.Ec("entity",n.zc(3,8,t.entity$)),n.Tb(2),n.Ec("disabled",n.zc(5,10,t.isNew$))("availableLanguageCodes",n.zc(6,12,t.availableLanguages$))("currentLanguageCode",n.zc(7,14,t.languageCode$)),n.Tb(6),n.Ec("ngIf",n.zc(11,16,t.isNew$))("ngIfElse",e),n.Tb(4),n.Ec("ngIf",n.zc(15,18,t.entity$)),n.Tb(6),n.cd(n.zc(21,20,"settings.test-shipping-method"))}},directives:function(){return[i.c,i.e,i.ab,i.wb,i.f,i.d,z.o,P.b,P.O,P.d,P.N,P.e,P.Q,P.q,i.qb,f.E,f.q,f.j,i.db,i.eb,f.b,f.p,f.h,i.Kb,f.A,i.S,z.n,P.u,f.u,f.D,f.k,i.I,i.E,i.T,i.W,P.o,i.V,i.U,P.c,Qc,Bc,qc]},pipes:function(){return[z.b,I.d,i.ib]},styles:[".testing-tool[_ngcontent-%COMP%]{margin-top:48px;margin-bottom:128px}.testing-tool[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:12px}"],changeDetection:0}),Rc.ctorParameters=()=>[{type:g.e},{type:g.a},{type:i.Mb},{type:n.k},{type:i.L},{type:f.e},{type:i.Eb}];class _c extends i.y{constructor(e,t,c,n,i,r){super(i,r),this.modalService=e,this.notificationService=t,this.dataService=c,this.serverConfigService=n,this.testDataUpdated=!1,this.fetchTestResult$=new k.a,super.setQueryFn((...e)=>this.dataService.shippingMethod.getShippingMethods(...e).refetchOnChannelChange(),e=>e.shippingMethods)}ngOnInit(){super.ngOnInit(),this.testResult$=this.fetchTestResult$.pipe(Object(a.a)(([e,t])=>{const c={shippingAddress:Object.assign(Object.assign({},e),{streetLine1:"test"}),lines:t.map(e=>({productVariantId:e.id,quantity:e.quantity}))};return this.dataService.shippingMethod.testEligibleShippingMethods(c).mapSingle(e=>e.testEligibleShippingMethods)})),this.activeChannel$=this.dataService.settings.getActiveChannel().mapStream(e=>e.activeChannel),this.availableLanguages$=this.serverConfigService.getAvailableLanguages(),this.contentLanguage$=this.dataService.client.uiState().mapStream(({uiState:e})=>e.contentLanguage).pipe(Object(d.a)(()=>this.refresh()))}deleteShippingMethod(e){this.modalService.dialog({title:Object(h.a)("catalog.confirm-delete-shipping-method"),buttons:[{type:"secondary",label:Object(h.a)("common.cancel")},{type:"danger",label:Object(h.a)("common.delete"),returnValue:!0}]}).pipe(Object(a.a)(t=>t?this.dataService.shippingMethod.deleteShippingMethod(e):v.a)).subscribe(()=>{this.notificationService.success(Object(h.a)("common.notify-delete-success"),{entity:"ShippingMethod"}),this.refresh()},e=>{this.notificationService.error(Object(h.a)("common.notify-delete-error"),{entity:"ShippingMethod"})})}setTestOrderLines(e){this.testOrderLines=e,this.testDataUpdated=!0}setTestAddress(e){this.testAddress=e,this.testDataUpdated=!0}allTestDataPresent(){return!!(this.testAddress&&this.testOrderLines&&this.testOrderLines.length)}runTest(){this.fetchTestResult$.next([this.testAddress,this.testOrderLines]),this.testDataUpdated=!1}setLanguage(e){this.dataService.client.setContentLanguage(e).subscribe()}}_c.\u0275fac=function(e){return new(e||_c)(n.fc(i.Db),n.fc(i.Eb),n.fc(i.L),n.fc(i.Mb),n.fc(g.e),n.fc(g.a))},_c.\u0275cmp=n.Zb({type:_c,selectors:[["vdr-shipping-method-list"]],features:[n.Qb],decls:29,vars:29,consts:[[3,"availableLanguageCodes","currentLanguageCode","languageCodeChange"],["locationId","shipping-method-list"],["class","btn btn-primary",3,"routerLink",4,"vdrIfPermissions"],[3,"items","itemsPerPage","totalItems","currentPage","pageChange","itemsPerPageChange"],[1,"testing-tool"],[4,"clrIfExpanded"],[1,"btn","btn-primary",3,"routerLink"],["shape","plus"],[1,"left","align-middle"],[1,"right","align-middle"],["iconShape","edit",3,"label","linkTo"],["type","button","vdrDropdownTrigger","",1,"btn","btn-link","btn-sm"],["shape","caret down"],["vdrPosition","bottom-right"],["type","button","vdrDropdownItem","",1,"delete-button",3,"disabled","click"],["shape","trash",1,"is-danger"],[1,"clr-row"],[1,"clr-col"],[3,"orderLinesChange"],[3,"addressChange"],[3,"currencyCode","okToRun","testDataUpdated","testResult","runTest"]],template:function(e,t){1&e&&(n.lc(0,"vdr-action-bar"),n.lc(1,"vdr-ab-left"),n.lc(2,"vdr-language-selector",0),n.vc("languageCodeChange",function(e){return t.setLanguage(e)}),n.yc(3,"async"),n.yc(4,"async"),n.kc(),n.kc(),n.lc(5,"vdr-ab-right"),n.gc(6,"vdr-action-bar-items",1),n.Zc(7,Et,4,5,"a",2),n.kc(),n.kc(),n.lc(8,"vdr-data-table",3),n.vc("pageChange",function(e){return t.setPageNumber(e)})("itemsPerPageChange",function(e){return t.setItemsPerPage(e)}),n.yc(9,"async"),n.yc(10,"async"),n.yc(11,"async"),n.yc(12,"async"),n.lc(13,"vdr-dt-column"),n.bd(14),n.yc(15,"translate"),n.kc(),n.lc(16,"vdr-dt-column"),n.bd(17),n.yc(18,"translate"),n.kc(),n.gc(19,"vdr-dt-column"),n.gc(20,"vdr-dt-column"),n.Zc(21,It,19,18,"ng-template"),n.kc(),n.lc(22,"div",4),n.lc(23,"clr-accordion"),n.lc(24,"clr-accordion-panel"),n.lc(25,"clr-accordion-title"),n.bd(26),n.yc(27,"translate"),n.kc(),n.Zc(28,Pt,9,8,"clr-accordion-content",5),n.kc(),n.kc(),n.kc()),2&e&&(n.Tb(2),n.Ec("availableLanguageCodes",n.zc(3,10,t.availableLanguages$))("currentLanguageCode",n.zc(4,12,t.contentLanguage$)),n.Tb(5),n.Ec("vdrIfPermissions",n.Hc(28,Ft)),n.Tb(1),n.Ec("items",n.zc(9,14,t.items$))("itemsPerPage",n.zc(10,16,t.itemsPerPage$))("totalItems",n.zc(11,18,t.totalItems$))("currentPage",n.zc(12,20,t.currentPage$)),n.Tb(6),n.cd(n.zc(15,22,"common.code")),n.Tb(3),n.cd(n.zc(18,24,"common.name")),n.Tb(9),n.cd(n.zc(27,26,"settings.test-shipping-methods")))},directives:function(){return[i.c,i.e,i.wb,i.f,i.d,i.qb,i.N,i.M,P.b,P.O,P.d,P.N,P.e,P.Q,P.q,g.h,P.o,i.Tb,i.T,i.W,i.V,i.U,P.c,Qc,Bc,Nc]},pipes:function(){return[z.b,I.d,i.ib]},styles:[".testing-tool[_ngcontent-%COMP%]{margin-top:48px}"],changeDetection:0}),_c.ctorParameters=()=>[{type:i.Db},{type:i.Eb},{type:i.L},{type:i.Mb},{type:g.e},{type:g.a}];class qc{constructor(){this.okToRun=!1,this.testDataUpdated=!1,this.runTest=new n.u}}qc.\u0275fac=function(e){return new(e||qc)},qc.\u0275cmp=n.Zb({type:qc,selectors:[["vdr-shipping-method-test-result"]],inputs:{okToRun:"okToRun",testDataUpdated:"testDataUpdated",testResult:"testResult",currencyCode:"currencyCode"},outputs:{runTest:"runTest"},decls:21,vars:24,consts:[[1,"test-result","card",3,"ngClass"],[1,"card-header"],[1,"card-block"],[1,"result-details"],[3,"label"],[1,"eligible-icon"],["shape","success-standard","class","is-solid success",4,"ngIf"],["shape","ban","class","is-solid error",4,"ngIf"],["shape","unknown-status",4,"ngIf"],[1,"price-row"],[3,"label",4,"ngIf"],[3,"value",4,"ngIf"],[1,"card-footer"],[1,"btn","btn-secondary",3,"disabled","click"],["shape","success-standard",1,"is-solid","success"],["shape","ban",1,"is-solid","error"],["shape","unknown-status"],[3,"value"]],template:function(e,t){1&e&&(n.lc(0,"div",0),n.lc(1,"div",1),n.bd(2),n.yc(3,"translate"),n.kc(),n.lc(4,"div",2),n.lc(5,"div",3),n.lc(6,"vdr-labeled-data",4),n.yc(7,"translate"),n.lc(8,"div",5),n.Zc(9,xt,1,0,"clr-icon",6),n.Zc(10,Dt,1,0,"clr-icon",7),n.Zc(11,jt,1,0,"clr-icon",8),n.kc(),n.bd(12),n.kc(),n.lc(13,"div",9),n.Zc(14,wt,4,7,"vdr-labeled-data",10),n.Zc(15,Lt,4,7,"vdr-labeled-data",10),n.kc(),n.Zc(16,Mt,1,1,"vdr-object-tree",11),n.kc(),n.kc(),n.lc(17,"div",12),n.lc(18,"button",13),n.vc("click",function(){return t.runTest.emit()}),n.bd(19),n.yc(20,"translate"),n.kc(),n.kc(),n.kc()),2&e&&(n.Ec("ngClass",n.Kc(20,Zt,!0===(null==t.testResult?null:t.testResult.eligible),!1===(null==t.testResult?null:t.testResult.eligible),!t.testResult)),n.Tb(2),n.dd(" ",n.zc(3,14,"settings.test-result")," "),n.Tb(3),n.Xb("stale",t.testDataUpdated),n.Tb(1),n.Ec("label",n.zc(7,16,"settings.eligible")),n.Tb(3),n.Ec("ngIf",null==t.testResult?null:t.testResult.eligible),n.Tb(1),n.Ec("ngIf",!1===(null==t.testResult?null:t.testResult.eligible)),n.Tb(1),n.Ec("ngIf",!t.testResult),n.Tb(1),n.dd(" ",null==t.testResult?null:t.testResult.eligible," "),n.Tb(2),n.Ec("ngIf",null!=(null==t.testResult||null==t.testResult.quote?null:t.testResult.quote.price)),n.Tb(1),n.Ec("ngIf",null!=(null==t.testResult||null==t.testResult.quote?null:t.testResult.quote.priceWithTax)),n.Tb(1),n.Ec("ngIf",null==t.testResult||null==t.testResult.quote?null:t.testResult.quote.metadata),n.Tb(2),n.Ec("disabled",!t.okToRun),n.Tb(1),n.dd(" ",n.zc(20,18,"settings.test-shipping-method")," "))},directives:[z.m,i.ub,z.o,P.o,i.Fb],pipes:[I.d,i.zb],styles:[".test-result.success[_ngcontent-%COMP%]   .card-block[_ngcontent-%COMP%]{background-color:var(--color-success-100)}.test-result.error[_ngcontent-%COMP%]   .card-block[_ngcontent-%COMP%]{background-color:var(--color-error-100)}.test-result.unknown[_ngcontent-%COMP%]   .card-block[_ngcontent-%COMP%]{background-color:var(--color-component-bg-100)}.result-details[_ngcontent-%COMP%]{transition:opacity .2s}.result-details.stale[_ngcontent-%COMP%]{opacity:.5}.eligible-icon[_ngcontent-%COMP%]{display:inline-block}.eligible-icon[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{color:var(--color-success-500)}.eligible-icon[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:var(--color-error-500)}.price-row[_ngcontent-%COMP%]{display:flex}.price-row[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){margin-left:24px}"],changeDetection:0}),qc.propDecorators={testResult:[{type:n.E}],okToRun:[{type:n.E}],testDataUpdated:[{type:n.E}],currencyCode:[{type:n.E}],runTest:[{type:n.P}]};class Uc extends i.w{constructor(e,t,c,n,r,s,o){super(t,e,c,r),this.changeDetector=n,this.dataService=r,this.formBuilder=s,this.notificationService=o,this.updatePermission=[i.Ib.UpdateSettings,i.Ib.UpdateTaxCategory],this.detailForm=this.formBuilder.group({name:["",f.C.required],isDefault:!1})}ngOnInit(){this.init(),this.taxCategory$=this.entity$}ngOnDestroy(){this.destroy()}saveButtonEnabled(){return this.detailForm.dirty&&this.detailForm.valid}create(){if(!this.detailForm.dirty)return;const e=this.detailForm.value,t={name:e.name,isDefault:e.isDefault};this.dataService.settings.createTaxCategory(t).subscribe(e=>{this.notificationService.success(Object(h.a)("common.notify-create-success"),{entity:"TaxCategory"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.router.navigate(["../",e.createTaxCategory.id],{relativeTo:this.route})},e=>{this.notificationService.error(Object(h.a)("common.notify-create-error"),{entity:"TaxCategory"})})}save(){if(!this.detailForm.dirty)return;const e=this.detailForm.value;this.taxCategory$.pipe(Object(s.a)(1),Object(o.a)(t=>{const c={id:t.id,name:e.name,isDefault:e.isDefault};return this.dataService.settings.updateTaxCategory(c)})).subscribe(e=>{this.notificationService.success(Object(h.a)("common.notify-update-success"),{entity:"TaxCategory"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck()},e=>{this.notificationService.error(Object(h.a)("common.notify-update-error"),{entity:"TaxCategory"})})}setFormValues(e,t){this.detailForm.patchValue({name:e.name,isDefault:e.isDefault})}}Uc.\u0275fac=function(e){return new(e||Uc)(n.fc(g.e),n.fc(g.a),n.fc(i.Mb),n.fc(n.k),n.fc(i.L),n.fc(f.e),n.fc(i.Eb))},Uc.\u0275cmp=n.Zb({type:Uc,selectors:[["vdr-tax-detail"]],features:[n.Qb],decls:20,vars:20,consts:[[3,"entity"],["locationId","tax-category-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],["updateButton",""],[1,"form",3,"formGroup"],["for","name",3,"label"],["id","name","type","text","formControlName","name",3,"readonly"],["for","isDefault",3,"label"],["type","checkbox","clrToggle","","id","isDefault","formControlName","isDefault",3,"vdrDisabled"],[1,"btn","btn-primary",3,"disabled","click"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"]],template:function(e,t){if(1&e&&(n.lc(0,"vdr-action-bar"),n.lc(1,"vdr-ab-left"),n.gc(2,"vdr-entity-info",0),n.yc(3,"async"),n.kc(),n.lc(4,"vdr-ab-right"),n.gc(5,"vdr-action-bar-items",1),n.Zc(6,At,3,4,"button",2),n.yc(7,"async"),n.Zc(8,Nt,1,1,"ng-template",null,3,n.ad),n.kc(),n.kc(),n.lc(10,"form",4),n.lc(11,"vdr-form-field",5),n.yc(12,"translate"),n.gc(13,"input",6),n.yc(14,"hasPermission"),n.kc(),n.lc(15,"vdr-form-field",7),n.yc(16,"translate"),n.lc(17,"clr-toggle-wrapper"),n.gc(18,"input",8),n.yc(19,"hasPermission"),n.kc(),n.kc(),n.kc()),2&e){const e=n.Oc(9);n.Tb(2),n.Ec("entity",n.zc(3,8,t.entity$)),n.Tb(4),n.Ec("ngIf",n.zc(7,10,t.isNew$))("ngIfElse",e),n.Tb(4),n.Ec("formGroup",t.detailForm),n.Tb(1),n.Ec("label",n.zc(12,12,"common.name")),n.Tb(2),n.Ec("readonly",!n.zc(14,14,t.updatePermission)),n.Tb(2),n.Ec("label",n.zc(16,16,"common.default-tax-category")),n.Tb(3),n.Ec("vdrDisabled",!n.zc(19,18,t.updatePermission))}},directives:[i.c,i.e,i.ab,i.f,i.d,z.o,f.E,f.q,f.j,i.db,i.eb,f.b,f.p,f.h,P.k,f.a,P.i,i.S,i.qb],pipes:[z.b,I.d,i.ib],styles:[""],changeDetection:0}),Uc.ctorParameters=()=>[{type:g.e},{type:g.a},{type:i.Mb},{type:n.k},{type:i.L},{type:f.e},{type:i.Eb}];class Gc{constructor(e,t,c){this.dataService=e,this.notificationService=t,this.modalService=c,this.queryResult=this.dataService.settings.getTaxCategories(),this.taxCategories$=this.queryResult.mapStream(e=>e.taxCategories)}deleteTaxCategory(e){return this.modalService.dialog({title:Object(h.a)("settings.confirm-delete-tax-category"),body:e.name,buttons:[{type:"secondary",label:Object(h.a)("common.cancel")},{type:"danger",label:Object(h.a)("common.delete"),returnValue:!0}]}).pipe(Object(a.a)(t=>t?this.dataService.settings.deleteTaxCategory(e.id):v.a),Object(r.a)(e=>e.deleteTaxCategory)).subscribe(e=>{e.result===i.P.DELETED?(this.notificationService.success(Object(h.a)("common.notify-delete-success"),{entity:"TaxRate"}),this.queryResult.ref.refetch()):this.notificationService.error(e.message||Object(h.a)("common.notify-delete-error"),{entity:"TaxRate"})},e=>{this.notificationService.error(Object(h.a)("common.notify-delete-error"),{entity:"TaxRate"})})}}Gc.\u0275fac=function(e){return new(e||Gc)(n.fc(i.L),n.fc(i.Eb),n.fc(i.Db))},Gc.\u0275cmp=n.Zb({type:Gc,selectors:[["vdr-tax-list"]],decls:13,vars:8,consts:[["locationId","tax-category-list"],["class","btn btn-primary",3,"routerLink",4,"vdrIfPermissions"],[3,"items"],[1,"btn","btn-primary",3,"routerLink"],["shape","plus"],[1,"left","align-middle"],[4,"ngIf"],[1,"right","align-middle"],["iconShape","edit",3,"label","linkTo"],["type","button","vdrDropdownTrigger","",1,"btn","btn-link","btn-sm"],["shape","caret down"],["vdrPosition","bottom-right"],["type","button","vdrDropdownItem","",1,"delete-button",3,"disabled","click"],["shape","trash",1,"is-danger"]],template:function(e,t){1&e&&(n.lc(0,"vdr-action-bar"),n.lc(1,"vdr-ab-right"),n.gc(2,"vdr-action-bar-items",0),n.Zc(3,Rt,4,5,"a",1),n.kc(),n.kc(),n.lc(4,"vdr-data-table",2),n.yc(5,"async"),n.lc(6,"vdr-dt-column"),n.bd(7),n.yc(8,"translate"),n.kc(),n.gc(9,"vdr-dt-column"),n.gc(10,"vdr-dt-column"),n.gc(11,"vdr-dt-column"),n.Zc(12,Ut,19,18,"ng-template"),n.kc()),2&e&&(n.Tb(3),n.Ec("vdrIfPermissions",n.Hc(7,Gt)),n.Tb(1),n.Ec("items",n.zc(5,3,t.taxCategories$)),n.Tb(3),n.cd(n.zc(8,5,"common.name")))},directives:[i.c,i.f,i.d,i.qb,i.N,i.M,g.h,P.o,z.o,i.Tb,i.T,i.W,i.V,i.U,i.D],pipes:[z.b,I.d,i.ib],styles:[""],changeDetection:0}),Gc.ctorParameters=()=>[{type:i.L},{type:i.Eb},{type:i.Db}];class Vc extends i.w{constructor(e,t,c,n,r,s,o){super(t,e,c,r),this.changeDetector=n,this.dataService=r,this.formBuilder=s,this.notificationService=o,this.updatePermission=[i.Ib.UpdateSettings,i.Ib.UpdateTaxRate],this.detailForm=this.formBuilder.group({name:["",f.C.required],enabled:[!0],value:[0,f.C.required],taxCategoryId:[""],zoneId:[""],customerGroupId:[""]})}ngOnInit(){this.init(),this.taxCategories$=this.dataService.settings.getTaxCategories().mapSingle(e=>e.taxCategories),this.zones$=this.dataService.settings.getZones().mapSingle(e=>e.zones)}ngOnDestroy(){this.destroy()}saveButtonEnabled(){return this.detailForm.dirty&&this.detailForm.valid}create(){if(!this.detailForm.dirty)return;const e=this.detailForm.value,t={name:e.name,enabled:e.enabled,value:e.value,categoryId:e.taxCategoryId,zoneId:e.zoneId,customerGroupId:e.customerGroupId};this.dataService.settings.createTaxRate(t).subscribe(e=>{this.notificationService.success(Object(h.a)("common.notify-create-success"),{entity:"TaxRate"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.router.navigate(["../",e.createTaxRate.id],{relativeTo:this.route})},e=>{this.notificationService.error(Object(h.a)("common.notify-create-error"),{entity:"TaxRate"})})}save(){if(!this.detailForm.dirty)return;const e=this.detailForm.value;this.entity$.pipe(Object(s.a)(1),Object(o.a)(t=>{const c={id:t.id,name:e.name,enabled:e.enabled,value:e.value,categoryId:e.taxCategoryId,zoneId:e.zoneId,customerGroupId:e.customerGroupId};return this.dataService.settings.updateTaxRate(c)})).subscribe(e=>{this.notificationService.success(Object(h.a)("common.notify-update-success"),{entity:"TaxRate"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck()},e=>{this.notificationService.error(Object(h.a)("common.notify-update-error"),{entity:"TaxRate"})})}setFormValues(e,t){this.detailForm.patchValue({name:e.name,enabled:e.enabled,value:e.value,taxCategoryId:e.category?e.category.id:"",zoneId:e.zone?e.zone.id:"",customerGroupId:e.customerGroup?e.customerGroup.id:""})}}Vc.\u0275fac=function(e){return new(e||Vc)(n.fc(g.e),n.fc(g.a),n.fc(i.Mb),n.fc(n.k),n.fc(i.L),n.fc(f.e),n.fc(i.Eb))},Vc.\u0275cmp=n.Zb({type:Vc,selectors:[["vdr-tax-rate-detail"]],features:[n.Qb],decls:37,vars:44,consts:[[3,"entity"],["locationId","tax-rate-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],["updateButton",""],[1,"form",3,"formGroup"],["for","name",3,"label"],["id","name","type","text","formControlName","name",3,"readonly"],["for","enabled",3,"label"],["type","checkbox","clrToggle","","id","enabled","formControlName","enabled",3,"vdrDisabled"],["for","value",3,"label"],["suffix","%"],["id","value","type","number","step","0.1","formControlName","value",3,"readonly"],["for","taxCategoryId",3,"label"],["clrSelect","","name","taxCategoryId","formControlName","taxCategoryId",3,"vdrDisabled"],[3,"value",4,"ngFor","ngForOf"],["for","zoneId",3,"label"],["clrSelect","","name","zoneId","formControlName","zoneId",3,"vdrDisabled"],[1,"btn","btn-primary",3,"disabled","click"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[3,"value"]],template:function(e,t){if(1&e&&(n.lc(0,"vdr-action-bar"),n.lc(1,"vdr-ab-left"),n.gc(2,"vdr-entity-info",0),n.yc(3,"async"),n.kc(),n.lc(4,"vdr-ab-right"),n.gc(5,"vdr-action-bar-items",1),n.Zc(6,Vt,3,4,"button",2),n.yc(7,"async"),n.Zc(8,Bt,1,1,"ng-template",null,3,n.ad),n.kc(),n.kc(),n.lc(10,"form",4),n.lc(11,"vdr-form-field",5),n.yc(12,"translate"),n.gc(13,"input",6),n.yc(14,"hasPermission"),n.kc(),n.lc(15,"vdr-form-field",7),n.yc(16,"translate"),n.lc(17,"clr-toggle-wrapper"),n.gc(18,"input",8),n.yc(19,"hasPermission"),n.kc(),n.kc(),n.lc(20,"vdr-form-field",9),n.yc(21,"translate"),n.lc(22,"vdr-affixed-input",10),n.gc(23,"input",11),n.yc(24,"hasPermission"),n.kc(),n.kc(),n.lc(25,"vdr-form-field",12),n.yc(26,"translate"),n.lc(27,"select",13),n.yc(28,"hasPermission"),n.Zc(29,Qt,2,2,"option",14),n.yc(30,"async"),n.kc(),n.kc(),n.lc(31,"vdr-form-field",15),n.yc(32,"translate"),n.lc(33,"select",16),n.yc(34,"hasPermission"),n.Zc(35,Wt,2,2,"option",14),n.yc(36,"async"),n.kc(),n.kc(),n.kc()),2&e){const e=n.Oc(9);n.Tb(2),n.Ec("entity",n.zc(3,16,t.entity$)),n.Tb(4),n.Ec("ngIf",n.zc(7,18,t.isNew$))("ngIfElse",e),n.Tb(4),n.Ec("formGroup",t.detailForm),n.Tb(1),n.Ec("label",n.zc(12,20,"common.name")),n.Tb(2),n.Ec("readonly",!n.zc(14,22,t.updatePermission)),n.Tb(2),n.Ec("label",n.zc(16,24,"common.enabled")),n.Tb(3),n.Ec("vdrDisabled",!n.zc(19,26,t.updatePermission)),n.Tb(2),n.Ec("label",n.zc(21,28,"settings.rate")),n.Tb(3),n.Ec("readonly",!n.zc(24,30,t.updatePermission)),n.Tb(2),n.Ec("label",n.zc(26,32,"settings.tax-category")),n.Tb(2),n.Ec("vdrDisabled",!n.zc(28,34,t.updatePermission)),n.Tb(2),n.Ec("ngForOf",n.zc(30,36,t.taxCategories$)),n.Tb(2),n.Ec("label",n.zc(32,38,"settings.zone")),n.Tb(2),n.Ec("vdrDisabled",!n.zc(34,40,t.updatePermission)),n.Tb(2),n.Ec("ngForOf",n.zc(36,42,t.zones$))}},directives:[i.c,i.e,i.ab,i.f,i.d,z.o,f.E,f.q,f.j,i.db,i.eb,f.b,f.p,f.h,P.k,f.a,P.i,i.S,i.i,f.v,f.A,P.A,z.n,i.qb,f.u,f.D],pipes:[z.b,I.d,i.ib],styles:[""],changeDetection:0}),Vc.ctorParameters=()=>[{type:g.e},{type:g.a},{type:i.Mb},{type:n.k},{type:i.L},{type:f.e},{type:i.Eb}];class Hc extends i.y{constructor(e,t,c,n,i){super(n,i),this.modalService=e,this.notificationService=t,this.dataService=c,super.setQueryFn((...e)=>this.dataService.settings.getTaxRates(...e),e=>e.taxRates)}deleteTaxRate(e){return this.modalService.dialog({title:Object(h.a)("settings.confirm-delete-tax-rate"),body:e.name,buttons:[{type:"secondary",label:Object(h.a)("common.cancel")},{type:"danger",label:Object(h.a)("common.delete"),returnValue:!0}]}).pipe(Object(a.a)(t=>t?this.dataService.settings.deleteTaxRate(e.id):v.a),Object(r.a)(e=>e.deleteTaxRate)).subscribe(e=>{e.result===i.P.DELETED?(this.notificationService.success(Object(h.a)("common.notify-delete-success"),{entity:"TaxRate"}),this.refresh()):this.notificationService.error(e.message||Object(h.a)("common.notify-delete-error"),{entity:"TaxRate"})},e=>{this.notificationService.error(Object(h.a)("common.notify-delete-error"),{entity:"TaxRate"})})}}Hc.\u0275fac=function(e){return new(e||Hc)(n.fc(i.Db),n.fc(i.Eb),n.fc(i.L),n.fc(g.e),n.fc(g.a))},Hc.\u0275cmp=n.Zb({type:Hc,selectors:[["vdr-tax-rate-list"]],features:[n.Qb],decls:24,vars:26,consts:[["locationId","tax-rate-list"],["class","btn btn-primary",3,"routerLink",4,"vdrIfPermissions"],[3,"items","itemsPerPage","totalItems","currentPage","pageChange","itemsPerPageChange"],[1,"btn","btn-primary",3,"routerLink"],["shape","plus"],[1,"left","align-middle"],[1,"right","align-middle"],["iconShape","edit",3,"label","linkTo"],["type","button","vdrDropdownTrigger","",1,"btn","btn-link","btn-sm"],["shape","caret down"],["vdrPosition","bottom-right"],["type","button","vdrDropdownItem","",1,"delete-button",3,"disabled","click"],["shape","trash",1,"is-danger"]],template:function(e,t){1&e&&(n.lc(0,"vdr-action-bar"),n.lc(1,"vdr-ab-right"),n.gc(2,"vdr-action-bar-items",0),n.Zc(3,Kt,4,5,"a",1),n.kc(),n.kc(),n.lc(4,"vdr-data-table",2),n.vc("pageChange",function(e){return t.setPageNumber(e)})("itemsPerPageChange",function(e){return t.setItemsPerPage(e)}),n.yc(5,"async"),n.yc(6,"async"),n.yc(7,"async"),n.yc(8,"async"),n.lc(9,"vdr-dt-column"),n.bd(10),n.yc(11,"translate"),n.kc(),n.lc(12,"vdr-dt-column"),n.bd(13),n.yc(14,"translate"),n.kc(),n.lc(15,"vdr-dt-column"),n.bd(16),n.yc(17,"translate"),n.kc(),n.lc(18,"vdr-dt-column"),n.bd(19),n.yc(20,"translate"),n.kc(),n.gc(21,"vdr-dt-column"),n.gc(22,"vdr-dt-column"),n.Zc(23,Xt,23,20,"ng-template"),n.kc()),2&e&&(n.Tb(3),n.Ec("vdrIfPermissions",n.Hc(25,Jt)),n.Tb(1),n.Ec("items",n.zc(5,9,t.items$))("itemsPerPage",n.zc(6,11,t.itemsPerPage$))("totalItems",n.zc(7,13,t.totalItems$))("currentPage",n.zc(8,15,t.currentPage$)),n.Tb(6),n.cd(n.zc(11,17,"common.name")),n.Tb(3),n.cd(n.zc(14,19,"settings.tax-category")),n.Tb(3),n.cd(n.zc(17,21,"settings.zone")),n.Tb(3),n.cd(n.zc(20,23,"settings.tax-rate")))},directives:[i.c,i.f,i.d,i.qb,i.N,i.M,g.h,P.o,i.Tb,i.T,i.W,i.V,i.U],pipes:[z.b,I.d,i.ib],styles:[""],changeDetection:0}),Hc.ctorParameters=()=>[{type:i.Db},{type:i.Eb},{type:i.L},{type:g.e},{type:g.a}];class Bc{constructor(e,t,c){this.formBuilder=e,this.dataService=t,this.localStorageService=c,this.addressChange=new n.u}ngOnInit(){this.availableCountries$=this.dataService.settings.getAvailableCountries().mapSingle(e=>e.countries.items);const e=this.localStorageService.getForCurrentLocation("shippingTestAddress"),t=e||{city:"",countryCode:"",postalCode:"",province:""};this.addressChange.emit(t),this.form=this.formBuilder.group(t),this.subscription=this.form.valueChanges.subscribe(e=>{this.localStorageService.setForCurrentLocation("shippingTestAddress",e),this.addressChange.emit(e)})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}Bc.\u0275fac=function(e){return new(e||Bc)(n.fc(f.e),n.fc(i.L),n.fc(i.xb))},Bc.\u0275cmp=n.Zb({type:Bc,selectors:[["vdr-test-address-form"]],outputs:{addressChange:"addressChange"},decls:28,vars:19,consts:[[1,"card"],[1,"card-header"],[1,"card-block"],[3,"formGroup"],["formControlName","city","type","text","clrInput",""],["formControlName","province","type","text","clrInput",""],["formControlName","postalCode","type","text","clrInput",""],["name","countryCode","formControlName","countryCode","clrInput","","clrSelect",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(n.lc(0,"div",0),n.lc(1,"div",1),n.bd(2),n.yc(3,"translate"),n.kc(),n.lc(4,"div",2),n.lc(5,"form",3),n.lc(6,"clr-input-container"),n.lc(7,"label"),n.bd(8),n.yc(9,"translate"),n.kc(),n.gc(10,"input",4),n.kc(),n.lc(11,"clr-input-container"),n.lc(12,"label"),n.bd(13),n.yc(14,"translate"),n.kc(),n.gc(15,"input",5),n.kc(),n.lc(16,"clr-input-container"),n.lc(17,"label"),n.bd(18),n.yc(19,"translate"),n.kc(),n.gc(20,"input",6),n.kc(),n.lc(21,"clr-input-container"),n.lc(22,"label"),n.bd(23),n.yc(24,"translate"),n.kc(),n.lc(25,"select",7),n.Zc(26,ec,2,2,"option",8),n.yc(27,"async"),n.kc(),n.kc(),n.kc(),n.kc(),n.kc()),2&e&&(n.Tb(2),n.dd(" ",n.zc(3,7,"settings.test-address")," "),n.Tb(3),n.Ec("formGroup",t.form),n.Tb(3),n.cd(n.zc(9,9,"customer.city")),n.Tb(5),n.cd(n.zc(14,11,"customer.province")),n.Tb(5),n.cd(n.zc(19,13,"customer.postal-code")),n.Tb(5),n.cd(n.zc(24,15,"customer.country")),n.Tb(3),n.Ec("ngForOf",n.zc(27,17,t.availableCountries$)))},directives:[f.E,f.q,f.j,P.t,P.u,i.eb,f.b,f.p,f.h,P.s,f.A,P.A,z.n,f.u,f.D],pipes:[I.d,z.b],styles:["clr-input-container[_ngcontent-%COMP%]{margin-bottom:12px}"],changeDetection:0}),Bc.ctorParameters=()=>[{type:f.e},{type:i.L},{type:i.xb}],Bc.propDecorators={addressChange:[{type:n.P}]};class Qc{constructor(e,t){this.dataService=e,this.localStorageService=t,this.orderLinesChange=new n.u,this.lines=[]}get subTotal(){return this.lines.reduce((e,t)=>e+t.unitPriceWithTax*t.quantity,0)}ngOnInit(){this.lines=this.loadFromLocalStorage(),this.lines&&this.orderLinesChange.emit(this.lines),this.dataService.settings.getActiveChannel("cache-first").single$.subscribe(e=>{this.currencyCode=e.activeChannel.currencyCode})}selectResult(e){e&&this.addToLines(e)}addToLines(e){var t,c;this.lines.find(t=>t.id===e.productVariantId)||(this.lines.push({id:e.productVariantId,name:e.productVariantName,preview:null!==(c=null===(t=e.productAsset)||void 0===t?void 0:t.preview)&&void 0!==c?c:"",quantity:1,sku:e.sku,unitPriceWithTax:"SinglePrice"===e.priceWithTax.__typename&&e.priceWithTax.value||0}),this.persistToLocalStorage(),this.orderLinesChange.emit(this.lines))}updateQuantity(){this.persistToLocalStorage(),this.orderLinesChange.emit(this.lines)}removeLine(e){this.lines=this.lines.filter(t=>t.id!==e.id),this.persistToLocalStorage(),this.orderLinesChange.emit(this.lines)}persistToLocalStorage(){this.localStorageService.setForCurrentLocation("shippingTestOrder",this.lines)}loadFromLocalStorage(){return this.localStorageService.getForCurrentLocation("shippingTestOrder")||[]}}Qc.\u0275fac=function(e){return new(e||Qc)(n.fc(i.L),n.fc(i.xb))},Qc.\u0275cmp=n.Zb({type:Qc,selectors:[["vdr-test-order-builder"]],outputs:{orderLinesChange:"orderLinesChange"},decls:9,vars:5,consts:[[1,"card"],[1,"card-header"],["class","order-table table",4,"ngIf","ngIfElse"],["emptyPlaceholder",""],[1,"card-block"],[3,"productSelected"],[1,"order-table","table"],["class","order-line",4,"ngFor","ngForOf"],[1,"sub-total"],[1,"left"],[1,"order-line"],[1,"align-middle","thumb"],[3,"src"],[1,"align-middle","name"],[1,"align-middle","sku"],[1,"align-middle","unit-price"],[1,"align-middle","quantity"],["type","number","max","9999","min","1",3,"ngModel","ngModelChange","change"],[1,"icon-button",3,"click"],["shape","trash"],[1,"align-middle","total"],[1,"card-block","empty-placeholder"],[1,"empty-text"],["shape","arrow","dir","down","size","96"]],template:function(e,t){if(1&e&&(n.lc(0,"div",0),n.lc(1,"div",1),n.bd(2),n.yc(3,"translate"),n.kc(),n.Zc(4,cc,31,23,"table",2),n.Zc(5,nc,5,3,"ng-template",null,3,n.ad),n.lc(7,"div",4),n.lc(8,"vdr-product-selector",5),n.vc("productSelected",function(e){return t.selectResult(e)}),n.kc(),n.kc(),n.kc()),2&e){const e=n.Oc(6);n.Tb(2),n.dd(" ",n.zc(3,3,"settings.test-order")," "),n.Tb(2),n.Ec("ngIf",t.lines.length)("ngIfElse",e)}},directives:[z.o,i.Jb,z.n,i.eb,f.v,f.b,f.p,f.s,P.o,x.b],pipes:[I.d,i.zb],styles:[".empty-placeholder[_ngcontent-%COMP%]{color:var(--color-grey-400);text-align:center}.empty-text[_ngcontent-%COMP%]{font-size:22px}"],changeDetection:0}),Qc.ctorParameters=()=>[{type:i.L},{type:i.xb}],Qc.propDecorators={orderLinesChange:[{type:n.P}]};class Wc{cancel(){this.resolveWith()}save(){this.resolveWith(this.zone.name)}}Wc.\u0275fac=function(e){return new(e||Wc)},Wc.\u0275cmp=n.Zb({type:Wc,selectors:[["vdr-zone-detail-dialog"]],decls:6,vars:8,consts:[["vdrDialogTitle",""],["for","name",3,"label"],["id","name","type","text",3,"ngModel","readonly","ngModelChange"],["vdrDialogButtons",""],[4,"ngIf"],["type","button",1,"btn",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled","click"]],template:function(e,t){1&e&&(n.Zc(0,sc,2,2,"ng-template",0),n.lc(1,"vdr-form-field",1),n.yc(2,"translate"),n.lc(3,"input",2),n.vc("ngModelChange",function(e){return t.zone.name=e}),n.yc(4,"hasPermission"),n.kc(),n.kc(),n.Zc(5,lc,6,6,"ng-template",3)),2&e&&(n.Tb(1),n.Ec("label",n.zc(2,3,"common.name")),n.Tb(2),n.Ec("ngModel",t.zone.name)("readonly",!n.zc(4,5,n.Hc(7,dc))))},directives:[i.R,i.db,i.eb,f.b,f.p,f.s,i.Q,z.o],pipes:[I.d,i.ib],styles:[""],changeDetection:0});class Kc{constructor(e,t,c,n,i){this.dataService=e,this.notificationService=t,this.modalService=c,this.route=n,this.router=i,this.selectedMemberIds=[]}ngOnInit(){this.zones$=this.dataService.settings.getZones().mapStream(e=>e.zones);const e=this.route.paramMap.pipe(Object(r.a)(e=>e.get("contents")),Object(b.a)(),Object(d.a)(()=>this.selectedMemberIds=[]));this.activeZone$=Object(T.a)(this.zones$,e).pipe(Object(r.a)(([e,t])=>{if(t)return e.find(e=>e.id===t)}))}create(){this.modalService.fromComponent(Wc,{locals:{zone:{name:""}}}).pipe(Object(a.a)(e=>e?this.dataService.settings.createZone({name:e,memberIds:[]}):v.a),Object(a.a)(()=>this.dataService.settings.getZones().single$)).subscribe(()=>{this.notificationService.success(Object(h.a)("common.notify-create-success"),{entity:"Zone"})},e=>{this.notificationService.error(Object(h.a)("common.notify-create-error"),{entity:"Zone"})})}delete(e){this.modalService.dialog({title:Object(h.a)("catalog.confirm-delete-zone"),buttons:[{type:"secondary",label:Object(h.a)("common.cancel")},{type:"danger",label:Object(h.a)("common.delete"),returnValue:!0}]}).pipe(Object(a.a)(t=>t?this.dataService.settings.deleteZone(e):v.a),Object(a.a)(e=>e.deleteZone.result===i.P.DELETED?this.dataService.settings.getZones().mapSingle(()=>({errorMessage:!1})):Object(C.a)({errorMessage:e.deleteZone.message}))).subscribe(e=>{"string"==typeof e.errorMessage?this.notificationService.error(e.errorMessage):this.notificationService.success(Object(h.a)("common.notify-delete-success"),{entity:"Zone"})},e=>{this.notificationService.error(Object(h.a)("common.notify-delete-error"),{entity:"Zone"})})}update(e){this.modalService.fromComponent(Wc,{locals:{zone:e}}).pipe(Object(a.a)(t=>t?this.dataService.settings.updateZone({id:e.id,name:t}):v.a)).subscribe(()=>{this.notificationService.success(Object(h.a)("common.notify-update-success"),{entity:"Zone"})},e=>{this.notificationService.error(Object(h.a)("common.notify-update-error"),{entity:"Zone"})})}closeMembers(){const e=Object.assign({},this.route.snapshot.params);delete e.contents,this.router.navigate(["./",e],{relativeTo:this.route,queryParamsHandling:"preserve"})}addToZone(e){this.modalService.fromComponent(Ec,{locals:{zoneName:e.name,currentMembers:e.members},size:"md"}).pipe(Object(a.a)(t=>t?this.dataService.settings.addMembersToZone(e.id,t).pipe(Object(p.a)(t)):v.a)).subscribe({next:t=>{this.notificationService.success(Object(h.a)("settings.add-countries-to-zone-success"),{countryCount:t.length,zoneName:e.name})},error:e=>{this.notificationService.error(e)}})}removeFromZone(e,t){this.dataService.settings.removeMembersFromZone(e.id,t).subscribe({complete:()=>{this.notificationService.success(Object(h.a)("settings.remove-countries-from-zone-success"),{countryCount:t.length,zoneName:e.name})}})}}Kc.\u0275fac=function(e){return new(e||Kc)(n.fc(i.L),n.fc(i.Eb),n.fc(i.Db),n.fc(g.a),n.fc(g.e))},Kc.\u0275cmp=n.Zb({type:Kc,selectors:[["vdr-zone-list"]],decls:14,vars:12,consts:[["locationId","zone-list"],["class","btn btn-primary",3,"click",4,"vdrIfPermissions"],[1,"zone-wrapper"],[1,"table","zone-list"],[3,"active",4,"ngFor","ngForOf"],[1,"zone-members"],[4,"ngIf"],[1,"btn","btn-primary",3,"click"],["shape","plus"],[1,"left","align-middle"],[3,"entity"],[3,"colorFrom"],[1,"text-right","align-middle"],["queryParamsHandling","preserve",1,"btn","btn-link","btn-sm",3,"routerLink"],["shape","view-list"],[1,"align-middle"],[1,"btn","btn-link","btn-sm",3,"click"],["shape","edit"],["type","button","vdrDropdownTrigger","",1,"btn","btn-link","btn-sm"],["shape","caret down"],["vdrPosition","bottom-right"],["vdrDropdownItem","",1,"button",3,"disabled","click"],["shape","trash",1,"is-danger"],[3,"members","selectedMemberIds","selectionChange"],[4,"vdrZoneMemberListHeader"],[4,"vdrZoneMemberControls"],[1,"flex"],[1,"header-title-row"],[1,"flex-spacer"],["type","button",1,"close-button",3,"click"],["shape","close"],[1,"controls"],["type","button","vdrDropdownTrigger","",1,"btn","btn-secondary","btn-sm",3,"disabled"],["type","button","vdrDropdownItem","",1,"delete-button",3,"disabled","click"],[1,"btn","btn-secondary","btn-sm",3,"click"],["type","button","vdrDropdownItem","",3,"routerLink"]],template:function(e,t){1&e&&(n.lc(0,"vdr-action-bar"),n.gc(1,"vdr-ab-left"),n.lc(2,"vdr-ab-right"),n.gc(3,"vdr-action-bar-items",0),n.Zc(4,mc,4,3,"button",1),n.kc(),n.kc(),n.lc(5,"div",2),n.lc(6,"table",3),n.lc(7,"tbody"),n.Zc(8,bc,29,28,"tr",4),n.yc(9,"async"),n.kc(),n.kc(),n.lc(10,"div",5),n.yc(11,"async"),n.Zc(12,hc,4,2,"ng-container",6),n.yc(13,"async"),n.kc(),n.kc()),2&e&&(n.Tb(4),n.Ec("vdrIfPermissions",n.Hc(11,yc)),n.Tb(4),n.Ec("ngForOf",n.zc(9,5,t.zones$)),n.Tb(2),n.Xb("expanded",n.zc(11,7,t.activeZone$)),n.Tb(2),n.Ec("ngIf",n.zc(13,9,t.activeZone$)))},directives:function(){return[i.c,i.e,i.f,i.d,i.qb,z.n,z.o,P.o,i.ab,i.D,g.h,i.T,i.W,i.V,i.U,Jc,Xc,Yc]},pipes:function(){return[z.b,I.d,i.ib]},styles:[".zone-wrapper[_ngcontent-%COMP%]{display:flex;height:calc(100% - 50px)}.zone-wrapper[_ngcontent-%COMP%]   .zone-list[_ngcontent-%COMP%]{flex:1;overflow:auto;margin-top:0}.zone-wrapper[_ngcontent-%COMP%]   .zone-list[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]{background-color:var(--color-component-bg-200)}.zone-members[_ngcontent-%COMP%]{height:100%;width:0;opacity:0;visibility:hidden;overflow:auto;transition:width .3s,opacity .2s .3s,visibility 0s .3s}.zone-members.expanded[_ngcontent-%COMP%]{width:40vw;visibility:visible;opacity:1;padding-left:12px}.zone-members[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{margin:0;background:none;border:none;cursor:pointer}.zone-members[_ngcontent-%COMP%]     table.table{margin-top:0}.zone-members[_ngcontent-%COMP%]     table.table th{top:0}.zone-members[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"],changeDetection:0}),Kc.ctorParameters=()=>[{type:i.L},{type:i.Eb},{type:i.Db},{type:g.a},{type:g.e}];class Yc{constructor(e){this.templateRef=e}}Yc.\u0275fac=function(e){return new(e||Yc)(n.fc(n.bb))},Yc.\u0275dir=n.ac({type:Yc,selectors:[["","vdrZoneMemberControls",""]]}),Yc.ctorParameters=()=>[{type:n.bb}];class Xc{constructor(e){this.templateRef=e}}Xc.\u0275fac=function(e){return new(e||Xc)(n.fc(n.bb))},Xc.\u0275dir=n.ac({type:Xc,selectors:[["","vdrZoneMemberListHeader",""]]}),Xc.ctorParameters=()=>[{type:n.bb}];class Jc{constructor(){this.members=[],this.selectedMemberIds=[],this.selectionChange=new n.u,this.filterTerm="",this.isMemberSelected=e=>-1<this.selectedMemberIds.indexOf(e.id)}filteredMembers(){if(""!==this.filterTerm){const e=this.filterTerm.toLocaleLowerCase();return this.members.filter(t=>t.name.toLocaleLowerCase().includes(e)||t.code.toLocaleLowerCase().includes(e))}return this.members}areAllSelected(){return!!this.members&&this.selectedMemberIds.length===this.members.length}toggleSelectAll(){this.areAllSelected()?this.selectionChange.emit([]):this.selectionChange.emit(this.members.map(e=>e.id))}toggleSelectMember(e){this.selectedMemberIds.includes(e.id)?this.selectionChange.emit(this.selectedMemberIds.filter(t=>t!==e.id)):this.selectionChange.emit([...this.selectedMemberIds,e.id])}}Jc.\u0275fac=function(e){return new(e||Jc)},Jc.\u0275cmp=n.Zb({type:Jc,selectors:[["vdr-zone-member-list"]],contentQueries:function(e,t,c){if(1&e&&(n.Yb(c,Xc,1),n.Yb(c,Yc,1)),2&e){let e;n.Nc(e=n.wc())&&(t.headerTemplate=e.first),n.Nc(e=n.wc())&&(t.controlsTemplate=e.first)}},inputs:{members:"members",selectedMemberIds:"selectedMemberIds"},outputs:{selectionChange:"selectionChange"},decls:17,vars:20,consts:[[1,"members-header"],[4,"ngIf"],["type","text",3,"placeholder","ngModel","ngModelChange"],[3,"items","allSelected","isRowSelectedFn","rowSelectChange","allSelectChange"],[4,"ngTemplateOutlet"],[1,"left","align-middle"],[1,"right","align-middle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(n.lc(0,"div",0),n.Zc(1,kc,2,1,"ng-container",1),n.lc(2,"input",2),n.vc("ngModelChange",function(e){return t.filterTerm=e}),n.yc(3,"translate"),n.kc(),n.kc(),n.lc(4,"vdr-data-table",3),n.vc("rowSelectChange",function(e){return t.toggleSelectMember(e)})("allSelectChange",function(){return t.toggleSelectAll()}),n.yc(5,"hasPermission"),n.lc(6,"vdr-dt-column"),n.bd(7),n.yc(8,"translate"),n.kc(),n.lc(9,"vdr-dt-column"),n.bd(10),n.yc(11,"translate"),n.kc(),n.lc(12,"vdr-dt-column"),n.bd(13),n.yc(14,"translate"),n.kc(),n.gc(15,"vdr-dt-column"),n.Zc(16,Sc,8,6,"ng-template"),n.kc()),2&e&&(n.Tb(1),n.Ec("ngIf",t.headerTemplate),n.Tb(1),n.Ec("placeholder",n.zc(3,9,"settings.filter-by-member-name"))("ngModel",t.filterTerm),n.Tb(2),n.Ec("items",t.filteredMembers())("allSelected",t.areAllSelected())("isRowSelectedFn",n.zc(5,11,n.Hc(19,dc))&&t.isMemberSelected),n.Tb(3),n.cd(n.zc(8,13,"common.code")),n.Tb(3),n.cd(n.zc(11,15,"common.name")),n.Tb(3),n.cd(n.zc(14,17,"common.enabled")))},directives:[z.o,i.eb,f.b,f.p,f.s,i.N,i.M,z.t,P.o],pipes:[I.d,i.ib],styles:[".members-header[_ngcontent-%COMP%]{background-color:var(--color-component-bg-100);position:sticky;top:0;padding:6px;z-index:5;border-bottom:1px solid var(--color-component-border-200)}.members-header[_ngcontent-%COMP%]   .header-title-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.members-header[_ngcontent-%COMP%]   .clr-input[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),Jc.propDecorators={members:[{type:n.E}],selectedMemberIds:[{type:n.E}],selectionChange:[{type:n.P}],headerTemplate:[{type:n.o,args:[Xc]}],controlsTemplate:[{type:n.o,args:[Yc]}]};class en extends i.x{constructor(e,t){super(e,{__typename:"Administrator",id:"",createdAt:"",updatedAt:"",emailAddress:"",firstName:"",lastName:"",user:{roles:[]}},e=>t.administrator.getAdministrator(e).mapStream(e=>e.administrator))}}en.\u0275fac=function(e){return new(e||en)(n.sc(g.e),n.sc(i.L))},en.\u0275prov=Object(n.bc)({factory:function(){return new en(Object(n.sc)(g.e),Object(n.sc)(i.L))},token:en,providedIn:"root"}),en.ctorParameters=()=>[{type:g.e},{type:i.L}];class tn extends i.x{constructor(e,t){super(e,{__typename:"Channel",id:"",createdAt:"",updatedAt:"",code:"",token:"",pricesIncludeTax:!1,currencyCode:i.G.USD,defaultLanguageCode:Object(i.jc)(),defaultShippingZone:{},defaultTaxZone:{}},e=>t.settings.getChannel(e).mapStream(e=>e.channel))}}tn.\u0275fac=function(e){return new(e||tn)(n.sc(g.e),n.sc(i.L))},tn.\u0275prov=Object(n.bc)({factory:function(){return new tn(Object(n.sc)(g.e),Object(n.sc)(i.L))},token:tn,providedIn:"root"}),tn.ctorParameters=()=>[{type:g.e},{type:i.L}];class cn extends i.x{constructor(e,t){super(e,{__typename:"Country",id:"",createdAt:"",updatedAt:"",code:"",name:"",enabled:!1,translations:[]},e=>t.settings.getCountry(e).mapStream(e=>e.country))}}cn.\u0275fac=function(e){return new(e||cn)(n.sc(g.e),n.sc(i.L))},cn.\u0275prov=Object(n.bc)({factory:function(){return new cn(Object(n.sc)(g.e),Object(n.sc)(i.L))},token:cn,providedIn:"root"}),cn.ctorParameters=()=>[{type:g.e},{type:i.L}];class nn extends i.x{constructor(e,t){super(e,{},()=>t.settings.getGlobalSettings().mapStream(e=>e.globalSettings))}}nn.\u0275fac=function(e){return new(e||nn)(n.sc(g.e),n.sc(i.L))},nn.\u0275prov=Object(n.bc)({factory:function(){return new nn(Object(n.sc)(g.e),Object(n.sc)(i.L))},token:nn,providedIn:"root"}),nn.ctorParameters=()=>[{type:g.e},{type:i.L}];class rn extends i.x{constructor(e,t){super(e,{__typename:"PaymentMethod",id:"",createdAt:"",updatedAt:"",name:"",code:"",description:"",enabled:!0,checker:void 0,handler:void 0},e=>t.settings.getPaymentMethod(e).mapStream(e=>e.paymentMethod))}}rn.\u0275fac=function(e){return new(e||rn)(n.sc(g.e),n.sc(i.L))},rn.\u0275prov=Object(n.bc)({factory:function(){return new rn(Object(n.sc)(g.e),Object(n.sc)(i.L))},token:rn,providedIn:"root"}),rn.ctorParameters=()=>[{type:g.e},{type:i.L}];class sn extends i.x{constructor(e,t){super(e,{__typename:"Administrator",id:"",createdAt:"",updatedAt:"",emailAddress:"",firstName:"",lastName:"",user:{roles:[]}},e=>t.administrator.getActiveAdministrator().mapStream(e=>e.activeAdministrator))}}sn.\u0275fac=function(e){return new(e||sn)(n.sc(g.e),n.sc(i.L))},sn.\u0275prov=Object(n.bc)({factory:function(){return new sn(Object(n.sc)(g.e),Object(n.sc)(i.L))},token:sn,providedIn:"root"}),sn.ctorParameters=()=>[{type:g.e},{type:i.L}];class on extends i.x{constructor(e,t){super(e,{__typename:"Role",id:"",createdAt:"",updatedAt:"",code:"",description:"",permissions:[],channels:[]},e=>t.administrator.getRole(e).mapStream(e=>e.role))}}on.\u0275fac=function(e){return new(e||on)(n.sc(g.e),n.sc(i.L))},on.\u0275prov=Object(n.bc)({factory:function(){return new on(Object(n.sc)(g.e),Object(n.sc)(i.L))},token:on,providedIn:"root"}),on.ctorParameters=()=>[{type:g.e},{type:i.L}];class an extends i.x{constructor(e,t){super(e,{__typename:"ShippingMethod",createdAt:"",updatedAt:"",id:"",code:"",name:"",description:"",fulfillmentHandlerCode:void 0,checker:void 0,calculator:void 0,translations:[]},e=>t.shippingMethod.getShippingMethod(e).mapStream(e=>e.shippingMethod))}}an.\u0275fac=function(e){return new(e||an)(n.sc(g.e),n.sc(i.L))},an.\u0275prov=Object(n.bc)({factory:function(){return new an(Object(n.sc)(g.e),Object(n.sc)(i.L))},token:an,providedIn:"root"}),an.ctorParameters=()=>[{type:g.e},{type:i.L}];class ln extends i.x{constructor(e,t){super(e,{__typename:"TaxCategory",id:"",createdAt:"",updatedAt:"",name:"",isDefault:!1},e=>t.settings.getTaxCategory(e).mapStream(e=>e.taxCategory))}}ln.\u0275fac=function(e){return new(e||ln)(n.sc(g.e),n.sc(i.L))},ln.\u0275prov=Object(n.bc)({factory:function(){return new ln(Object(n.sc)(g.e),Object(n.sc)(i.L))},token:ln,providedIn:"root"}),ln.ctorParameters=()=>[{type:g.e},{type:i.L}];class dn extends i.x{constructor(e,t){super(e,{__typename:"TaxRate",id:"",createdAt:"",updatedAt:"",name:"",value:0,enabled:!0,category:{},zone:{},customerGroup:null},e=>t.settings.getTaxRate(e).mapStream(e=>e.taxRate))}}dn.\u0275fac=function(e){return new(e||dn)(n.sc(g.e),n.sc(i.L))},dn.\u0275prov=Object(n.bc)({factory:function(){return new dn(Object(n.sc)(g.e),Object(n.sc)(i.L))},token:dn,providedIn:"root"}),dn.ctorParameters=()=>[{type:g.e},{type:i.L}];const mn={breadcrumb:Object(h.a)("breadcrumb.profile")},un={breadcrumb:Object(h.a)("breadcrumb.administrators")},bn={breadcrumb:Dn},pn={breadcrumb:Object(h.a)("breadcrumb.channels")},fn={breadcrumb:jn},gn={breadcrumb:Object(h.a)("breadcrumb.roles")},hn={breadcrumb:wn},yn={breadcrumb:Object(h.a)("breadcrumb.tax-categories")},vn={breadcrumb:Ln},kn={breadcrumb:Object(h.a)("breadcrumb.tax-rates")},Tn={breadcrumb:Mn},Cn={breadcrumb:Object(h.a)("breadcrumb.countries")},On={breadcrumb:Zn},Sn={breadcrumb:Object(h.a)("breadcrumb.zones")},En={breadcrumb:Object(h.a)("breadcrumb.shipping-methods")},zn={breadcrumb:An},In={breadcrumb:Object(h.a)("breadcrumb.payment-methods")},Pn={breadcrumb:$n},Fn={breadcrumb:Object(h.a)("breadcrumb.global-settings")},xn=[{path:"profile",component:Zc,resolve:Object(i.ac)(sn),canDeactivate:[i.z],data:mn},{path:"administrators",component:Ic,data:un},{path:"administrators/:id",component:zc,resolve:Object(i.ac)(en),canDeactivate:[i.z],data:bn},{path:"channels",component:Fc,data:pn},{path:"channels/:id",component:Pc,resolve:Object(i.ac)(tn),canDeactivate:[i.z],data:fn},{path:"roles",component:$c,data:gn},{path:"roles/:id",component:Ac,resolve:Object(i.ac)(on),canDeactivate:[i.z],data:hn},{path:"tax-categories",component:Gc,data:yn},{path:"tax-categories/:id",component:Uc,resolve:Object(i.ac)(ln),canDeactivate:[i.z],data:vn},{path:"tax-rates",component:Hc,data:kn},{path:"tax-rates/:id",component:Vc,resolve:Object(i.ac)(dn),canDeactivate:[i.z],data:Tn},{path:"countries",component:Dc,data:Cn},{path:"countries/:id",component:xc,resolve:Object(i.ac)(cn),canDeactivate:[i.z],data:On},{path:"zones",component:Kc,data:Sn},{path:"shipping-methods",component:_c,data:En},{path:"shipping-methods/:id",component:Rc,resolve:Object(i.ac)(an),canDeactivate:[i.z],data:zn},{path:"payment-methods",component:Lc,data:In},{path:"payment-methods/:id",component:wc,resolve:Object(i.ac)(rn),canDeactivate:[i.z],data:Pn},{path:"global-settings",component:jc,resolve:Object(i.ac)(nn),canDeactivate:[i.z],data:Fn}];function Dn(e,t){return Object(i.cc)({entity:e.entity,id:t.id,breadcrumbKey:"breadcrumb.administrators",getName:e=>`${e.firstName} ${e.lastName}`,route:"administrators"})}function jn(e,t){return Object(i.cc)({entity:e.entity,id:t.id,breadcrumbKey:"breadcrumb.channels",getName:e=>e.code,route:"channels"})}function wn(e,t){return Object(i.cc)({entity:e.entity,id:t.id,breadcrumbKey:"breadcrumb.roles",getName:e=>e.description,route:"roles"})}function Ln(e,t){return Object(i.cc)({entity:e.entity,id:t.id,breadcrumbKey:"breadcrumb.tax-categories",getName:e=>e.name,route:"tax-categories"})}function Mn(e,t){return Object(i.cc)({entity:e.entity,id:t.id,breadcrumbKey:"breadcrumb.tax-rates",getName:e=>e.name,route:"tax-rates"})}function Zn(e,t){return Object(i.cc)({entity:e.entity,id:t.id,breadcrumbKey:"breadcrumb.countries",getName:e=>e.name,route:"countries"})}function An(e,t){return Object(i.cc)({entity:e.entity,id:t.id,breadcrumbKey:"breadcrumb.shipping-methods",getName:e=>e.name,route:"shipping-methods"})}function $n(e,t){return Object(i.cc)({entity:e.entity,id:t.id,breadcrumbKey:"breadcrumb.payment-methods",getName:e=>e.code,route:"payment-methods"})}class Nn{}Nn.\u0275fac=function(e){return new(e||Nn)},Nn.\u0275mod=n.dc({type:Nn}),Nn.\u0275inj=n.cc({imports:[[i.Nb,g.i.forChild(xn)]]})}}]);
//# sourceMappingURL=12-es2015.81998a49667c3d1614bf.js.map