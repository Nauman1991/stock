{"version":3,"sources":["webpack:///common/src/normalize-string.ts","webpack:///common/src/unique.ts","webpack:///node_modules/rxjs/_esm2015/internal/operators/withLatestFrom.js"],"names":["input","spaceReplacer","normalize","replace","toLowerCase","arr","byKey","filter","item","index","self","findIndex","i","withLatestFrom","args","source","project","length","pop","observables","lift","WithLatestFromOperator","this","subscriber","subscribe","WithLatestFromSubscriber","destination","super","toRespond","len","values","Array","push","observable","add","_outerValue","innerValue","outerIndex","found","indexOf","splice","value","_tryProject","next","result","apply","err","error"],"mappings":"+hEAKA,2BAAgCA,GAA+B,IAAhBC,EAAgB,2DAC3D,OAAQD,GAAS,IACZE,UAAU,OACVC,QAAQ,mBAAoB,IAC5BC,cACAD,QAAQ,yDAA0C,IAClDA,QAAQ,OAAQF,K,mGCNzB,kBAA0BI,EAAUC,GAChC,OAAOD,EAAIE,OAAO,SAACC,EAAMC,EAAOC,GAAd,OAEVD,IACAC,EAAKC,UAAUC,YAAC,YAADA,IACPN,EACOM,IAAMJ,EAENI,EAAEN,KAAWE,EAAKF,S,kCCb7C,4DAEO,SAASO,IAAuB,2BAALC,EAAK,yBAALA,EAAK,gBACnC,OAAQC,YACJ,IAAIC,EACiC,mBAA1BF,EAAKA,EAAKG,OAAS,KAC1BD,EAAUF,EAAKI,OAEnB,IAAMC,EAAcL,EACpB,OAAOC,EAAOK,KAAK,IAAIC,EAAuBF,EAAaH,K,IAG7DK,E,WACF,WAAYF,EAAaH,GAAQ,UAC7BM,KAAKH,YAAcA,EACnBG,KAAKN,QAAUA,E,8BAEnB,SAAKO,EAAYR,GACb,OAAOA,EAAOS,UAAU,IAAIC,EAAyBF,EAAYD,KAAKH,YAAaG,KAAKN,c,KAG1FS,E,gQACF,WAAYC,EAAaP,EAAaH,GAAQ,iBAC1CW,cAAMD,IACDP,YAAcA,EACnBG,EAAKN,QAAUA,EACfM,EAAKM,UAAY,GACjB,IAAMC,EAAMV,EAAYF,OACxBK,EAAKQ,OAAS,IAAIC,MAAMF,GACxB,IAAK,IAAIjB,EAAI,EAAGA,EAAIiB,EAAKjB,IACrBU,EAAKM,UAAUI,KAAKpB,GAExB,IAAK,IAAIA,EAAI,EAAGA,EAAIiB,EAAKjB,IAAK,CAC1B,IAAIqB,EAAad,EAAYP,GAC7BU,EAAKY,IAAI,iBAAwBD,OAAW,EAAYrB,IAZlB,S,oCAe9C,SAAWuB,EAAaC,EAAYC,GAChCf,KAAKQ,OAAOO,GAAcD,EAC1B,IAAMR,EAAYN,KAAKM,UACvB,GAAIA,EAAUX,OAAS,EAAG,CACtB,IAAMqB,EAAQV,EAAUW,QAAQF,IACjB,IAAXC,GACAV,EAAUY,OAAOF,EAAO,M,4BAIpC,c,mBAEA,SAAMG,GACF,GAA8B,IAA1BnB,KAAKM,UAAUX,OAAc,CAC7B,IAAMH,EAAI,CAAI2B,GAAJ,SAAcnB,KAAKQ,SACzBR,KAAKN,QACLM,KAAKoB,YAAY5B,GAGjBQ,KAAKI,YAAYiB,KAAK7B,M,yBAIlC,SAAYA,GACR,IAAI8B,EACJ,IACIA,EAAStB,KAAKN,QAAQ6B,MAAMvB,KAAMR,GAEtC,MAAOgC,GAEH,YADAxB,KAAKI,YAAYqB,MAAMD,GAG3BxB,KAAKI,YAAYiB,KAAKC,O,GAhDS,S","file":"x","sourcesContent":["/**\n * Normalizes a string to replace non-alphanumeric and diacritical marks with\n * plain equivalents.\n * Based on https://stackoverflow.com/a/37511463/772859\n */\nexport function normalizeString(input: string, spaceReplacer = ' '): string {\n    return (input || '')\n        .normalize('NFD')\n        .replace(/[\\u0300-\\u036f]/g, '')\n        .toLowerCase()\n        .replace(/[!\"£$%^&*()+[\\]{};:@#~?\\\\/,|><`¬'=‘’]/g, '')\n        .replace(/\\s+/g, spaceReplacer);\n}\n","/**\r\n * Returns an array with only unique values. Objects are compared by reference,\r\n * unless the `byKey` argument is supplied, in which case matching properties will\r\n * be used to check duplicates\r\n */\r\nexport function unique<T>(arr: T[], byKey?: keyof T): T[] {\r\n    return arr.filter((item, index, self) => {\r\n        return (\r\n            index ===\r\n            self.findIndex(i => {\r\n                if (byKey === undefined) {\r\n                    return i === item;\r\n                } else {\r\n                    return i[byKey] === item[byKey];\r\n                }\r\n            })\r\n        );\r\n    });\r\n}\r\n","import { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport function withLatestFrom(...args) {\n    return (source) => {\n        let project;\n        if (typeof args[args.length - 1] === 'function') {\n            project = args.pop();\n        }\n        const observables = args;\n        return source.lift(new WithLatestFromOperator(observables, project));\n    };\n}\nclass WithLatestFromOperator {\n    constructor(observables, project) {\n        this.observables = observables;\n        this.project = project;\n    }\n    call(subscriber, source) {\n        return source.subscribe(new WithLatestFromSubscriber(subscriber, this.observables, this.project));\n    }\n}\nclass WithLatestFromSubscriber extends OuterSubscriber {\n    constructor(destination, observables, project) {\n        super(destination);\n        this.observables = observables;\n        this.project = project;\n        this.toRespond = [];\n        const len = observables.length;\n        this.values = new Array(len);\n        for (let i = 0; i < len; i++) {\n            this.toRespond.push(i);\n        }\n        for (let i = 0; i < len; i++) {\n            let observable = observables[i];\n            this.add(subscribeToResult(this, observable, undefined, i));\n        }\n    }\n    notifyNext(_outerValue, innerValue, outerIndex) {\n        this.values[outerIndex] = innerValue;\n        const toRespond = this.toRespond;\n        if (toRespond.length > 0) {\n            const found = toRespond.indexOf(outerIndex);\n            if (found !== -1) {\n                toRespond.splice(found, 1);\n            }\n        }\n    }\n    notifyComplete() {\n    }\n    _next(value) {\n        if (this.toRespond.length === 0) {\n            const args = [value, ...this.values];\n            if (this.project) {\n                this._tryProject(args);\n            }\n            else {\n                this.destination.next(args);\n            }\n        }\n    }\n    _tryProject(args) {\n        let result;\n        try {\n            result = this.project.apply(this, args);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    }\n}\n//# sourceMappingURL=withLatestFrom.js.map"]}